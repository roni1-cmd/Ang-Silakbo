<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANG SILAKBO - Admin Portal</title>
    <link rel="icon" href="SILAKBO (1).png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Merriweather:wght@300;400;700&family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variables */
        :root {
            --primary: #e65100;
            --primary-light: #ff833a;
            --primary-dark: #ac1900;
            --secondary: #ff9e80;
            --secondary-light: #ffd0b0;
            --secondary-dark: #c96f53;
            
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --info: #2196f3;
            
            --background: rgba(250, 250, 250, 0.9);
            --surface: rgba(255, 255, 255, 0.7);
            --surface-hover: rgba(255, 255, 255, 0.85);
            --surface-active: rgba(255, 255, 255, 0.95);
            
            --text-primary: #212121;
            --text-secondary: #616161;
            --text-tertiary: #9e9e9e;
            
            --border: rgba(255, 255, 255, 0.3);
            --shadow: rgba(0, 0, 0, 0.05);
            --shadow-hover: rgba(0, 0, 0, 0.1);
            
            --radius-sm: 12px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --radius-xl: 32px;
            
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            
            --transition: 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            
            --header-height: 70px;
            --content-max-width: 1400px;

            --font-title: 'Poppins', sans-serif;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Poppins', sans-serif;
            --font-accent: 'Merriweather', serif;
            --font-secondary: 'Source Sans Pro', sans-serif;
        }

        /* Dark Mode */
        .dark {
            --primary: #ff833a;
            --primary-light: #ffb74d;
            --primary-dark: #e65100;
            
            --background: rgba(18, 18, 18, 0.9);
            --surface: rgba(30, 30, 30, 0.7);
            --surface-hover: rgba(45, 45, 45, 0.85);
            --surface-active: rgba(61, 61, 61, 0.95);
            
            --text-primary: #f5f5f5;
            --text-secondary: #e0e0e0;
            --text-tertiary: #9e9e9e;
            
            --border: rgba(255, 255, 255, 0.1);
            --shadow: rgba(0, 0, 0, 0.2);
            --shadow-hover: rgba(0, 0, 0, 0.3);
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-image: url('https://images.unsplash.com/photo-1557682250-33bd709cbe85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2429&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-color: var(--background);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.5;
            font-family: var(--font-body);
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--background);
            backdrop-filter: blur(10px);
            z-index: -1;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            cursor: pointer;
            background: none;
            border: none;
            font-family: inherit;
            font-size: inherit;
            color: inherit;
        }

        ul {
            list-style: none;
        }

        /* Page Transitions */
        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary);
            z-index: 9999;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.76, 0, 0.24, 1);
        }

        .page-transition.active {
            transform: translateY(0);
        }

        .page-transition.exit {
            transform: translateY(-100%);
        }

        /* Layout */
        .app-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header */
        .header {
            height: var(--header-height);
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            margin: 15px;
            border-radius: var(--radius-xl);
        }

        .header-container {
            max-width: var(--content-max-width);
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
            font-family: var(--font-title);
            letter-spacing: 1px;
        }

        .logo img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
        }

        .nav-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--text-primary);
            cursor: pointer;
        }

        .main-nav {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-xl);
            color: var(--text-secondary);
            font-weight: 500;
            transition: all var(--transition);
            font-family: var(--font-body);
        }

        .nav-link:hover {
            color: var(--primary);
            background-color: var(--surface-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(230, 81, 0, 0.1);
        }

        .nav-link.active {
            color: white;
            background-color: var(--primary);
            box-shadow: 0 10px 20px rgba(230, 81, 0, 0.2);
        }

        .nav-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 240px;
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: var(--radius-lg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border);
            padding: var(--spacing-sm) 0;
            display: none;
            z-index: 10;
            animation: fadeInDown 0.3s ease;
        }

        .nav-item:hover .nav-dropdown {
            display: block;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--text-secondary);
            transition: all var(--transition);
            font-family: var(--font-body);
        }

        .dropdown-item:hover {
            background-color: var(--surface-hover);
            color: var(--primary);
            transform: translateX(5px);
        }

        .dropdown-divider {
            height: 1px;
            background-color: var(--border);
            margin: var(--spacing-xs) 0;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .action-buttons {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .action-btn {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--surface);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            transition: all var(--transition);
            position: relative;
            font-size: 1rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .action-btn:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(230, 81, 0, 0.2);
        }

        .theme-toggle-btn {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--surface);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            transition: all var(--transition);
            position: relative;
            font-size: 1rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .theme-toggle-btn:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-3px) rotate(15deg);
            box-shadow: 0 10px 20px rgba(230, 81, 0, 0.2);
        }

        .theme-toggle-btn i {
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .theme-toggle-btn:hover i {
            transform: rotate(360deg);
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--danger);
            color: white;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            border: 2px solid var(--surface);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            cursor: pointer;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-xl);
            transition: all var(--transition);
            background-color: var(--surface);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border);
        }

        .user-menu:hover {
            background-color: var(--surface-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }

        .user-menu img {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
        }

        .user-menu-info {
            display: none;
        }

        @media (min-width: 768px) {
            .user-menu-info {
                display: flex;
                flex-direction: column;
            }
        }

        .user-menu-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-primary);
            font-family: var(--font-title);
        }

        .user-menu-role {
            font-size: 0.75rem;
            color: var(--text-secondary);
            font-family: var(--font-body);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: var(--spacing-lg);
            max-width: var(--content-max-width);
            margin: 0 auto;
            width: 100%;
        }

        .page-header {
            margin-bottom: var(--spacing-xl);
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
            font-family: var(--font-heading);
            letter-spacing: -0.5px;
        }

        .page-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-family: var(--font-accent);
            font-weight: 300;
        }

        /* Cards */
        .card {
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: var(--radius-xl);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: all var(--transition);
            border: 1px solid var(--border);
        }

        .card:hover {
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            transform: translateY(-5px);
        }

        .card-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            font-family: var(--font-heading);
        }

        .card-content {
            padding: var(--spacing-lg);
        }

        .card-footer {
            padding: var(--spacing-md) var(--spacing-lg);
            border-top: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .stat-card {
            padding: var(--spacing-lg);
            display: flex;
            flex-direction: column;
            border-radius: var(--radius-xl);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }

        .stat-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: var(--spacing-md);
        }

        .stat-icon {
            width: 56px;
            height: 56px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1);
        }

        .stat-icon-primary {
            background-color: rgba(230, 81, 0, 0.1);
            color: var(--primary);
            border: 1px solid rgba(230, 81, 0, 0.2);
        }

        .stat-icon-success {
            background-color: rgba(76, 175, 80, 0.1);
            color: var(--success);
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .stat-icon-warning {
            background-color: rgba(255, 152, 0, 0.1);
            color: var(--warning);
            border: 1px solid rgba(255, 152, 0, 0.2);
        }

        .stat-icon-info {
            background-color: rgba(33, 150, 243, 0.1);
            color: var(--info);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: 0.85rem;
            font-weight: 600;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-lg);
            font-family: var(--font-body);
        }

        .trend-up {
            background-color: rgba(76, 175, 80, 0.1);
            color: var(--success);
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .trend-down {
            background-color: rgba(244, 67, 54, 0.1);
            color: var(--danger);
            border: 1px solid rgba(244, 67, 54, 0.2);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
            font-family: var(--font-heading);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
            font-family: var(--font-body);
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--spacing-lg);
        }

        .chart-section {
            grid-column: span 8;
            margin-bottom: var(--spacing-xl);
            display: flex;
            flex-direction: column;
        }

        .activity-section {
            grid-column: span 6;
            margin-bottom: var(--spacing-xl);
        }

        .tasks-section {
            grid-column: span 6;
            margin-bottom: var(--spacing-xl);
        }

        /* Chart Tabs */
        .chart-tabs {
            display: flex;
            gap: var(--spacing-xs);
        }

        .chart-tab {
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-xl);
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition);
            background-color: var(--surface);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            font-family: var(--font-body);
        }

        .chart-tab.active, .chart-tab:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(230, 81, 0, 0.2);
            border-color: var(--primary);
        }

        .chart-container {
            padding: var(--spacing-md);
            height: 300px;
            position: relative;
        }

        /* Activity List */
        .activity-list {
            list-style: none;
        }

        .activity-item {
            display: flex;
            gap: var(--spacing-md);
            padding: var(--spacing-md) 0;
            border-bottom: 1px solid var(--border);
            animation: fadeIn 0.5s ease;
            transition: all 0.3s ease;
        }

        .activity-item:hover {
            transform: translateX(5px);
            background-color: var(--surface-hover);
            border-radius: var(--radius-lg);
            padding-left: var(--spacing-md);
            padding-right: var(--spacing-md);
        }

        .activity-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .activity-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .activity-item:hover .activity-icon {
            transform: scale(1.1);
        }

        .activity-icon-primary {
            background-color: rgba(230, 81, 0, 0.1);
            color: var(--primary);
            border: 1px solid rgba(230, 81, 0, 0.2);
        }

        .activity-icon-success {
            background-color: rgba(76, 175, 80, 0.1);
            color: var(--success);
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .activity-icon-warning {
            background-color: rgba(255, 152, 0, 0.1);
            color: var(--warning);
            border: 1px solid rgba(255, 152, 0, 0.2);
        }

        .activity-icon-info {
            background-color: rgba(33, 150, 243, 0.1);
            color: var(--info);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .activity-details {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
            font-family: var(--font-heading);
            font-size: 1.1rem;
        }

        .activity-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
            font-family: var(--font-body);
        }

        .activity-meta {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .activity-time {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-family: var(--font-secondary);
        }

        /* Tasks List */
        .tasks-list {
            list-style: none;
        }

        .task-item {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
            padding: var(--spacing-md) 0;
            border-bottom: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .task-item:hover {
            transform: translateX(5px);
            background-color: var(--surface-hover);
            border-radius: var(--radius-lg);
            padding-left: var(--spacing-md);
            padding-right: var(--spacing-md);
        }

        .task-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .task-checkbox.checked {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 5px 15px rgba(230, 81, 0, 0.2);
        }

        .task-details {
            flex: 1;
        }

        .task-title {
            font-weight: 500;
            margin-bottom: var(--spacing-xs);
            transition: all var(--transition);
            color: var(--text-primary);
            font-size: 1rem;
            font-family: var(--font-body);
        }

        .task-checkbox.checked + .task-details .task-title {
            text-decoration: line-through;
            color: var(--text-tertiary);
        }

        .task-meta {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .task-date {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-family: var(--font-secondary);
        }

        .task-priority {
            font-size: 0.75rem;
            padding: 3px 10px;
            border-radius: var(--radius-xl);
            font-weight: 600;
            font-family: var(--font-body);
        }

        .priority-high {
            background-color: rgba(244, 67, 54, 0.1);
            color: var(--danger);
            border: 1px solid rgba(244, 67, 54, 0.2);
        }

        .priority-medium {
            background-color: rgba(255, 152, 0, 0.1);
            color: var(--warning);
            border: 1px solid rgba(255, 152, 0, 0.2);
        }

        .priority-low {
            background-color: rgba(76, 175, 80, 0.1);
            color: var(--success);
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        /* View All Link */
        .view-all {
            font-size: 0.9rem;
            color: var(--primary);
            text-decoration: none;
            transition: all var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
            font-family: var(--font-body);
        }

        .view-all:hover {
            color: var(--primary-dark);
            transform: translateX(3px);
        }

        /* Notification Panel */
        .notification-panel {
            position: absolute;
            top: calc(var(--header-height) - 5px);
            right: var(--spacing-lg);
            width: 350px;
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: var(--radius-xl);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1000;
            overflow: hidden;
            animation: fadeInDown 0.3s ease;
            border: 1px solid var(--border);
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) var(--spacing-lg);
            border-bottom: 1px solid var(--border);
        }

        .notification-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            font-family: var(--font-heading);
        }

        .mark-all-read {
            font-size: 0.85rem;
            color: var(--primary);
            cursor: pointer;
            transition: all var(--transition);
            font-weight: 500;
            font-family: var(--font-body);
        }

        .mark-all-read:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        .notification-list {
            list-style: none;
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-item {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: all var(--transition);
            display: flex;
            gap: var(--spacing-md);
            align-items: flex-start;
        }

        .notification-item:hover {
            background-color: var(--surface-hover);
            transform: translateX(5px);
        }

        .notification-item.unread {
            background-color: rgba(33, 150, 243, 0.05);
        }

        .notification-item.unread:hover {
            background-color: rgba(33, 150, 243, 0.1);
        }

        .notification-dot {
            width: 10px;
            height: 10px;
            background-color: var(--primary);
            border-radius: 50%;
            margin-top: 6px;
        }

        .notification-content {
            flex: 1;
        }

        .notification-message {
            font-size: 0.95rem;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
            font-family: var(--font-body);
        }

        .notification-time {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            font-family: var(--font-secondary);
        }

        .notification-empty {
            padding: var(--spacing-xl);
            text-align: center;
            color: var(--text-tertiary);
            font-family: var(--font-body);
        }

        /* User Dropdown */
        .user-dropdown {
            position: absolute;
            top: calc(var(--header-height) - 5px);
            right: var(--spacing-lg);
            width: 280px;
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: var(--radius-xl);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1000;
            overflow: hidden;
            animation: fadeInDown 0.3s ease;
            border: 1px solid var(--border);
        }

        .user-dropdown-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border);
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .user-dropdown-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin: 0 auto var(--spacing-md);
            border: 3px solid rgba(255, 255, 255, 0.3);
            padding: 2px;
            background: white;
        }

        .user-dropdown-name {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
            color: white;
            font-size: 1.1rem;
            font-family: var(--font-heading);
        }

        .user-dropdown-email {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            font-family: var(--font-body);
        }

        .user-dropdown-menu {
            list-style: none;
            padding: var(--spacing-sm) 0;
        }

        .user-dropdown-item {
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            cursor: pointer;
            transition: all var(--transition);
            color: var(--text-secondary);
            font-family: var(--font-body);
        }

        .user-dropdown-item:hover {
            background-color: var(--surface-hover);
            color: var(--primary);
            transform: translateX(5px);
        }

        .user-dropdown-item i {
            width: 20px;
            color: var(--primary);
        }

        .user-dropdown-divider {
            height: 1px;
            background-color: var(--border);
            margin: var(--spacing-sm) 0;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 99;
            display: none;
            backdrop-filter: blur(5px);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: var(--spacing-xl);
            right: var(--spacing-xl);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .toast {
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: var(--radius-xl);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            min-width: 300px;
            max-width: 400px;
            animation: slideInRight 0.3s ease forwards;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .toast::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
        }

        .toast-success::before {
            background-color: var(--success);
        }

        .toast-warning::before {
            background-color: var(--warning);
        }

        .toast-error::before {
            background-color: var(--danger);
        }

        .toast-info::before {
            background-color: var(--info);
        }

        .toast-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            border-radius: 50%;
        }

        .toast-success .toast-icon {
            color: var(--success);
            background-color: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .toast-warning .toast-icon {
            color: var(--warning);
            background-color: rgba(255, 152, 0, 0.1);
            border: 1px solid rgba(255, 152, 0, 0.2);
        }

        .toast-error .toast-icon {
            color: var(--danger);
            background-color: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.2);
        }

        .toast-info .toast-icon {
            color: var(--info);
            background-color: rgba(33, 150, 243, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
            color: var(--text-primary);
            font-family: var(--font-heading);
        }

        .toast-message {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-family: var(--font-body);
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            color: var(--text-tertiary);
            transition: color var(--transition);
        }

        .toast-close:hover {
            color: var(--text-primary);
        }

        /* AI Assistant */
        .ai-assistant-toggle {
            position: fixed;
            bottom: var(--spacing-xl);
            left: var(--spacing-xl);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(230, 81, 0, 0.3);
            z-index: 900;
            transition: all var(--transition);
            border: none;
            font-size: 1.3rem;
        }

        .ai-assistant-toggle:hover {
            transform: translateY(-5px) rotate(-15deg);
            box-shadow: 0 15px 30px rgba(230, 81, 0, 0.4);
            background-color: var(--primary-dark);
        }

        /* Modified AI Assistant Panel - Slide from side */
        .ai-assistant-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 400px;
            height: 100vh;
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 0 var(--radius-xl) var(--radius-xl) 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            display: none;
            z-index: 900;
            overflow: hidden;
            animation: slideInLeft 0.4s ease;
            border-right: 1px solid var(--border);
            flex-direction: column;
            transform: translateX(-100%);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .ai-assistant-panel.active {
            transform: translateX(0);
            display: flex;
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-100%);
            }
            to {
                transform: translateX(0);
            }
        }

        .ai-assistant-header {
            padding: var(--spacing-md) var(--spacing-lg);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .ai-assistant-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-weight: 600;
            font-size: 1.1rem;
            font-family: var(--font-title);
        }

        .ai-assistant-title img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .ai-assistant-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: white;
            transition: all var(--transition);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-assistant-close:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .ai-assistant-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-md);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
            background-color: rgba(245, 245, 245, 0.5);
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23e65100' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .ai-message {
            display: flex;
            gap: var(--spacing-md);
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }

        .ai-message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .ai-message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            border: 2px solid var(--primary);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .ai-message.user .ai-message-avatar {
            border-color: var(--info);
        }

        .ai-message-bubble {
            background-color: white;
            padding: var(--spacing-md);
            border-radius: var(--radius-lg);
            border-top-left-radius: 0;
            color: var(--text-primary);
            font-family: var(--font-body);
            font-size: 0.95rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            line-height: 1.6;
        }

        .ai-message-bubble::before {
            content: '';
            position: absolute;
            top: 0;
            left: -10px;
            width: 0;
            height: 0;
            border-top: 10px solid white;
            border-left: 10px solid transparent;
        }

        .ai-message.user .ai-message-bubble {
            background-color: var(--info);
            color: white;
            border-radius: var(--radius-lg);
            border-top-right-radius: 0;
        }

        .ai-message.user .ai-message-bubble::before {
            left: auto;
            right: -10px;
            border-top: 10px solid var(--info);
            border-left: none;
            border-right: 10px solid transparent;
        }

        .ai-assistant-input {
            padding: var(--spacing-md);
            border-top: 1px solid var(--border);
            display: flex;
            gap: var(--spacing-sm);
            background-color: white;
        }

        .ai-input {
            flex: 1;
            padding: var(--spacing-md);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            background-color: var(--surface-hover);
            color: var(--text-primary);
            font-family: var(--font-body);
            resize: none;
            outline: none;
            transition: all var(--transition);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            font-size: 0.95rem;
        }

        .ai-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(230, 81, 0, 0.2);
        }

        .ai-send-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition);
            border: none;
            font-size: 1.1rem;
            flex-shrink: 0;
            align-self: flex-end;
            box-shadow: 0 4px 10px rgba(230, 81, 0, 0.3);
        }

        .ai-send-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 15px rgba(230, 81, 0, 0.4);
        }

        .ai-send-btn:disabled {
            background-color: var(--text-tertiary);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .ai-typing {
            display: flex;
            gap: 4px;
            padding: var(--spacing-sm) 0;
            margin-left: 50px;
        }

        .ai-typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
            animation: typingAnimation 1.5s infinite ease-in-out;
        }

        .ai-typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .ai-typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .ai-typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Inspiring Quotes Section */
        .quotes-container {
            margin-top: var(--spacing-md);
            padding: var(--spacing-md);
            background-color: var(--surface);
            border-radius: var(--radius-lg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
            overflow: hidden;
            position: relative;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quote {
            position: absolute;
            width: 100%;
            text-align: center;
            padding: 0 var(--spacing-lg);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .quote.active {
            opacity: 1;
            transform: translateY(0);
        }

        .quote-text {
            font-family: var(--font-accent);
            font-style: italic;
            font-size: 1rem;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
            line-height: 1.6;
        }

        .quote-author {
            font-family: var(--font-title);
            font-size: 0.85rem;
            color: var(--primary);
            font-weight: 600;
        }

        @keyframes typingAnimation {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        /* Loading Animations */
        .loading-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(230, 81, 0, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-pulse {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--primary);
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
        }

        .loading-dots {
            display: flex;
            gap: 4px;
            align-items: center;
            justify-content: center;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
            animation: loadingDots 1.5s infinite ease-in-out;
        }

        .loading-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes loadingDots {
            0%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg, var(--surface-hover) 25%, var(--surface) 50%, var(--surface-hover) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: var(--radius-lg);
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        /* Mobile Navigation */
        .mobile-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--surface);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            z-index: 1000;
            display: none;
            flex-direction: column;
            padding: var(--spacing-lg);
            overflow-y: auto;
        }

        .mobile-nav-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--spacing-xl);
        }

        .mobile-nav-close {
            font-size: 1.5rem;
            color: var(--text-primary);
            background: none;
            border: none;
            cursor: pointer;
        }

        .mobile-nav-menu {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .mobile-nav-item {
            padding: var(--spacing-md);
            border-radius: var(--radius-xl);
            color: var(--text-primary);
            font-weight: 500;
            transition: all var(--transition);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            font-family: var(--font-body);
        }

        .mobile-nav-item:hover, .mobile-nav-item.active {
            background-color: var(--surface-hover);
            color: var(--primary);
            transform: translateX(5px);
        }

        .mobile-nav-item.active {
            background-color: var(--primary);
            color: white;
        }

        .mobile-nav-item i {
            width: 24px;
            text-align: center;
        }

        .mobile-nav-divider {
            height: 1px;
            background-color: var(--border);
            margin: var(--spacing-md) 0;
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .chart-section, .activity-section, .tasks-section {
                grid-column: span 6;
            }
        }

        @media (max-width: 992px) {
            .dashboard-grid {
                grid-template-columns: repeat(1, 1fr);
            }
            
            .chart-section, .activity-section, .tasks-section {
                grid-column: span 1;
            }
            
            .main-nav {
                display: none;
            }
            
            .nav-toggle {
                display: block;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: var(--spacing-md);
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .notification-panel, .user-dropdown {
                right: var(--spacing-md);
                width: calc(100% - var(--spacing-md) * 2);
                max-width: 350px;
            }
            
            .ai-assistant-toggle {
                bottom: var(--spacing-md);
                left: var(--spacing-md);
            }
            
            .ai-assistant-panel {
                width: 300px;
            }
            
            .toast-container {
                bottom: var(--spacing-md);
                right: var(--spacing-md);
                max-width: calc(100% - var(--spacing-md) * 2);
            }
            
            .toast {
                min-width: auto;
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .header-container {
                padding: 0 var(--spacing-md);
            }
            
            .page-title {
                font-size: 1.5rem;
            }
            
            .stat-value {
                font-size: 1.75rem;
            }
            
            .ai-assistant-panel {
                width: 100%;
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-container">
                <div class="header-left">
                    <button class="nav-toggle" id="navToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <a href="#" class="logo">
                        <img src="SILAKBO (1).png" alt="Ang Silakbo Logo">
                        <span>ANG SILAKBO</span>
                    </a>
                    <nav class="main-nav">
                        <div class="nav-item">
                            <a href="#" class="nav-link active" id="dashboardLink">
                                <i class="fas fa-chart-line"></i>
                                <span>Dashboard</span>
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" id="applicantsLink">
                                <i class="fas fa-users"></i>
                                <span>Applicants</span>
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="notifications.html" class="nav-link" id="inquiriesLink">
                                <i class="fas fa-question-circle"></i>
                                <span>Inquiries</span>
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fas fa-cog"></i>
                                <span>Management</span>
                                <i class="fas fa-chevron-down"></i>
                            </a>
                            <div class="nav-dropdown">
                                <a href="Chat.html" class="dropdown-item">
                                    <i class="fas fa-comments"></i>
                                    <span>Communications</span>
                                </a>
                                <a href="Silakbo Post.html" class="dropdown-item">
                                    <i class="fas fa-edit"></i>
                                    <span>Content Management</span>
                                </a>
                                <a href="Feedback.html" class="dropdown-item">
                                    <i class="fas fa-clipboard-list"></i>
                                    <span>Reports</span>
                                </a>
                                <div class="dropdown-divider"></div>
                                <a href="calendar2.html" class="dropdown-item">
                                    <i class="fas fa-sticky-note"></i>
                                    <span>Memos</span>
                                </a>
                                <a href="submission.html" class="dropdown-item">
                                    <i class="fas fa-book"></i>
                                    <span>Submissions</span>
                                </a>
                                <a href="server.html" class="dropdown-item">
                                    <i class="fas fa-tasks"></i>
                                    <span>Task Manager</span>
                                </a>
                            </div>
                        </div>
                    </nav>
                </div>
                <div class="header-right">
                    <div class="action-buttons">
                        <button class="theme-toggle-btn" id="themeToggle" title="Toggle Dark Mode">
                            <i class="fas fa-moon"></i>
                        </button>
                        <button class="action-btn" title="New Post">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="action-btn" id="notificationBtn" title="Notifications">
                            <i class="fas fa-bell"></i>
                            <span class="badge" id="notificationCount">0</span>
                        </button>
                    </div>
                    <div class="user-menu" id="userMenu">
                        <img src="SILAKBO (1).png" alt="User Avatar">
                        <div class="user-menu-info">
                            <div class="user-menu-name">Admin</div>
                            <div class="user-menu-role">Administrator</div>
                        </div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Page content will be dynamically inserted here -->
        </main>
    </div>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-header">
            <div class="logo">
                <img src="SILAKBO (1).png" alt="Ang Silakbo Logo">
                <span>ANG SILAKBO</span>
            </div>
            <button class="mobile-nav-close" id="mobileNavClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-nav-menu">
            <a href="#" class="mobile-nav-item active" id="mobileDashboardLink">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="mobile-nav-item" id="mobileApplicantsLink">
                <i class="fas fa-users"></i>
                <span>Applicants</span>
            </a>
            <a href="notifications.html" class="mobile-nav-item">
                <i class="fas fa-question-circle"></i>
                <span>Inquiries</span>
            </a>
            <div class="mobile-nav-divider"></div>
            <a href="Chat.html" class="mobile-nav-item">
                <i class="fas fa-comments"></i>
                <span>Communications</span>
            </a>
            <a href="Silakbo Post.html" class="mobile-nav-item">
                <i class="fas fa-edit"></i>
                <span>Content Management</span>
            </a>
            <a href="Feedback.html" class="mobile-nav-item">
                <i class="fas fa-clipboard-list"></i>
                <span>Reports</span>
            </a>
            <a href="calendar2.html" class="mobile-nav-item">
                <i class="fas fa-sticky-note"></i>
                <span>Memos</span>
            </a>
            <a href="submission.html" class="mobile-nav-item">
                <i class="fas fa-book"></i>
                <span>Submissions</span>
            </a>
            <a href="server.html" class="mobile-nav-item">
                <i class="fas fa-tasks"></i>
                <span>Task Manager</span>
            </a>
            <div class="mobile-nav-divider"></div>
            <a href="#" class="mobile-nav-item" id="mobileLogoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="notification-header">
            <div class="notification-title">Notifications</div>
            <div class="mark-all-read" id="markAllRead">Mark all as read</div>
        </div>
        <ul id="notificationList" class="notification-list">
            <div class="notification-empty">No notifications yet</div>
        </ul>
    </div>

    <!-- User Dropdown Menu -->
    <div class="user-dropdown" id="userDropdown">
        <div class="user-dropdown-header">
            <img src="SILAKBO (1).png" alt="User Avatar" class="user-dropdown-avatar">
            <div class="user-dropdown-name">Admin User</div>
            <div class="user-dropdown-email" id="userEmail">admin@angsilakbo.com</div>
        </div>
        <ul class="user-dropdown-menu">
            <li class="user-dropdown-item"><i class="fas fa-user"></i> My Profile</li>
            <li class="user-dropdown-item"><i class="fas fa-cog"></i> Account Settings</li>
            <div class="user-dropdown-divider"></div>
            <li class="user-dropdown-item" id="userMenuLogout"><i class="fas fa-sign-out-alt"></i> Logout</li>
        </ul>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- AI Assistant Toggle -->
    <button class="ai-assistant-toggle" id="aiAssistantToggle">
        <i class="fas fa-robot"></i>
    </button>

    <!-- AI Assistant Panel -->
    <div class="ai-assistant-panel" id="aiAssistantPanel">
        <div class="ai-assistant-header">
            <div class="ai-assistant-title">
                <img src="Coral.png" alt="CoralVIA">
                <span>CoralVIA Assistant</span>
            </div>
            <button class="ai-assistant-close" id="aiAssistantClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="ai-assistant-content" id="aiAssistantContent">
            <div class="ai-message">
                <img src="Coral.png" alt="CoralVIA" class="ai-message-avatar">
                <div class="ai-message-bubble">
                    Hello! I'm CoralVIA, your AI assistant. How can I help you today with analytics, reports, or any administrative tasks?
                </div>
            </div>
        </div>
        <div class="ai-assistant-input">
            <textarea class="ai-input" id="aiInput" placeholder="Type your message here..." rows="2"></textarea>
            <button class="ai-send-btn" id="aiSendBtn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Page Transition -->
    <div class="page-transition" id="pageTransition"></div>

    <script type="module">
        // Import the necessary Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";
        import { getDatabase, ref, get, onValue, push, set, update, query, orderByChild, limitToLast } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";

        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDSe2c9-8xqShoHEW-D7BXXAyD5N9uXWEs",
            authDomain: "ang-silakbo.firebaseapp.com",
            databaseURL: "https://ang-silakbo-default-rtdb.firebaseio.com",
            projectId: "ang-silakbo",
            storageBucket: "ang-silakbo.appspot.com",
            messagingSenderId: "1006400633782",
            appId: "1:1006400633782:web:ef4a93c1d445cb825b9f17",
            measurementId: "G-TSDTG2YJ94"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);

        // Cohere API key
        const COHERE_API_KEY = "z99HUO9u2vu9E4YTRRfeue6hbdkdOcM8zWQDfbcq";

        // DOM Elements
        const mainContent = document.getElementById('mainContent');
        const navToggle = document.getElementById('navToggle');
        const mobileNav = document.getElementById('mobileNav');
        const mobileNavClose = document.getElementById('mobileNavClose');
        const overlay = document.getElementById('overlay');
        const notificationBtn = document.getElementById('notificationBtn');
        const notificationPanel = document.getElementById('notificationPanel');
        const notificationList = document.getElementById('notificationList');
        const notificationCount = document.getElementById('notificationCount');
        const userMenu = document.getElementById('userMenu');
        const userDropdown = document.getElementById('userDropdown');
        const userEmail = document.getElementById('userEmail');
        const markAllRead = document.getElementById('markAllRead');
        const themeToggle = document.getElementById('themeToggle');
        const toastContainer = document.getElementById('toastContainer');
        const userMenuLogout = document.getElementById('userMenuLogout');
        const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
        const dashboardLink = document.getElementById('dashboardLink');
        const applicantsLink = document.getElementById('applicantsLink');
        const inquiriesLink = document.getElementById('inquiriesLink');
        const mobileDashboardLink = document.getElementById('mobileDashboardLink');
        const mobileApplicantsLink = document.getElementById('mobileApplicantsLink');
        const aiAssistantToggle = document.getElementById('aiAssistantToggle');
        const aiAssistantPanel = document.getElementById('aiAssistantPanel');
        const aiAssistantClose = document.getElementById('aiAssistantClose');
        const aiAssistantContent = document.getElementById('aiAssistantContent');
        const aiInput = document.getElementById('aiInput');
        const aiSendBtn = document.getElementById('aiSendBtn');
        const pageTransition = document.getElementById('pageTransition');

        // State variables
        let unreadNotifications = 0;
        let currentUser = null;
        let isDarkMode = localStorage.getItem('darkMode') === 'true';
        let chartInstance = null;
        let isAiTyping = false;
        let currentQuoteIndex = 0;

        // Inspiring quotes data
        const inspiringQuotes = [
            {
                text: "The only way to do great work is to love what you do.",
                author: "Steve Jobs"
            },
            {
                text: "Success is not final, failure is not fatal: It is the courage to continue that counts.",
                author: "Winston Churchill"
            },
            {
                text: "Believe you can and you're halfway there.",
                author: "Theodore Roosevelt"
            },
            {
                text: "The future belongs to those who believe in the beauty of their dreams.",
                author: "Eleanor Roosevelt"
            },
            {
                text: "It does not matter how slowly you go as long as you do not stop.",
                author: "Confucius"
            },
            {
                text: "The best way to predict the future is to create it.",
                author: "Peter Drucker"
            },
            {
                text: "Your time is limited, don't waste it living someone else's life.",
                author: "Steve Jobs"
            }
        ];

        // Apply dark mode if saved in localStorage
        if (isDarkMode) {
            document.body.classList.add('dark');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }

        // Page transition function
        function navigateTo(url) {
            pageTransition.classList.add('active');
            
            setTimeout(() => {
                window.location.href = url;
            }, 500);
        }

        // Add page transition for all links
        document.addEventListener('click', (e) => {
            const link = e.target.closest('a');
            if (link && link.getAttribute('href') && link.getAttribute('href') !== '#' && !link.getAttribute('href').startsWith('#') && !link.getAttribute('href').startsWith('javascript:')) {
                e.preventDefault();
                navigateTo(link.getAttribute('href'));
            }
        });

        // Personalized greeting based on email
        function getPersonalizedGreeting(email) {
            const greetings = {
                'angsilakbo1@uclm.com': 'Hello, Miss Queenie!',
                'angsilakbo2@uclm.com': 'Hello, Miss June!',
                'angsilakbo3@uclm.com': 'Hello, Miss Diana!'
            };
            
            const hour = new Date().getHours();
            let timeGreeting = '';
            
            if (hour < 12) timeGreeting = 'Good morning, ';
            else if (hour < 18) timeGreeting = 'Good afternoon, ';
            else timeGreeting = 'Good evening, ';
            
            const name = email ? email.split('@')[0].replace('angsilakbo', 'Admin ') : 'Admin';
            return greetings[email] || timeGreeting + name;
        }

        // Toggle mobile navigation
        function toggleMobileNav() {
            mobileNav.style.display = mobileNav.style.display === 'flex' ? 'none' : 'flex';
            overlay.style.display = mobileNav.style.display === 'flex' ? 'block' : 'none';
            document.body.style.overflow = mobileNav.style.display === 'flex' ? 'hidden' : '';
        }

        // Check for new applications in real-time
        function checkForNewApplications() {
            const applicationsRef = ref(db, 'applications');
            let lastTimestamp = localStorage.getItem('lastApplicationTimestamp') || 0;

            onValue(applicationsRef, (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    const applications = Object.entries(data).map(([key, value]) => ({
                        id: key,
                        ...value
                    }));
                    
                    const newApplications = applications.filter(app => app.timestamp > lastTimestamp);
                    
                    newApplications.forEach(app => {
                        createNotification(`New applicant: ${app.name} for ${app.position}`);
                        showToast('success', 'New Application', `${app.name} applied for ${app.position}`);
                    });

                    if (newApplications.length > 0) {
                        lastTimestamp = Math.max(...newApplications.map(app => app.timestamp));
                        localStorage.setItem('lastApplicationTimestamp', lastTimestamp);
                    }
                }
            });
        }

        // Create a notification in Firebase
        function createNotification(message) {
            const notificationsRef = ref(db, 'notifications');
            const newNotificationRef = push(notificationsRef);
            set(newNotificationRef, {
                message: message,
                timestamp: Date.now(),
                read: false
            });
        }

        // Fetch notifications from Firebase in real-time
        function fetchNotifications() {
            const notificationsRef = ref(db, 'notifications');
            onValue(notificationsRef, (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    const notifications = Object.entries(data).map(([key, value]) => ({
                        id: key,
                        ...value,
                        timestamp: new Date(value.timestamp)
                    })).sort((a, b) => b.timestamp - a.timestamp);
                    
                    updateNotificationPanel(notifications);
                } else {
                    notificationList.innerHTML = '<div class="notification-empty">No notifications yet</div>';
                    notificationCount.textContent = '0';
                }
            });
        }

        // Update notification panel UI
        function updateNotificationPanel(notifications) {
            notificationList.innerHTML = '';
            unreadNotifications = 0;
            
            if (notifications.length === 0) {
                notificationList.innerHTML = '<div class="notification-empty">No notifications yet</div>';
                notificationCount.textContent = '0';
                return;
            }
            
            notifications.forEach(notification => {
                const li = document.createElement('li');
                li.className = `notification-item ${notification.read ? '' : 'unread'}`;
                
                li.innerHTML = `
                    <div class="notification-dot" style="${notification.read ? 'display: none;' : ''}"></div>
                    <div class="notification-content">
                        <div class="notification-message">${notification.message}</div>
                        <div class="notification-time">${formatTimeAgo(notification.timestamp)}</div>
                    </div>
                `;
                
                li.onclick = () => markNotificationAsRead(notification.id);
                notificationList.appendChild(li);

                if (!notification.read) {
                    unreadNotifications++;
                }
            });

            notificationCount.textContent = unreadNotifications;
        }

        // Mark notification as read
        function markNotificationAsRead(notificationId) {
            const notificationRef = ref(db, `notifications/${notificationId}`);
            update(notificationRef, { read: true });
        }

        // Mark all notifications as read
        function markAllNotificationsAsRead() {
            const notificationsRef = ref(db, 'notifications');
            get(notificationsRef).then((snapshot) => {
                const updates = {};
                snapshot.forEach((childSnapshot) => {
                    updates[`${childSnapshot.key}/read`] = true;
                });
                update(ref(db, 'notifications'), updates);
            });
        }

        // Format time ago
        function formatTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            let interval = Math.floor(seconds / 31536000);
            if (interval > 1) return interval + ' years ago';
            if (interval === 1) return '1 year ago';
            
            interval = Math.floor(seconds / 2592000);
            if (interval > 1) return interval + ' months ago';
            if (interval === 1) return '1 month ago';
            
            interval = Math.floor(seconds / 86400);
            if (interval > 1) return interval + ' days ago';
            if (interval === 1) return '1 day ago';
            
            interval = Math.floor(seconds / 3600);
            if (interval > 1) return interval + ' hours ago';
            if (interval === 1) return '1 hour ago';
            
            interval = Math.floor(seconds / 60);
            if (interval > 1) return interval + ' minutes ago';
            if (interval === 1) return '1 minute ago';
            
            return 'just now';
        }

        // Check authentication status
        function checkAuthStatus() {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    currentUser = user;
                    const allowedEmails = [
                        'angsilakbo1@uclm.com',
                        'angsilakbo2@uclm.com',
                        'angsilakbo3@uclm.com'
                    ];
                    
                    if (allowedEmails.includes(user.email)) {
                        userEmail.textContent = user.email;
                        showDashboard();
                        checkForNewApplications();
                        fetchNotifications();
                        showToast('success', 'Welcome', 'You have successfully logged in');
                    } else {
                        signOut(auth).then(() => {
                            mainContent.innerHTML = '<div class="page-header"><h2 class="page-title">Access denied</h2><p class="page-subtitle">You are not authorized to access this panel.</p></div>';
                            showToast('error', 'Access Denied', 'You are not authorized to access this panel');
                            setTimeout(() => {
                                navigateTo('Ang Silakbo Login1.html');
                            }, 3000);
                        });
                    }
                } else {
                    mainContent.innerHTML = '<div class="page-header"><h2 class="page-title">Authentication Required</h2><p class="page-subtitle">Please log in to access the admin panel. Redirecting to login page...</p></div>';
                    showToast('info', 'Authentication Required', 'Please log in to access the admin panel');
                    setTimeout(() => {
                        navigateTo('Ang Silakbo Login1.html');
                    }, 3000);
                }
            });
        }

        // Show dashboard content
        function showDashboard() {
            mainContent.innerHTML = `
                <div class="page-header">
                    <h2 class="page-title" id="welcomeMessage">Welcome to Ang Silakbo</h2>
                    <p class="page-subtitle" id="dateTime">Loading date and time...</p>
                </div>
                
                <div class="stats-grid">
                    <div class="card stat-card">
                        <div class="stat-header">
                            <div class="stat-icon stat-icon-primary">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i> 12%
                            </div>
                        </div>
                        <div class="stat-value" id="totalApplications">0</div>
                        <div class="stat-label">Total Applications</div>
                    </div>
                    
                    <div class="card stat-card">
                        <div class="stat-header">
                            <div class="stat-icon stat-icon-success">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i> 5%
                            </div>
                        </div>
                        <div class="stat-value" id="newApplications">0</div>
                        <div class="stat-label">New Applications</div>
                    </div>
                    
                    <div class="card stat-card">
                        <div class="stat-header">
                            <div class="stat-icon stat-icon-warning">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-trend trend-down">
                                <i class="fas fa-arrow-down"></i> 3%
                            </div>
                        </div>
                        <div class="stat-value" id="activeUsers">0</div>
                        <div class="stat-label">Active Users</div>
                    </div>
                    
                    <div class="card stat-card">
                        <div class="stat-header">
                            <div class="stat-icon stat-icon-info">
                                <i class="fas fa-sync"></i>
                            </div>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i> 8%
                            </div>
                        </div>
                        <div class="stat-value" id="contentUpdates">0</div>
                        <div class="stat-label">Content Updates</div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="chart-section card">
                        <div class="card-header">
                            <div class="card-title">Application Statistics</div>
                            <div class="chart-tabs">
                                <button class="chart-tab active" data-period="weekly">Weekly</button>
                                <button class="chart-tab" data-period="monthly">Monthly</button>
                                <button class="chart-tab" data-period="yearly">Yearly</button>
                            </div>
                        </div>
                        <div class="card-content chart-container">
                            <canvas id="applicationsChart"></canvas>
                        </div>
                        <div class="quotes-container" id="quotesContainer">
                            ${inspiringQuotes.map((quote, index) => `
                                <div class="quote ${index === 0 ? 'active' : ''}">
                                    <div class="quote-text">"${quote.text}"</div>
                                    <div class="quote-author"> ${quote.author}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="activity-section card">
                        <div class="card-header">
                            <div class="card-title">Recent Activity</div>
                            <a href="#" class="view-all">View All <i class="fas fa-arrow-right"></i></a>
                        </div>
                        <div class="card-content">
                            <ul class="activity-list" id="activityList">
                                <div class="skeleton" style="height: 80px; width: 100%; margin-bottom: 15px;"></div>
                                <div class="skeleton" style="height: 80px; width: 100%; margin-bottom: 15px;"></div>
                                <div class="skeleton" style="height: 80px; width: 100%;"></div>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="tasks-section card">
                        <div class="card-header">
                            <div class="card-title">Pending Tasks</div>
                            <a href="#" class="view-all">View All <i class="fas fa-arrow-right"></i></a>
                        </div>
                        <div class="card-content">
                            <ul class="tasks-list" id="taskList">
                                <!-- Tasks will be loaded here -->
                            </ul>
                        </div>
                    </div>
                </div>
            `;

            // Update welcome message
            const welcomeMessage = document.getElementById('welcomeMessage');
            if (currentUser) {
                welcomeMessage.textContent = getPersonalizedGreeting(currentUser.email);
            }

            // Update date and time
            updateDateTime();
            
            // Fetch dashboard data
            fetchDashboardData();
            
            // Load recent activity in real-time
            loadRecentActivity();
            
            // Load pending tasks
            loadPendingTasks();
            
            // Initialize charts if Chart.js is available
            if (typeof Chart !== 'undefined') {
                initializeCharts();
            } else {
                // Load Chart.js dynamically
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
                script.onload = initializeCharts;
                document.head.appendChild(script);
            }

            // Add event listeners for chart tabs
            document.querySelectorAll('.chart-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.chart-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    updateChart(this.dataset.period);
                });
            });

            // Start the quote rotation
            startQuoteRotation();
        }

        // Initialize charts
        function initializeCharts() {
            const ctx = document.getElementById('applicationsChart').getContext('2d');
            
            // Fetch real application data from Firebase
            fetchApplicationStats('weekly').then(data => {
                chartInstance = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: data.labels,
                        datasets: [{
                            label: 'Applications',
                            data: data.values,
                            borderColor: '#e65100',
                            backgroundColor: 'rgba(230, 81, 0, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            });
        }

        // Update chart based on selected period
        function updateChart(period) {
            if (!chartInstance) return;
            
            fetchApplicationStats(period).then(data => {
                chartInstance.data.labels = data.labels;
                chartInstance.data.datasets[0].data = data.values;
                chartInstance.update();
            });
        }

        // Fetch application statistics from Firebase
        async function fetchApplicationStats(period) {
            const applicationsRef = ref(db, 'applications');
            const snapshot = await get(applicationsRef);
            const applications = [];
            
            if (snapshot.exists()) {
                snapshot.forEach(childSnapshot => {
                    applications.push({
                        id: childSnapshot.key,
                        ...childSnapshot.val()
                    });
                });
            }
            
            let labels = [];
            let values = [];
            
            if (period === 'weekly') {
                // Last 7 days
                const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                const today = new Date();
                labels = Array(7).fill().map((_, i) => {
                    const d = new Date(today);
                    d.setDate(d.getDate() - i);
                    return days[d.getDay()];
                }).reverse();
                
                values = Array(7).fill(0);
                
                applications.forEach(app => {
                    const appDate = new Date(app.timestamp);
                    const diffDays = Math.floor((today - appDate) / (1000 * 60 * 60 * 24));
                    if (diffDays < 7) {
                        values[6 - diffDays]++;
                    }
                });
            } else if (period === 'monthly') {
                // Last 30 days grouped by week
                labels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                values = [0, 0, 0, 0];
                
                const today = new Date();
                applications.forEach(app => {
                    const appDate = new Date(app.timestamp);
                    const diffDays = Math.floor((today - appDate) / (1000 * 60 * 60 * 24));
                    if (diffDays < 30) {
                        const weekIndex = Math.floor(diffDays / 7);
                        if (weekIndex < 4) {
                            values[weekIndex]++;
                        }
                    }
                });
            } else if (period === 'yearly') {
                // Last 12 months
                const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                const today = new Date();
                const currentMonth = today.getMonth();
                
                labels = Array(12).fill().map((_, i) => {
                    const monthIndex = (currentMonth - i + 12) % 12;
                    return months[monthIndex];
                }).reverse();
                
                values = Array(12).fill(0);
                
                applications.forEach(app => {
                    const appDate = new Date(app.timestamp);
                    const diffMonths = (today.getFullYear() - appDate.getFullYear()) * 12 + today.getMonth() - appDate.getMonth();
                    if (diffMonths < 12) {
                        values[11 - diffMonths]++;
                    }
                });
            }
            
            return { labels, values };
        }

        // Rotate quotes with typing animation
        function startQuoteRotation() {
            const quotes = document.querySelectorAll('.quote');
            if (!quotes.length) return;
            
            setInterval(() => {
                // Hide current quote
                quotes[currentQuoteIndex].classList.remove('active');
                
                // Move to next quote
                currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
                
                // Show next quote
                quotes[currentQuoteIndex].classList.add('active');
            }, 8000);
        }

        // Load recent activity from Firebase in real-time
        function loadRecentActivity() {
            const activityList = document.getElementById('activityList');
            const activitiesRef = query(ref(db, 'activities'), orderByChild('timestamp'), limitToLast(5));
            
            onValue(activitiesRef, (snapshot) => {
                activityList.innerHTML = '';
                
                if (!snapshot.exists()) {
                    // Create some sample activities if none exist
                    const sampleActivities = [
                        {
                            type: 'primary',
                            icon: 'user-plus',
                            title: 'New Application',
                            description: 'John Doe applied for Content Writer position',
                            timestamp: Date.now() - 2 * 60 * 60 * 1000 // 2 hours ago
                        },
                        {
                            type: 'success',
                            icon: 'sync',
                            title: 'Content Updated',
                            description: 'Homepage banner was updated by Admin',
                            timestamp: Date.now() - 5 * 60 * 60 * 1000 // 5 hours ago
                        },
                        {
                            type: 'warning',
                            icon: 'question-circle',
                            title: 'New Inquiry',
                            description: 'Sarah Smith asked about membership details',
                            timestamp: Date.now() - 24 * 60 * 60 * 1000 // 1 day ago
                        },
                        {
                            type: 'info',
                            icon: 'check-circle',
                            title: 'Application Approved',
                            description: 'Maria Garcia was approved for Editor position',
                            timestamp: Date.now() - 2 * 24 * 60 * 60 * 1000 // 2 days ago
                        }
                    ];
                    
                    sampleActivities.forEach(activity => {
                        renderActivityItem(activity);
                    });
                    
                    return;
                }
                
                // Convert to array and sort by timestamp (newest first)
                const activities = [];
                snapshot.forEach((childSnapshot) => {
                    activities.push({
                        id: childSnapshot.key,
                        ...childSnapshot.val()
                    });
                });
                
                activities.sort((a, b) => b.timestamp - a.timestamp);
                
                // Render each activity
                activities.forEach(activity => {
                    renderActivityItem(activity);
                });
            });
        }

        // Render a single activity item
        function renderActivityItem(activity) {
            const activityList = document.getElementById('activityList');
            const li = document.createElement('li');
            li.className = 'activity-item';
            
            li.innerHTML = `
                <div class="activity-icon activity-icon-${activity.type || 'primary'}">
                    <i class="fas fa-${activity.icon || 'bell'}"></i>
                </div>
                <div class="activity-details">
                    <div class="activity-title">${activity.title}</div>
                    <div class="activity-description">${activity.description}</div>
                    <div class="activity-meta">
                        <div class="activity-time">
                            <i class="far fa-clock"></i> ${formatTimeAgo(new Date(activity.timestamp))}
                        </div>
                    </div>
                </div>
            `;
            
            activityList.appendChild(li);
        }

        // Load pending tasks
        function loadPendingTasks() {
            const taskList = document.getElementById('taskList');
            const tasksRef = ref(db, 'tasks');
            
            onValue(tasksRef, (snapshot) => {
                taskList.innerHTML = '';
                
                if (!snapshot.exists()) {
                    // Example task data
                    const tasks = [
                        {
                            title: 'Review new applicant profiles',
                            date: 'Today',
                            priority: 'high',
                            completed: false
                        },
                        {
                            title: 'Update content on homepage',
                            date: 'Tomorrow',
                            priority: 'medium',
                            completed: false
                        },
                        {
                            title: 'Prepare monthly report',
                            date: 'Mar 15, 2025',
                            priority: 'high',
                            completed: false
                        },
                        {
                            title: 'Respond to pending inquiries',
                            date: 'Mar 12, 2025',
                            priority: 'medium',
                            completed: true
                        },
                        {
                            title: 'Schedule team meeting',
                            date: 'Mar 10, 2025',
                            priority: 'low',
                            completed: true
                        }
                    ];
                    
                    tasks.forEach(task => {
                        renderTaskItem(task);
                    });
                    
                    return;
                }
                
                // Convert to array and sort by priority
                const tasks = [];
                snapshot.forEach((childSnapshot) => {
                    tasks.push({
                        id: childSnapshot.key,
                        ...childSnapshot.val()
                    });
                });
                
                // Sort by completion status and then by priority
                tasks.sort((a, b) => {
                    if (a.completed === b.completed) {
                        const priorityOrder = { high: 0, medium: 1, low: 2 };
                        return priorityOrder[a.priority] - priorityOrder[b.priority];
                    }
                    return a.completed ? 1 : -1;
                });
                
                // Render each task
                tasks.forEach(task => {
                    renderTaskItem(task);
                });
            });
        }

        // Render a single task item
        function renderTaskItem(task) {
            const taskList = document.getElementById('taskList');
            const li = document.createElement('li');
            li.className = 'task-item';
            
            li.innerHTML = `
                <div class="task-checkbox ${task.completed ? 'checked' : ''}">
                    ${task.completed ? '<i class="fas fa-check"></i>' : ''}
                </div>
                <div class="task-details">
                    <div class="task-title">${task.title}</div>
                    <div class="task-meta">
                        <div class="task-date">
                            <i class="far fa-calendar-alt"></i> ${task.date}
                        </div>
                        <div class="task-priority priority-${task.priority}">${task.priority}</div>
                    </div>
                </div>
            `;
            
            const checkbox = li.querySelector('.task-checkbox');
            checkbox.addEventListener('click', () => {
                checkbox.classList.toggle('checked');
                if (checkbox.classList.contains('checked')) {
                    checkbox.innerHTML = '<i class="fas fa-check"></i>';
                } else {
                    checkbox.innerHTML = '';
                }
                
                // Update task completion status in Firebase if it has an ID
                if (task.id) {
                    const taskRef = ref(db, `tasks/${task.id}`);
                    update(taskRef, { completed: checkbox.classList.contains('checked') });
                }
            });
            
            taskList.appendChild(li);
        }

        // Fetch dashboard data in real-time
        function fetchDashboardData() {
            // Simulate loading with skeleton UI
            document.getElementById('totalApplications').innerHTML = '<div class="skeleton" style="height: 40px; width: 80px;"></div>';
            document.getElementById('newApplications').innerHTML = '<div class="skeleton" style="height: 40px; width: 80px;"></div>';
            document.getElementById('activeUsers').innerHTML = '<div class="skeleton" style="height: 40px; width: 80px;"></div>';
            document.getElementById('contentUpdates').innerHTML = '<div class="skeleton" style="height: 40px; width: 80px;"></div>';
            
            // Set up real-time listeners for dashboard data
            const totalApplicationsRef = ref(db, 'applications');
            const usersRef = ref(db, 'users');
            const contentUpdatesRef = ref(db, 'contentUpdates');
            
            // Get total applications in real-time
            onValue(totalApplicationsRef, (snapshot) => {
                const totalApplications = snapshot.size || 0;
                setTimeout(() => {
                    document.getElementById('totalApplications').textContent = totalApplications;
                }, 800);
            });
            
            // Get new applications (last 24 hours) in real-time
            onValue(totalApplicationsRef, (snapshot) => {
                const now = Date.now();
                const oneDayAgo = now - 24 * 60 * 60 * 1000;
                const data = snapshot.val() || {};
                const newApplications = Object.values(data).filter(app => app.timestamp > oneDayAgo).length;
                
                setTimeout(() => {
                    document.getElementById('newApplications').textContent = newApplications;
                }, 1000);
            });
            
            // Get active users (last 30 days) in real-time
            onValue(usersRef, (snapshot) => {
                const now = Date.now();
                const thirtyDaysAgo = now - 30 * 24 * 60 * 60 * 1000;
                const data = snapshot.val() || {};
                const activeUsers = Object.values(data).filter(user => user.lastLogin > thirtyDaysAgo).length;
                
                setTimeout(() => {
                    document.getElementById('activeUsers').textContent = activeUsers;
                }, 1200);
            });
            
            // Get content updates (last 7 days) in real-time
            onValue(contentUpdatesRef, (snapshot) => {
                const now = Date.now();
                const sevenDaysAgo = now - 7 * 24 * 60 * 60 * 1000;
                const data = snapshot.val() || {};
                const recentUpdates = Object.values(data).filter(update => update.timestamp > sevenDaysAgo).length;
                
                setTimeout(() => {
                    document.getElementById('contentUpdates').textContent = recentUpdates;
                }, 1400);
            });
        }

        // Update date and time
        function updateDateTime() {
            const dateTimeElement = document.getElementById('dateTime');
            if (dateTimeElement) {
                const now = new Date();
                const options = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit', 
                    minute: '2-digit'
                };
                dateTimeElement.textContent = now.toLocaleDateString('en-US', options);
            }
        }

        // Show toast notification
        function showToast(type, title, message) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            
            let icon = '';
            switch(type) {
                case 'success':
                    icon = 'check-circle';
                    break;
                case 'warning':
                    icon = 'exclamation-triangle';
                    break;
                case 'error':
                    icon = 'times-circle';
                    break;
                case 'info':
                    icon = 'info-circle';
                    break;
            }
            
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas fa-${icon}"></i>
                </div>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease forwards';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 5000);
            
            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.style.animation = 'slideOutRight 0.3s ease forwards';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            });
        }

        // Set active menu link
        function setActiveLink(linkId) {
            const links = document.querySelectorAll('.nav-link');
            links.forEach(link => link.classList.remove('active'));
            document.getElementById(linkId).classList.add('active');
            
            const mobileLinks = document.querySelectorAll('.mobile-nav-item');
            mobileLinks.forEach(link => link.classList.remove('active'));
            document.getElementById('mobile' + linkId.charAt(0).toUpperCase() + linkId.slice(1, -4) + 'Link').classList.add('active');
        }

        // AI Assistant Functions
        function toggleAiAssistant() {
            if (aiAssistantPanel.classList.contains('active')) {
                aiAssistantPanel.classList.remove('active');
                setTimeout(() => {
                    aiAssistantPanel.style.display = 'none';
                }, 400);
            } else {
                aiAssistantPanel.style.display = 'flex';
                setTimeout(() => {
                    aiAssistantPanel.classList.add('active');
                }, 10);
            }
        }

        function sendMessageToAI() {
            const message = aiInput.value.trim();
            if (!message || isAiTyping) return;
            
            // Add user message to chat
            addMessageToChat('user', message);
            
            // Clear input
            aiInput.value = '';
            
            // Show typing indicator
            showAiTyping();
            
            // Call Cohere API
            callCohereAPI(message);
        }

        function addMessageToChat(sender, message, isLoading = false) {
            const messageElement = document.createElement('div');
            messageElement.className = `ai-message ${sender}`;
            
            const avatar = sender === 'user' ? 'SILAKBO (1).png' : 'Coral.png';
            
            messageElement.innerHTML = `
                <img src="${avatar}" alt="${sender}" class="ai-message-avatar">
                <div class="ai-message-bubble">
                    ${isLoading ? '<div class="loading-dots"><div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div></div>' : message}
                </div>
            `;
            
            aiAssistantContent.appendChild(messageElement);
            aiAssistantContent.scrollTop = aiAssistantContent.scrollHeight;
            
            return messageElement;
        }

        function showAiTyping() {
            isAiTyping = true;
            aiSendBtn.disabled = true;
            
            const typingElement = document.createElement('div');
            typingElement.className = 'ai-typing';
            typingElement.innerHTML = `
                <div class="ai-typing-dot"></div>
                <div class="ai-typing-dot"></div>
                <div class="ai-typing-dot"></div>
            `;
            
            aiAssistantContent.appendChild(typingElement);
            aiAssistantContent.scrollTop = aiAssistantContent.scrollHeight;
            
            return typingElement;
        }

        function hideAiTyping() {
            isAiTyping = false;
            aiSendBtn.disabled = false;
            
            const typingElement = aiAssistantContent.querySelector('.ai-typing');
            if (typingElement) {
                typingElement.remove();
            }
        }

        async function callCohereAPI(message) {
            try {
                const response = await fetch('https://api.cohere.ai/v1/chat', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${COHERE_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: message,
                        model: 'command',
                        preamble: "You are CoralVIA, an AI assistant for the ANG SILAKBO admin panel. You help administrators with analytics, reports, and administrative tasks. You're knowledgeable about content management, user engagement, and application processing. Be helpful, concise, and professional.",
                        chat_history: []
                    })
                });
                
                const data = await response.json();
                
                // Hide typing indicator
                hideAiTyping();
                
                if (data.text) {
                    // Add AI response to chat
                    addMessageToChat('ai', data.text);
                } else {
                    // Handle error
                    addMessageToChat('ai', "I'm sorry, I couldn't process your request at the moment. Please try again later.");
                }
            } catch (error) {
                console.error('Error calling Cohere API:', error);
                hideAiTyping();
                addMessageToChat('ai', "I'm sorry, there was an error processing your request. Please try again later.");
            }
        }

        // Analyze data with AI
        async function analyzeDataWithAI(dataType, data) {
            try {
                const response = await fetch('https://api.cohere.ai/v1/chat', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${COHERE_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: `Analyze this ${dataType} data and provide insights: ${JSON.stringify(data)}`,
                        model: 'command',
                        preamble: "You are CoralVIA, an AI assistant for the ANG SILAKBO admin panel. You specialize in data analysis and providing actionable insights.",
                        chat_history: []
                    })
                });
                
                const responseData = await response.json();
                return responseData.text || "No insights available at this time.";
            } catch (error) {
                console.error('Error analyzing data with AI:', error);
                return "Error analyzing data. Please try again later.";
            }
        }

        // Event Listeners
        navToggle.addEventListener('click', toggleMobileNav);
        mobileNavClose.addEventListener('click', toggleMobileNav);
        overlay.addEventListener('click', () => {
            mobileNav.style.display = 'none';
            overlay.style.display = 'none';
            document.body.style.overflow = '';
            notificationPanel.style.display = 'none';
            userDropdown.style.display = 'none';
        });
        
        notificationBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            notificationPanel.style.display = notificationPanel.style.display === 'block' ? 'none' : 'block';
            userDropdown.style.display = 'none';
            if (notificationPanel.style.display === 'block') {
                overlay.style.display = 'block';
            } else {
                overlay.style.display = 'none';
            }
        });
        
        userMenu.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
            notificationPanel.style.display = 'none';
            if (userDropdown.style.display === 'block') {
                overlay.style.display = 'block';
            } else {
                overlay.style.display = 'none';
            }
        });
        
        markAllRead.addEventListener('click', () => {
            markAllNotificationsAsRead();
        });
        
        themeToggle.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark', isDarkMode);
            themeToggle.innerHTML = isDarkMode ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            localStorage.setItem('darkMode', isDarkMode);
        });
        
        document.addEventListener('click', (event) => {
            if (!notificationBtn.contains(event.target) && !notificationPanel.contains(event.target) &&
                !userMenu.contains(event.target) && !userDropdown.contains(event.target) &&
                !aiAssistantToggle.contains(event.target) && !aiAssistantPanel.contains(event.target)) {
                notificationPanel.style.display = 'none';
                userDropdown.style.display = 'none';
                if (mobileNav.style.display !== 'flex') {
                    overlay.style.display = 'none';
                }
            }
        });

        // Navigation links
        dashboardLink.addEventListener('click', (e) => {
            e.preventDefault();
            setActiveLink('dashboardLink');
            showDashboard();
        });

        applicantsLink.addEventListener('click', (e) => {
            e.preventDefault();
            setActiveLink('applicantsLink');
            navigateTo('Ang Silakbo Registered Applicants.html');
        });

        mobileDashboardLink.addEventListener('click', (e) => {
            e.preventDefault();
            toggleMobileNav();
            setActiveLink('dashboardLink');
            showDashboard();
        });

        mobileApplicantsLink.addEventListener('click', (e) => {
            e.preventDefault();
            toggleMobileNav();
            navigateTo('Ang Silakbo Registered Applicants.html');
        });

        // AI Assistant event listeners
        aiAssistantToggle.addEventListener('click', toggleAiAssistant);
        aiAssistantClose.addEventListener('click', toggleAiAssistant);
        aiSendBtn.addEventListener('click', sendMessageToAI);
        aiInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessageToAI();
            }
        });

        // Logout functionality
        function handleLogout() {
            showToast('info', 'Logging Out', 'You are being logged out');
            signOut(auth).then(() => {
                console.log("User signed out successfully");
                localStorage.removeItem('authToken');
                localStorage.removeItem('adminUser');
                setTimeout(() => {
                    navigateTo('Ang Silakbo Login1.html');
                }, 1500);
            }).catch((error) => {
                console.error("Error signing out:", error);
                showToast('error', 'Error', 'Failed to log out');
            });
        }

        userMenuLogout.addEventListener('click', handleLogout);
        mobileLogoutBtn.addEventListener('click', handleLogout);

        // Close mobile nav when window is resized to desktop view
        window.addEventListener('resize', () => {
            if (window.innerWidth > 992 && mobileNav.style.display === 'flex') {
                mobileNav.style.display = 'none';
                overlay.style.display = 'none';
                document.body.style.overflow = '';
            }
        });

        // Handle page load animation
        window.addEventListener('load', () => {
            pageTransition.classList.add('exit');
            setTimeout(() => {
                pageTransition.classList.remove('active');
                pageTransition.classList.remove('exit');
            }, 500);
        });

        // Initialize
        checkAuthStatus();
        updateDateTime();
    </script>
</body>
</html>
