<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANG SILAKBO - Keep That In Us</title>
    <link rel="icon" href="SILAKBO.PNG">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&family=Playfair+Display:wght@400;500;700&family=Source+Sans+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
         :root {
                    --primary-color: #e65100;    /* Kept original color */
                    --primary-hover: #F57C00;    
                    --primary-light: #FFE0B2;    
                    --primary-dark: #222222;  
            --text-color: #333333;
            --dark-gray: #555555;
            --light-gray: #AAAAAA;
            --extra-light-gray: #EEEEEE;
            --white: #FFFFFF;
            --border-radius: 16px;
            --button-radius: 30px;
            --box-shadow: 0 4px 15px rgba(230, 81, 0, 0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--white);
            color: var(--text-color);
            line-height: 1.5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1, h2, h3 {
            font-family: 'Poppins', sans-serif;
        }

        p {
            font-family: 'Source Sans Pro', sans-serif;
        }

        a {
            text-decoration: none;
            color: var(--primary-color);
            transition: var(--transition);
        }

        a:hover {
            text-decoration: underline;
            color: var(--primary-hover);
        }

        .container {
            width: 100%;
            max-width: 1265px;
            margin: 0 auto;
            display: flex;
            min-height: 100vh;
        }

        /* Main Content */
        .main {
            flex: 1;
            display: flex;
        }

        .login-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            width: 100%;
        }

        /* Left Side - Branding */
        .branding {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .silakbo-logo {
            width: 80%;
            max-width: 400px;
            height: auto;
        }

        .brand-title {
            position: absolute;
            bottom: 40px;
            left: 40px;
            color: var(--white);
            font-size: 32px;
            font-weight: 700;
            font-family: 'Poppins', sans-serif;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Right Side - Login Form */
        .login-form-container {
            padding: 40px 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .forum-logo {
            width: 60px;
            height: 60px;
            margin-bottom: 40px;
            border-radius: 50%;
            /* Removed background-color */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .forum-logo img {
            width: 100px;
            height: 100px;
        }

        .login-heading {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 40px;
            color: var(--text-color);
            font-family: 'Poppins', sans-serif;
        }

        .login-subheading {
            font-size: 18px;
            font-weight: 400;
            margin-bottom: 30px;
            color: var(--dark-gray);
            font-family: 'Merriweather', serif;
        }

        .login-options {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
            width: 320px;
        }

        .signin-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            background-color: var(--white);
            color: var(--text-color);
            padding: 14px;
            border-radius: var(--button-radius);
            font-weight: 500;
            font-size: 16px;
            transition: var(--transition);
            border: 1px solid var(--extra-light-gray);
            cursor: pointer;
            width: 100%;
            font-family: 'Source Sans Pro', sans-serif;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .signin-button:hover {
            background-color: rgba(230, 81, 0, 0.05);
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .signin-button svg, .signin-button i {
            width: 20px;
            height: 20px;
        }

        .admin-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            background-color: var(--primary-color);
            color: var(--white);
            padding: 14px;
            border-radius: var(--button-radius);
            font-weight: 600;
            font-size: 16px;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            width: 100%;
            font-family: 'Source Sans Pro', sans-serif;
            box-shadow: var(--box-shadow);
        }

        .admin-button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 25px 0;
            width: 320px;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background-color: var(--extra-light-gray);
        }

        .divider span {
            padding: 0 15px;
            font-size: 16px;
            color: var(--dark-gray);
            font-family: 'Source Sans Pro', sans-serif;
        }

        .create-account-text {
            margin-top: 40px;
            font-size: 16px;
            color: var(--dark-gray);
            font-family: 'Source Sans Pro', sans-serif;
        }

        .create-account-link {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Footer */
        .footer {
            padding: 20px;
            text-align: center;
            border-top: 1px solid var(--extra-light-gray);
            background-color: var(--white);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }

        .footer-link {
            color: var(--dark-gray);
            font-size: 14px;
            font-family: 'Source Sans Pro', sans-serif;
            transition: var(--transition);
        }

        .footer-link:hover {
            color: var(--primary-color);
        }

        .copyright {
            color: var(--dark-gray);
            font-size: 14px;
            font-family: 'Source Sans Pro', sans-serif;
        }

        /* Popup Styles */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            background: var(--white);
            padding: 40px;
            border-radius: var(--border-radius);
            z-index: 1001;
            max-width: 600px;
            width: 90%;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: var(--box-shadow);
        }

        .popup.show {
            display: block;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(3px);
        }

        .popup-overlay.show {
            display: block;
            opacity: 1;
        }

        .close-button {
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 20px;
            cursor: pointer;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: var(--extra-light-gray);
            color: var(--text-color);
            border: none;
        }

        .close-button:hover {
            background-color: var(--light-gray);
            color: var(--white);
        }

        .popup-logo {
            width: 60px;
            height: 60px;
            margin: 0 auto 30px;
            display: block;
            /* Removed background-color */
            border-radius: 50%;
            padding: 15px;
        }

        .popup h2 {
            margin-bottom: 30px;
            text-align: center;
            font-size: 28px;
            font-weight: 700;
            color: var(--text-color);
            font-family: 'Poppins', sans-serif;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 25px;
        }

        .form-control {
            width: 100%;
            padding: 15px;
            border: 1px solid var(--extra-light-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: var(--white);
            color: var(--text-color);
            font-family: 'Source Sans Pro', sans-serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(230, 81, 0, 0.2);
        }

        .form-control::placeholder {
            color: var(--light-gray);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        /* Admin Login Popup */
        .admin-popup {
            text-align: left;
        }

        .admin-form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .admin-form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-color);
            font-size: 16px;
            font-family: 'Source Sans Pro', sans-serif;
        }

        .admin-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 15px;
            color: var(--dark-gray);
            font-family: 'Source Sans Pro', sans-serif;
        }

        .remember-me input {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
            cursor: pointer;
        }

        .forgot-password {
            color: var(--primary-color);
            font-size: 15px;
            font-family: 'Source Sans Pro', sans-serif;
        }

        .admin-login-btn {
            width: 100%;
            margin-top: 30px;
            padding: 15px;
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: var(--button-radius);
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Source Sans Pro', sans-serif;
            box-shadow: var(--box-shadow);
        }

        .admin-login-btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        /* Terms of Service Popup */
        .tos-popup {
            text-align: left;
        }

        .tos-content {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid var(--extra-light-gray);
            border-radius: var(--border-radius);
            background-color: var(--white);
            line-height: 1.6;
            font-size: 15px;
            color: var(--text-color);
            font-family: 'Merriweather', serif;
        }

        .tos-content::-webkit-scrollbar {
            width: 6px;
        }

        .tos-content::-webkit-scrollbar-track {
            background: var(--extra-light-gray);
            border-radius: 3px;
        }

        .tos-content::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        .tos-content h3 {
            margin: 20px 0 10px;
            color: var(--text-color);
            font-size: 18px;
            font-weight: 700;
            font-family: 'Playfair Display', serif;
        }

        .tos-content p {
            margin-bottom: 15px;
            font-family: 'Source Sans Pro', sans-serif;
        }

        .tos-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        .detailed-tos-link {
            color: var(--primary-color);
            font-size: 15px;
            font-family: 'Source Sans Pro', sans-serif;
        }

        .accept-tos-btn {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 12px 30px;
            border-radius: var(--button-radius);
            font-weight: 600;
            font-size: 16px;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-family: 'Source Sans Pro', sans-serif;
            box-shadow: var(--box-shadow);
        }

        .accept-tos-btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        /* Contact Popup */
        .contact-popup h2 {
            color: var(--text-color);
        }

        .contact-submit-btn {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 15px;
            border-radius: var(--button-radius);
            font-weight: 600;
            font-size: 16px;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-family: 'Source Sans Pro', sans-serif;
            box-shadow: var(--box-shadow);
        }

        .contact-submit-btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--white);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-screen.show {
            opacity: 1;
            visibility: visible;
        }

        .loading-logo {
            width: 100px;
            height: 100px;
            margin-bottom: 50px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .loading-bar-container {
            width: 300px;
            height: 6px;
            background-color: var(--extra-light-gray);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .loading-bar {
            height: 100%;
            width: 0;
            background-color: var(--primary-color);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .loading-text {
            font-size: 16px;
            color: var(--dark-gray);
            margin-top: 20px;
            font-weight: 400;
            font-family: 'Source Sans Pro', sans-serif;
        }

        .loading-message {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
            text-align: center;
            font-family: 'Poppins', sans-serif;
        }

        .loading-message.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Success Animation */
        @keyframes successFadeIn {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        .success-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            animation: successFadeIn 0.5s ease forwards;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .login-container {
                grid-template-columns: 1fr;
            }

            .branding {
                display: none;
            }

            .login-form-container {
                padding: 50px 30px;
                align-items: center;
                text-align: center;
            }
        }

        @media (max-width: 576px) {
            .login-options, .divider {
                width: 100%;
            }

            .footer-content {
                flex-direction: column;
                gap: 20px;
            }

            .footer-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }

            .popup {
                padding: 30px 20px;
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <img src="SILAKBO.PNG" alt="Silakbo Logo" class="loading-logo">
        <div class="loading-bar-container">
            <div class="loading-bar" id="loading-bar"></div>
        </div>
        <div class="loading-text" id="loading-text">Preparing your experience...</div>
        <div class="loading-message" id="loading-message">Welcome to Ang Silakbo Forums!</div>
    </div>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="login-container">
                <!-- Left Side - Branding -->
                <div class="branding">
                    <img src="SILAKBO (2).PNG" alt="Silakbo Logo" class="silakbo-logo">
                </div>

                <!-- Right Side - Login Form -->
                <div class="login-form-container">
                    <div class="forum-logo">
                        <img src="SILAKBO.PNG" alt="Silakbo Logo">
                    </div>
                    <h1 class="login-heading">ANG SILAKBO FORUMS</h1>
                    <p class="login-subheading">Join the conversation and share your thoughts with the community.</p>
                    <div class="login-options">
                        <button id="signin-button" class="signin-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                                <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path>
                                <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path>
                                <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path>
                                <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>
                            </svg>
                            Sign in with Google
                        </button>
                        <button id="admin-login-button" class="admin-button">
                            <i class="fas fa-user-shield"></i>
                            Admin Login
                        </button>
                    </div>
                    <div class="divider">
                        <span>or</span>
                    </div>
                    <p class="create-account-text">
                        Need help? <a href="Chat Request" id="contact-link" class="create-account-link">Contact Us</a>
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="About Us" class="footer-link">About</a>
            <a href="ToS" class="footer-link">Terms of Service</a>
            <a href="Privacy" class="footer-link">Privacy Policy</a>
            <a href="https://www.facebook.com/AngSilakboUCLM" target="_blank" class="footer-link">Facebook</a>
        </div>
        <div class="copyright">
            &copy; 2025 Ang Silakbo Forums. All rights reserved.
        </div>
    </footer>

    <!-- Contact Popup -->
    <div class="popup contact-popup" id="contact-popup">
        <button class="close-button" id="close-contact">
            <i class="fas fa-times"></i>
        </button>
        <img src="SILAKBO.PNG" alt="Silakbo Logo" class="popup-logo">
        <h2>Contact Us</h2>
        <form id="contact-form">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="Your Name" required>
            </div>
            <div class="form-group">
                <input type="email" class="form-control" placeholder="Your Email" required>
            </div>
            <div class="form-group">
                <textarea class="form-control" placeholder="Your Message" required></textarea>
            </div>
            <button type="submit" class="contact-submit-btn">
                <i class="fas fa-paper-plane"></i>
                Send Message
            </button>
        </form>
    </div>
    <div class="popup-overlay" id="contact-popup-overlay"></div>

    <!-- Admin Login Popup -->
    <div class="popup admin-popup" id="admin-popup">
        <button class="close-button" id="close-admin">
            <i class="fas fa-times"></i>
        </button>
        <img src="SILAKBO.PNG" alt="Silakbo Logo" class="popup-logo">
        <h2>Admin Login</h2>
        <form id="admin-form">
            <div class="admin-form-group">
                <label for="admin-email">Email</label>
                <input type="email" id="admin-email" class="form-control" placeholder="Enter your admin email" required>
            </div>
            <div class="admin-form-group">
                <label for="admin-password">Password</label>
                <input type="password" id="admin-password" class="form-control" placeholder="Enter your password" required>
            </div>
            <div class="admin-actions">
                <div class="remember-me">
                    <input type="checkbox" id="remember-me">
                    <label for="remember-me">Remember me</label>
                </div>
                <a href="#" class="forgot-password">Forgot password?</a>
            </div>
            <button type="submit" class="admin-login-btn">
                Log In
            </button>
        </form>
    </div>
    <div class="popup-overlay" id="admin-popup-overlay"></div>

    <!-- Terms of Service Popup -->
    <div class="popup tos-popup" id="tos-popup">
        <button class="close-button" id="close-tos">
            <i class="fas fa-times"></i>
        </button>
        <img src="SILAKBO.PNG" alt="Silakbo Logo" class="popup-logo">
        <h2>Terms of Service</h2>
        <div class="tos-content">
            <p>Welcome to Ang Silakbo Forums! By using our platform, you agree to the following terms and conditions:</p>
            <h3>1. Acceptance of Terms</h3>
            <p>By accessing or using Ang Silakbo Forums, you agree to be bound by these Terms of Service and all applicable laws and regulations.</p>
            <h3>2. User Conduct</h3>
            <p>You agree to use Ang Silakbo Forums in a manner consistent with all applicable laws and regulations. You are responsible for all activity that occurs under your account.</p>
            <h3>3. Privacy</h3>
            <p>Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information.</p>
            <h3>4. Content Guidelines</h3>
            <p>Users must not post content that is harmful, threatening, abusive, harassing, defamatory, or otherwise objectionable.</p>
            <h3>5. Termination</h3>
            <p>We reserve the right to terminate or suspend your account at our sole discretion, without notice, for conduct that we believe violates these Terms of Service or is harmful to other users or us.</p>
        </div>
        <div class="tos-actions">
            <a href="ToS.html" class="detailed-tos-link" target="_blank">Read Detailed Terms</a>
            <button id="accept-tos" class="accept-tos-btn">I Accept</button>
        </div>
    </div>
    <div class="popup-overlay" id="tos-popup-overlay"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDSe2c9-8xqShoHEW-D7BXXAyD5N9uXWEs",
            authDomain: "ang-silakbo.firebaseapp.com",
            projectId: "ang-silakbo",
            storageBucket: "ang-silakbo.appspot.com",
            messagingSenderId: "1006400633782",
            appId: "1:1006400633782:web:ef4a93c1d445cb825b9f17",
            measurementId: "G-TSDTG2YJ94"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        // Google Sign-in function
        function signInWithGoogle() {
            provider.setCustomParameters({
                'prompt': 'select_account',
                'login_hint': 'user@example.com'
            });
            
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.classList.add('show');
                
                signInWithPopup(auth, provider)
                    .then((result) => {
                        loadingScreen.classList.remove('show');
                        document.getElementById('tos-popup').classList.add('show');
                        document.getElementById('tos-popup-overlay').classList.add('show');
                        document.body.style.overflow = 'hidden';
                    }).catch((error) => {
                        loadingScreen.classList.remove('show');
                        console.error("Error during sign in:", error);
                        alert("An error occurred during sign in. Please try again.");
                    });
            } else {
                signInWithPopup(auth, provider)
                    .then((result) => {
                        document.getElementById('tos-popup').classList.add('show');
                        document.getElementById('tos-popup-overlay').classList.add('show');
                        document.body.style.overflow = 'hidden';
                    }).catch((error) => {
                        console.error("Error during sign in:", error);
                        alert("An error occurred during sign in. Please try again.");
                    });
            }
        }

        // Admin login functionality
        function handleAdminLogin(e) {
            e.preventDefault();
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            
            const authorizedAdmins = [
                'angsilakbo1@uclm.com',
                'angsilakbo2@uclm.com',
                'angsilakbo3@uclm.com'
            ];
            
            if (!authorizedAdmins.includes(email)) {
                alert("This email is not authorized for admin access.");
                return;
            }
            
            const adminLoginBtn = document.querySelector('.admin-login-btn');
            const originalBtnText = adminLoginBtn.innerHTML;
            adminLoginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
            adminLoginBtn.disabled = true;
            
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    console.log("Admin logged in:", user.email);
                    
                    // Success animation
                    adminLoginBtn.innerHTML = '<span class="success-icon"><i class="fas fa-check"></i> Success!</span>';
                    adminLoginBtn.style.backgroundColor = '#4CAF50';
                    
                    setTimeout(() => {
                        closeAdminPopup();
                        showLoadingScreen();
                        
                        setTimeout(() => {
                            window.location.href = "Thoughts.html";
                        }, 2000);
                    }, 1000);
                })
                .catch((error) => {
                    console.error("Admin login error:", error);
                    adminLoginBtn.innerHTML = '<i class="fas fa-times"></i> Failed';
                    adminLoginBtn.style.backgroundColor = '#F44336';
                    
                    setTimeout(() => {
                        adminLoginBtn.innerHTML = originalBtnText;
                        adminLoginBtn.style.backgroundColor = '';
                        alert("Invalid email or password. Please try again.");
                    }, 1000);
                })
                .finally(() => {
                    setTimeout(() => {
                        adminLoginBtn.disabled = false;
                    }, 1000);
                });
        }

        // Event Listeners
        document.getElementById('signin-button').addEventListener('click', signInWithGoogle);
        document.getElementById('admin-login-button').addEventListener('click', openAdminPopup);
        document.getElementById('admin-form').addEventListener('submit', handleAdminLogin);
        document.getElementById('accept-tos').addEventListener('click', () => {
            closeTosPopup();
            showLoadingScreen();
        });
        document.getElementById('close-tos').addEventListener('click', closeTosPopup);
        document.getElementById('tos-popup-overlay').addEventListener('click', closeTosPopup);
        document.getElementById('contact-link').addEventListener('click', openContactPopup);
        document.getElementById('close-contact').addEventListener('click', closeContactPopup);
        document.getElementById('contact-popup-overlay').addEventListener('click', closeContactPopup);
        document.getElementById('close-admin').addEventListener('click', closeAdminPopup);
        document.getElementById('admin-popup-overlay').addEventListener('click', closeAdminPopup);

        // Contact form submission
        const contactForm = document.getElementById('contact-form');
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const submitBtn = document.querySelector('.contact-submit-btn');
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
            submitBtn.disabled = true;
            
            // Simulate sending message
            setTimeout(() => {
                submitBtn.innerHTML = '<span class="success-icon"><i class="fas fa-check"></i> Sent!</span>';
                submitBtn.style.backgroundColor = '#4CAF50';
                
                setTimeout(() => {
                    alert('Thank you for your message. We will get back to you soon!');
                    contactForm.reset();
                    closeContactPopup();
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.style.backgroundColor = '';
                    submitBtn.disabled = false;
                }, 1000);
            }, 1500);
        });

        // Popup Functions
        function closeTosPopup() {
            document.getElementById('tos-popup').classList.remove('show');
            document.getElementById('tos-popup-overlay').classList.remove('show');
            document.body.style.overflow = '';
        }

        function openAdminPopup(e) {
            e.preventDefault();
            document.getElementById('admin-popup').classList.add('show');
            document.getElementById('admin-popup-overlay').classList.add('show');
            document.body.style.overflow = 'hidden';
            
            // Focus on email field
            setTimeout(() => {
                document.getElementById('admin-email').focus();
            }, 300);
        }

        function closeAdminPopup() {
            document.getElementById('admin-popup').classList.remove('show');
            document.getElementById('admin-popup-overlay').classList.remove('show');
            document.body.style.overflow = '';
        }

        function openContactPopup(e) {
            e.preventDefault();
            document.getElementById('contact-popup').classList.add('show');
            document.getElementById('contact-popup-overlay').classList.add('show');
            document.body.style.overflow = 'hidden';
            
            // Focus on first input
            setTimeout(() => {
                document.querySelector('.contact-popup .form-control').focus();
            }, 300);
        }

        function closeContactPopup() {
            document.getElementById('contact-popup').classList.remove('show');
            document.getElementById('contact-popup-overlay').classList.remove('show');
            document.body.style.overflow = '';
        }

        // Loading screen functionality
        function showLoadingScreen() {
            const loadingScreen = document.getElementById('loading-screen');
            const loadingBar = document.getElementById('loading-bar');
            const loadingText = document.getElementById('loading-text');
            const loadingMessage = document.getElementById('loading-message');
            
            loadingScreen.classList.add('show');
            document.body.style.overflow = 'hidden';
            
            let progress = 0;
            const messages = [
                "Loading posts...",
                "Setting up your profile...",
                "Connecting to the forums...",
                "Almost there..."
            ];
            
            const interval = setInterval(() => {
                progress += Math.random() * 8 + 2; // More natural progression
                if (progress > 100) progress = 100;
                
                loadingBar.style.width = `${progress}%`;
                
                const messageIndex = Math.floor((progress / 100) * messages.length);
                if (messageIndex < messages.length) {
                    loadingText.textContent = messages[messageIndex];
                }
                
                if (progress === 100) {
                    clearInterval(interval);
                    loadingMessage.classList.add('show');
                    
                    setTimeout(() => {
                        window.location.href = 'Thoughts.html';
                    }, 1800);
                }
            }, 400);
        }
    </script>
</body>
</html>
