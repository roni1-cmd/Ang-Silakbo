<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANG SILAKBO - Data Center</title>
    <link rel="icon" href="SILAKBO (1).png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #e65100;
            --primary-light: #ff833a;
            --primary-dark: #ac1900;
            --secondary: #26a69a;
            --secondary-light: #64d8cb;
            --secondary-dark: #00766c;
            --danger: #d32f2f;
            --warning: #f57c00;
            --info: #1976d2;
            --white: #ffffff;
            --light-gray: #f5f5f5;
            --medium-gray: #e0e0e0;
            --dark-gray: #757575;
            --black: #212121;
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(255, 255, 255, 0.5);
            --glass-shadow: rgba(0, 0, 0, 0.1);
            --card-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            --border-radius: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: var(--white);
            color: var(--black);
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, var(--primary-dark) 0%, var(--primary) 100%);
            padding: 24px 0;
            color: white;
            border-radius: 0 24px 24px 0;
            box-shadow: var(--card-shadow);
            z-index: 10;
            transition: all 0.3s ease;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 0 24px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .sidebar-header img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }

        .sidebar-header h1 {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .nav-item {
            padding: 14px 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 14px;
            transition: all 0.2s;
            border-left: 4px solid transparent;
            font-weight: 500;
            margin: 4px 0;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(255, 255, 255, 0.15);
            border-left: 4px solid white;
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 18px;
        }

        .nav-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-section-title {
            padding: 0 24px 8px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background: var(--glass-bg);
            border-radius: 50px;
            padding: 10px 20px;
            width: 360px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .search-bar input {
            border: none;
            background: transparent;
            outline: none;
            flex: 1;
            margin-left: 12px;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 14px;
            background: var(--glass-bg);
            padding: 8px 16px;
            border-radius: 50px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        /* Glass Card Styles */
        .glass-card {
            background: var(--glass-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--medium-gray);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--primary-dark);
        }

        .card-title i {
            color: var(--primary);
        }

        .card-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            font-weight: 500;
            font-size: 14px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-family: 'Poppins', sans-serif;
        }

        .btn:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: rgba(230, 81, 0, 0.1);
        }

        .btn-secondary {
            background: var(--secondary);
        }

        .btn-secondary:hover {
            background: var(--secondary-light);
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-danger:hover {
            background: #e57373;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .grid-col-2 {
            grid-column: span 2;
        }

        .grid-row-2 {
            grid-row: span 2;
        }

        /* Status Indicators */
        .status {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 500;
            white-space: nowrap;
        }

        .status-stable {
            background: rgba(38, 166, 154, 0.2);
            color: var(--secondary-dark);
        }

        .status-maintenance {
            background: rgba(245, 124, 0, 0.2);
            color: #e65100;
        }

        .status-critical {
            background: rgba(211, 47, 47, 0.2);
            color: #b71c1c;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }

        th, td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid var(--medium-gray);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        th {
            font-weight: 600;
            color: var(--dark-gray);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        tbody tr {
            transition: all 0.2s;
            border-radius: 12px;
        }

        tbody tr:hover {
            background: rgba(0, 0, 0, 0.02);
        }

        /* Task Manager */
        .task-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .task-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid var(--medium-gray);
        }

        .task-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .task-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(230, 81, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 20px;
        }

        .task-details h4 {
            font-size: 16px;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .task-details p {
            font-size: 14px;
            color: var(--dark-gray);
        }

        .task-stats {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .stat-label {
            font-size: 12px;
            color: var(--dark-gray);
            margin-top: 4px;
        }

        /* Analytics */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }

        .metric-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .metric-value {
            font-size: 28px;
            font-weight: 700;
            margin: 12px 0;
            color: var(--primary-dark);
        }

        .metric-label {
            font-size: 14px;
            color: var(--dark-gray);
            font-weight: 500;
        }

        .chart-container {
            height: 300px;
            margin-top: 24px;
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        /* Terminal */
        .terminal {
            background: #1a1b26;
            color: #a9b1d6;
            border-radius: var(--border-radius);
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            height: 600px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: all 0.3s ease;
        }

        .terminal.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            border-radius: 0;
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #2c2e3b;
            flex-shrink: 0;
        }

        .terminal-title {
            color: #ff9e64;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
        }

        .terminal-output {
            margin-bottom: 16px;
            white-space: pre-wrap;
            font-family: 'JetBrains Mono', monospace;
            line-height: 1.6;
            overflow-y: auto;
            flex-grow: 1;
            padding-right: 10px;
        }

        .terminal-prompt-container {
            display: flex;
            align-items: center;
            font-family: 'JetBrains Mono', monospace;
            flex-shrink: 0;
        }

        .prompt-symbol {
            color: #9ece6a;
            margin-right: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
        }

        .terminal-input {
            background: transparent;
            border: none;
            color: #a9b1d6;
            outline: none;
            flex: 1;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
        }

        .terminal-output .command {
            color: #7aa2f7;
            font-weight: 600;
        }

        .terminal-output .error {
            color: #f7768e;
        }

        .terminal-output .success {
            color: #9ece6a;
        }

        .terminal-output .warning {
            color: #e0af68;
        }

        .terminal-output .info {
            color: #7dcfff;
        }

        .terminal-output .system {
            color: #bb9af7;
        }

        /* Terminal loading animation */
        .terminal-loading {
            display: inline-block;
            margin-left: 10px;
        }

        .terminal-loading::after {
            content: '';
            display: inline-block;
            width: 0;
            animation: loading 1.5s infinite step-end;
            white-space: nowrap;
            overflow: hidden;
        }

        @keyframes loading {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
        }

        /* Fullscreen button */
        .fullscreen-btn {
            background: none;
            border: none;
            color: #7dcfff;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
        }

        .fullscreen-btn:hover {
            color: #ff9e64;
            transform: scale(1.1);
        }

        /* Visualization */
        #visualization-container {
            width: 100%;
            height: 500px;
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .viz-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .viz-control-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--medium-gray);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .viz-control-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .viz-tooltip {
            position: absolute;
            background: rgba(33, 33, 33, 0.9);
            color: white;
            padding: 10px 14px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            z-index: 100;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 300px;
            font-family: 'Poppins', sans-serif;
        }

        .viz-node {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .viz-node:hover {
            transform: scale(1.1);
        }

        .viz-node.selected {
            stroke: var(--primary);
            stroke-width: 3px;
        }

        .viz-link {
            transition: all 0.3s ease;
        }

        .viz-link:hover {
            stroke-opacity: 1;
            stroke-width: 3px;
        }

        /* Chat Support */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 600px;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .chat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            background: linear-gradient(90deg, var(--primary-dark) 0%, var(--primary) 100%);
            color: white;
        }

        .chat-header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .chat-header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }

        .chat-header h3 {
            font-weight: 600;
            font-size: 18px;
        }

        .chat-header-actions {
            display: flex;
            gap: 10px;
        }

        .chat-header-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chat-header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f9fafb;
            display: flex;
            flex-direction: column;
        }

        .message {
            max-width: 80%;
            padding: 12px 18px;
            margin-bottom: 16px;
            border-radius: 18px;
            position: relative;
            animation: fadeIn 0.3s ease;
            word-wrap: break-word;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-user {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            align-self: flex-end;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }

        .message-ai {
            background: white;
            border: 1px solid #e5e7eb;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .message-time {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.7);
            position: absolute;
            bottom: -18px;
            right: 8px;
        }

        .message-ai .message-time {
            color: var(--dark-gray);
        }

        .chat-input-container {
            padding: 16px;
            background: white;
            border-top: 1px solid #e5e7eb;
        }

        .chat-input {
            display: flex;
            padding: 12px 16px;
            background: #f3f4f6;
            border-radius: 24px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .chat-input input {
            flex: 1;
            border: none;
            background: transparent;
            outline: none;
            padding: 0 12px;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
        }

        .chat-input button {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .chat-input button:hover {
            background: var(--primary-light);
            transform: scale(1.05);
        }

        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--medium-gray);
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            transition: all 0.2s;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Progress bars */
        .progress-container {
            width: 100%;
            height: 8px;
            background: var(--medium-gray);
            border-radius: 4px;
            margin: 8px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            border-radius: 4px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 100%);
            transition: width 0.5s ease;
        }

        /* Hide all sections initially except dashboard */
        #task-manager-section, #status-section, #analytics-section, #visualization-section, 
        #repairs-section, #history-section, #terminal-section, #ai-chat-section {
            display: none;
        }

        #dashboard-section {
            display: block;
        }

        /* Application monitoring specific styles */
        .app-status {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .status-green {
            background-color: var(--secondary);
        }

        .status-orange {
            background-color: var(--warning);
        }

        .status-red {
            background-color: var(--danger);
        }

        /* Tooltip styles */
        .tooltip {
            position: absolute;
            background: rgba(33, 33, 33, 0.9);
            color: white;
            padding: 10px 14px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            z-index: 100;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 300px;
            font-family: 'Poppins', sans-serif;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 24px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: modalFadeIn 0.3s ease;
        }

        /* Terminal and Chat modals */
        .modal-lg .modal-content {
            width: 80%;
            max-width: 1200px;
            height: 80vh;
            display: flex;
            flex-direction: column;
        }

        .modal-lg .modal-body {
            flex: 1;
            overflow: hidden;
            margin-bottom: 0;
            display: flex;
            flex-direction: column;
        }

        .modal-lg .terminal,
        .modal-lg .chat-container {
            height: 100%;
            margin-bottom: 0;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--medium-gray);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark-gray);
            transition: all 0.2s;
        }

        .close-modal:hover {
            color: var(--primary);
        }

        .modal-body {
            margin-bottom: 24px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Form styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-gray);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--medium-gray);
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.2s;
            font-family: 'Poppins', sans-serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(230, 81, 0, 0.2);
        }

        /* Typing indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 12px 18px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
            align-self: flex-start;
            margin-bottom: 16px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            max-width: 80px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 350px;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .notification-success .notification-icon {
            background: rgba(38, 166, 154, 0.2);
            color: var(--secondary);
        }

        .notification-error .notification-icon {
            background: rgba(211, 47, 47, 0.2);
            color: var(--danger);
        }

        .notification-warning .notification-icon {
            background: rgba(245, 124, 0, 0.2);
            color: var(--warning);
        }

        .notification-info .notification-icon {
            background: rgba(25, 118, 210, 0.2);
            color: var(--info);
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .notification-message {
            font-size: 14px;
            color: var(--dark-gray);
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--dark-gray);
            cursor: pointer;
            font-size: 16px;
        }

        /* Scrollbar styles */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: #ffab91;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        /* Responsive styles */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .analytics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-radius: 0;
                height: auto;
                max-height: 300px;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .analytics-grid {
                grid-template-columns: 1fr;
            }
            
            .search-bar {
                width: 100%;
                max-width: 300px;
            }
        }

        /* Status cards - improved layout */
        .status-cards {
            display: flex;
            flex-direction: column;
            gap: 16px;
            width: 100%;
        }

        /* Action buttons for terminal and chat */
        .action-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 99;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: scale(1.1);
            background: var(--primary-light);
        }

        .action-btn.terminal-btn {
            bottom: 100px;
        }

        .action-btn.chat-btn {
            bottom: 30px;
        }

        /* Live data animation */
        .live-data {
            position: relative;
        }

        .live-data::after {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: var(--secondary);
            border-radius: 50%;
            margin-left: 8px;
            animation: pulse 2s infinite;
        }

        /* Interactive visualization elements */
        .node-controls {
            position: absolute;
            background: white;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
            display: none;
        }

        .node-controls.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .node-control-btn {
            background: none;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            width: 100%;
            text-align: left;
        }

        .node-control-btn:hover {
            background: #f5f5f5;
            color: var(--primary);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <img src="SILAKBO.png" alt="CoralVIA Logo">
                <h1>ANG SILAKBO</h1>
            </div>
            
            <div class="nav-item active" data-section="dashboard-section">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Server Management</div>
                <div class="nav-item" data-section="task-manager-section">
                    <i class="fas fa-tasks"></i> Task Manager
                </div>
                <div class="nav-item" data-section="status-section">
                    <i class="fas fa-heartbeat"></i> Status Table
                </div>
                <div class="nav-item" data-section="analytics-section">
                    <i class="fas fa-chart-line"></i> Analytics
                </div>
                <div class="nav-item" data-section="visualization-section">
                    <i class="fas fa-project-diagram"></i> Visualization
                </div>
                <div class="nav-item" data-section="repairs-section">
                    <i class="fas fa-wrench"></i> Repairs
                </div>
                <div class="nav-item" data-section="history-section">
                    <i class="fas fa-history"></i> History
                </div>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">AI Assistant</div>
                <div class="nav-item" data-section="ai-chat-section">
                    <i class="fas fa-robot"></i> CoralVIA Chat
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="dashboard-header">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search commands, applications, or tasks...">
                </div>
                
                <div class="user-profile">
                    <div class="user-avatar">A</div>
                    <div>Admin</div>
                </div>
            </div>
            
            <!-- Dashboard Section -->
            <div id="dashboard-section">
                <div class="dashboard-grid">
                    <div class="glass-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-server"></i> Application Status
                            </div>
                        </div>
                        <div class="status-cards">
                            <div class="analytics-grid">
                                <div class="metric-card">
                                    <div class="metric-label">Active Applications <span class="live-data"></span></div>
                                    <div class="metric-value" id="active-apps">7/8</div>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 87.5%"></div>
                                    </div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Server Load <span class="live-data"></span></div>
                                    <div class="metric-value" id="server-load">42%</div>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 42%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="analytics-grid">
                                <div class="metric-card">
                                    <div class="metric-label">Memory Usage <span class="live-data"></span></div>
                                    <div class="metric-value" id="memory-usage">3.2 GB</div>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 65%"></div>
                                    </div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Network Traffic <span class="live-data"></span></div>
                                    <div class="metric-value" id="network-traffic">8.5 MB/s</div>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 35%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="glass-card grid-col-2">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-heartbeat"></i> Application Health
                            </div>
                            <div class="card-actions">
                                <button class="btn btn-outline" id="refresh-health">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Application</th>
                                    <th>Status</th>
                                    <th>Uptime</th>
                                    <th>Last Check</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Communications</td>
                                    <td><span class="status status-stable">Stable</span></td>
                                    <td>14d 6h 32m</td>
                                    <td>2 min ago</td>
                                </tr>
                                <tr>
                                    <td>Applicants Calendar</td>
                                    <td><span class="status status-stable">Stable</span></td>
                                    <td>14d 6h 32m</td>
                                    <td>2 min ago</td>
                                </tr>
                                <tr>
                                    <td>Applicant Manager</td>
                                    <td><span class="status status-maintenance">Maintenance</span></td>
                                    <td>6h 15m</td>
                                    <td>5 min ago</td>
                                </tr>
                                <tr>
                                    <td>Inquiries (Chat Support)</td>
                                    <td><span class="status status-critical">Should be fixed</span></td>
                                    <td>N/A</td>
                                    <td>1 min ago</td>
                                </tr>
                                <tr>
                                    <td>Memos</td>
                                    <td><span class="status status-stable">Stable</span></td>
                                    <td>3d 12h 45m</td>
                                    <td>Just now</td>
                                </tr>
                                <tr>
                                    <td>Content Management</td>
                                    <td><span class="status status-stable">Stable</span></td>
                                    <td>14d 6h 32m</td>
                                    <td>3 min ago</td>
                                </tr>
                                <tr>
                                    <td>Submissions</td>
                                    <td><span class="status status-stable">Stable</span></td>
                                    <td>14d 6h 32m</td>
                                    <td>4 min ago</td>
                                </tr>
                                <tr>
                                    <td>Reports</td>
                                    <td><span class="status status-stable">Stable</span></td>
                                    <td>14d 6h 32m</td>
                                    <td>5 min ago</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="glass-card grid-row-2">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-tasks"></i> Active Tasks
                            </div>
                            <div class="card-actions">
                                <button class="btn" id="new-task-btn">
                                    <i class="fas fa-plus"></i> New Task
                                </button>
                            </div>
                        </div>
                        <div class="task-list">
                            <div class="task-item">
                                <div class="task-info">
                                    <div class="task-icon">
                                        <i class="fas fa-database"></i>
                                    </div>
                                    <div class="task-details">
                                        <h4>Database Backup</h4>
                                        <p>Scheduled daily backup</p>
                                    </div>
                                </div>
                                <div class="task-stats">
                                    <div class="stat">
                                        <div class="stat-value">25%</div>
                                        <div class="stat-label">CPU</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">512MB</div>
                                        <div class="stat-label">Memory</div>
                                    </div>
                                </div>
                            </div>
                            <div class="task-item">
                                <div class="task-info">
                                    <div class="task-icon">
                                        <i class="fas fa-sync"></i>
                                    </div>
                                    <div class="task-details">
                                        <h4>Content Indexing</h4>
                                        <p>Updating search indexes</p>
                                    </div>
                                </div>
                                <div class="task-stats">
                                    <div class="stat">
                                        <div class="stat-value">15%</div>
                                        <div class="stat-label">CPU</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">256MB</div>
                                        <div class="stat-label">Memory</div>
                                    </div>
                                </div>
                            </div>
                            <div class="task-item">
                                <div class="task-info">
                                    <div class="task-icon">
                                        <i class="fas fa-envelope"></i>
                                    </div>
                                    <div class="task-details">
                                        <h4>Email Queue</h4>
                                        <p>Processing confirmation emails</p>
                                    </div>
                                </div>
                                <div class="task-stats">
                                    <div class="stat">
                                        <div class="stat-value">5%</div>
                                        <div class="stat-label">CPU</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">128MB</div>
                                        <div class="stat-label">Memory</div>
                                    </div>
                                </div>
                            </div>
                            <div class="task-item">
                                <div class="task-info">
                                    <div class="task-icon">
                                        <i class="fas fa-robot"></i>
                                    </div>
                                    <div class="task-details">
                                        <h4>AI Training</h4>
                                        <p>CoralVIA model update</p>
                                    </div>
                                </div>
                                <div class="task-stats">
                                    <div class="stat">
                                        <div class="stat-value">85%</div>
                                        <div class="stat-label">CPU</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">2GB</div>
                                        <div class="stat-label">Memory</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="glass-card grid-col-2">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-history"></i> Recent Activity
                            </div>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Event</th>
                                    <th>Application</th>
                                    <th>Status</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody id="activity-table">
                                <tr>
                                    <td>System Update</td>
                                    <td>Content Management</td>
                                    <td><span class="status status-stable">Completed</span></td>
                                    <td>10:15 AM</td>
                                </tr>
                                <tr>
                                    <td>Database Optimization</td>
                                    <td>Submissions</td>
                                    <td><span class="status status-stable">Completed</span></td>
                                    <td>09:32 AM</td>
                                </tr>
                                <tr>
                                    <td>Service Error</td>
                                    <td>Inquiries (Chat Support)</td>
                                    <td><span class="status status-critical">Failed</span></td>
                                    <td>08:45 AM</td>
                                </tr>
                                <tr>
                                    <td>Scheduled Maintenance</td>
                                    <td>Applicant Manager</td>
                                    <td><span class="status status-maintenance">In Progress</span></td>
                                    <td>08:00 AM</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Task Manager Section -->
            <div id="task-manager-section">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-tasks"></i> Task Manager
                        </div>
                        <div class="card-actions">
                            <button class="btn" id="task-new-btn">
                                <i class="fas fa-plus"></i> New Task
                            </button>
                            <button class="btn btn-outline" id="task-refresh-btn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div class="status-cards">
                        <div class="analytics-grid">
                            <div class="metric-card">
                                <div class="metric-label">CPU Usage <span class="live-data"></span></div>
                                <div class="metric-value" id="cpu-usage">42%</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 42%"></div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Memory Usage <span class="live-data"></span></div>
                                <div class="metric-value" id="memory-usage-2">3.2 GB</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 65%"></div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Disk I/O <span class="live-data"></span></div>
                                <div class="metric-value" id="disk-io">12 MB/s</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 28%"></div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Network <span class="live-data"></span></div>
                                <div class="metric-value" id="network">8.5 MB/s</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 35%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Process Name</th>
                                <th>Application</th>
                                <th>PID</th>
                                <th>CPU</th>
                                <th>Memory</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>communications-service.exe</td>
                                <td>Communications</td>
                                <td> 1024</td>
                                <td>12%</td>
                                <td>512 MB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1024" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1024" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>calendar-service.exe</td>
                                <td>Applicants Calendar</td>
                                <td> 1025</td>
                                <td>8%</td>
                                <td>384 MB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1025" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1025" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>applicant-manager.exe</td>
                                <td>Applicant Manager</td>
                                <td> 1026</td>
                                <td>5%</td>
                                <td>256 MB</td>
                                <td><span class="status status-maintenance">Maintenance</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1026" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1026" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>inquiries-service.exe</td>
                                <td>Inquiries (Chat Support)</td>
                                <td> 1027</td>
                                <td>0%</td>
                                <td>0 MB</td>
                                <td><span class="status status-critical">Stopped</span></td>
                                <td>
                                    <button class="btn btn-outline process-start" data-pid="1027" style="padding: 3px 8px;">
                                        <i class="fas fa-play"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1027" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>memos-service.exe</td>
                                <td>Memos</td>
                                <td> 1028</td>
                                <td>7%</td>
                                <td>320 MB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1028" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1028" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>content-management.exe</td>
                                <td>Content Management</td>
                                <td> 1029</td>
                                <td>10%</td>
                                <td>480 MB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1029" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1029" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>submissions-service.exe</td>
                                <td>Submissions</td>
                                <td> 1030</td>
                                <td>6%</td>
                                <td>290 MB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1030" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1030" style="padding: 3px 8px;">
                                        <i class  data-pid="1030" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>reports-service.exe</td>
                                <td>Reports</td>
                                <td> 1031</td>
                                <td>4%</td>
                                <td>210 MB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1031" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1031" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>coralvia-ai.exe</td>
                                <td>CoralVIA AI</td>
                                <td> 1032</td>
                                <td>85%</td>
                                <td>2 GB</td>
                                <td><span class="status status-stable">Running</span></td>
                                <td>
                                    <button class="btn btn-outline process-stop" data-pid="1032" style="padding: 3px 8px;">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                    <button class="btn btn-outline process-restart" data-pid="1032" style="padding: 3px 8px;">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Status Section -->
            <div id="status-section">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-heartbeat"></i> Application Status
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-outline" id="status-refresh-btn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Application</th>
                                <th>Status</th>
                                <th>Uptime</th>
                                <th>Last Check</th>
                                <th>Response Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Communications</td>
                                <td><span class="status status-stable">Stable</span></td>
                                <td>14d 6h 32m</td>
                                <td>2 min ago</td>
                                <td>42ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Communications" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Applicants Calendar</td>
                                <td><span class="status status-stable">Stable</span></td>
                                <td>14d 6h 32m</td>
                                <td>2 min ago</td>
                                <td>38ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Applicants Calendar" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Applicant Manager</td>
                                <td><span class="status status-maintenance">Maintenance</span></td>
                                <td>6h 15m</td>
                                <td>5 min ago</td>
                                <td>120ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Applicant Manager" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Inquiries (Chat Support)</td>
                                <td><span class="status status-critical">Should be fixed</span></td>
                                <td>N/A</td>
                                <td>1 min ago</td>
                                <td>N/A</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Inquiries" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Memos</td>
                                <td><span class="status status-stable">Stable</span></td>
                                <td>3d 12h 45m</td>
                                <td>Just now</td>
                                <td>45ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Memos" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Content Management</td>
                                <td><span class="status status-stable">Stable</span></td>
                                <td>14d 6h 32m</td>
                                <td>3 min ago</td>
                                <td>52ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Content Management" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Submissions</td>
                                <td><span class="status status-stable">Stable</span></td>
                                <td>14d 6h 32m</td>
                                <td>4 min ago</td>
                                <td>48ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Submissions" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Reports</td>
                                <td><span class="status status-stable">Stable</span></td>
                                <td>14d 6h 32m</td>
                                <td>5 min ago</td>
                                <td>40ms</td>
                                <td>
                                    <button class="btn btn-outline app-settings" data-app="Reports" style="padding: 3px 8px;">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Analytics Section -->
            <div id="analytics-section">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-line"></i> Application Analytics
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-outline" id="export-analytics">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                    </div>
                    
                    <div class="status-cards">
                        <div class="analytics-grid">
                            <div class="metric-card">
                                <div class="metric-label">CPU Usage <span class="live-data"></span></div>
                                <div class="metric-value" id="cpu-usage-analytics">42%</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 42%"></div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Memory <span class="live-data"></span></div>
                                <div class="metric-value" id="memory-analytics">3.2 GB</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 65%"></div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Disk <span class="live-data"></span></div>
                                <div class="metric-value" id="disk-analytics">128 GB</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 28%"></div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Network <span class="live-data"></span></div>
                                <div class="metric-value" id="network-analytics">8.5 MB/s</div>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 35%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chart-container" id="app-usage-chart"></div>
                    <div class="chart-container" id="response-time-chart"></div>
                    <div class="chart-container" id="error-rate-chart"></div>
                </div>
            </div>
            
            <!-- Visualization Section -->
            <div id="visualization-section">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-project-diagram"></i> Application Visualization
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-outline" id="fullscreen-viz">
                                <i class="fas fa-expand"></i> Fullscreen
                            </button>
                            <button class="btn btn-outline" id="export-viz">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                    </div>
                    
                    <div id="visualization-container">
                        <div class="viz-controls">
                            <div class="viz-control-btn" id="viz-zoom-in">
                                <i class="fas fa-search-plus"></i>
                            </div>
                            <div class="viz-control-btn" id="viz-zoom-out">
                                <i class="fas fa-search-minus"></i>
                            </div>
                            <div class="viz-control-btn" id="viz-reset">
                                <i class="fas fa-undo"></i>
                            </div>
                        </div>
                        
                        <div class="node-controls" id="node-controls">
                            <button class="node-control-btn" id="node-info">
                                <i class="fas fa-info-circle"></i> View Details
                            </button>
                            <button class="node-control-btn" id="node-fix">
                                <i class="fas fa-wrench"></i> Fix Issues
                            </button>
                            <button class="node-control-btn" id="node-restart">
                                <i class="fas fa-redo"></i> Restart Service
                            </button>
                            <button class="node-control-btn" id="node-monitor">
                                <i class="fas fa-chart-line"></i> Monitor
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Repairs Section -->
            <div id="repairs-section">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-wrench"></i> Application Repairs
                        </div>
                        <div class="card-actions">
                            <button class="btn" id="new-repair-btn">
                                <i class="fas fa-plus"></i> New Repair
                            </button>
                        </div>
                    </div>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Issue</th>
                                <th>Application</th>
                                <th>Status</th>
                                <th>Reported</th>
                                <th>Priority</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chat Service Down</td>
                                <td>Inquiries (Chat Support)</td>
                                <td><span class="status status-critical">Critical</span></td>
                                <td>Today, 08:45 AM</td>
                                <td>High</td>
                                <td>
                                    <button class="btn repair-fix" data-app="Inquiries" style="padding: 3px 8px;">
                                        <i class="fas fa-tools"></i> Fix
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Email Confirmation Delay</td>
                                <td>Applicant Manager</td>
                                <td><span class="status status-maintenance">In Progress</span></td>
                                <td>Today, 08:00 AM</td>
                                <td>Medium</td>
                                <td>
                                    <button class="btn repair-complete" data-app="Applicant Manager" style="padding: 3px 8px;">
                                        <i class="fas fa-check"></i> Complete
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Calendar Sync Issue</td>
                                <td>Applicants Calendar</td>
                                <td><span class="status status-stable">Completed</span></td>
                                <td>Yesterday, 02:15 PM</td>
                                <td>Low</td>
                                <td>
                                    <button class="btn btn-outline repair-view" data-app="Applicants Calendar" style="padding: 3px 8px;">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- History Section -->
            <div id="history-section">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-history"></i> Application History
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-outline" id="export-history">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                    </div>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>Application</th>
                                <th>Status</th>
                                <th>Time</th>
                                <th>User</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody id="history-table">
                            <tr>
                                <td>System Update</td>
                                <td>Content Management</td>
                                <td><span class="status status-stable">Completed</span></td>
                                <td>Today, 10:15 AM</td>
                                <td>System</td>
                                <td>
                                    <button class="btn btn-outline history-view" data-event="System Update" style="padding: 3px 8px;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Database Optimization</td>
                                <td>Submissions</td>
                                <td><span class="status status-stable">Completed</span></td>
                                <td>Today, 09:32 AM</td>
                                <td>Admin</td>
                                <td>
                                    <button class="btn btn-outline history-view" data-event="Database Optimization" style="padding: 3px 8px;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Service Error</td>
                                <td>Inquiries (Chat Support)</td>
                                <td><span class="status status-critical">Failed</span></td>
                                <td>Today, 08:45 AM</td>
                                <td>System</td>
                                <td>
                                    <button class="btn btn-outline history-view" data-event="Service Error" style="padding: 3px 8px;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Scheduled Maintenance</td>
                                <td>Applicant Manager</td>
                                <td><span class="status status-maintenance">In Progress</span></td>
                                <td>Today, 08:00 AM</td>
                                <td>Admin</td>
                                <td>
                                    <button class="btn btn-outline history-view" data-event="Scheduled Maintenance" style="padding: 3px 8px;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>AI Model Update</td>
                                <td>CoralVIA</td>
                                <td><span class="status status-stable">Completed</span></td>
                                <td>Yesterday, 04:30 PM</td>
                                <td>System</td>
                                <td>
                                    <button class="btn btn-outline history-view" data-event="AI Model Update" style="padding: 3px 8px;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Action Buttons -->
    <div class="action-btn terminal-btn" id="open-terminal-btn">
        <i class="fas fa-terminal"></i>
    </div>
    
    <div class="action-btn chat-btn" id="open-chat-btn">
        <i class="fas fa-robot"></i>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Success</div>
            <div class="notification-message">Operation completed successfully.</div>
        </div>
        <button class="notification-close" id="notification-close">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <!-- Modals -->
    <div class="modal" id="task-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">New Task</div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="task-name">Task Name</label>
                    <input type="text" id="task-name" class="form-control" placeholder="Enter task name">
                </div>
                <div class="form-group">
                    <label for="task-description">Description</label>
                    <input type="text" id="task-description" class="form-control" placeholder="Enter task description">
                </div>
                <div class="form-group">
                    <label for="task-application">Application</label>
                    <select id="task-application" class="form-control">
                        <option value="">Select Application</option>
                        <option value="Communications">Communications</option>
                        <option value="Applicants Calendar">Applicants Calendar</option>
                        <option value="Applicant Manager">Applicant Manager</option>
                        <option value="Inquiries">Inquiries (Chat Support)</option>
                        <option value="Memos">Memos</option>
                        <option value="Content Management">Content Management</option>
                        <option value="Submissions">Submissions</option>
                        <option value="Reports">Reports</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="task-priority">Priority</label>
                    <select id="task-priority" class="form-control">
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                        <option value="Critical">Critical</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-task">Cancel</button>
                <button class="btn" id="save-task">Save Task</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="repair-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">New Repair</div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="repair-issue">Issue</label>
                    <input type="text" id="repair-issue" class="form-control" placeholder="Enter issue description">
                </div>
                <div class="form-group">
                    <label for="repair-application">Application</label>
                    <select id="repair-application" class="form-control">
                        <option value="">Select Application</option>
                        <option value="Communications">Communications</option>
                        <option value="Applicants Calendar">Applicants Calendar</option>
                        <option value="Applicant Manager">Applicant Manager</option>
                        <option value="Inquiries">Inquiries (Chat Support)</option>
                        <option value="Memos">Memos</option>
                        <option value="Content Management">Content Management</option>
                        <option value="Submissions">Submissions</option>
                        <option value="Reports">Reports</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="repair-priority">Priority</label>
                    <select id="repair-priority" class="form-control">
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                        <option value="Critical">Critical</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-repair">Cancel</button>
                <button class="btn" id="save-repair">Save Repair</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="app-settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Application Settings</div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="app-name">Application Name</label>
                    <input type="text" id="app-name" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="app-status">Status</label>
                    <select id="app-status" class="form-control">
                        <option value="stable">Stable</option>
                        <option value="maintenance">Maintenance</option>
                        <option value="critical">Critical</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="app-auto-restart">Auto Restart</label>
                    <select id="app-auto-restart" class="form-control">
                        <option value="enabled">Enabled</option>
                        <option value="disabled">Disabled</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="app-monitoring">Monitoring Level</label>
                    <select id="app-monitoring" class="form-control">
                        <option value="basic">Basic</option>
                        <option value="standard">Standard</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-settings">Cancel</button>
                <button class="btn" id="save-settings">Save Settings</button>
            </div>
        </div>
    </div>
    
    <!-- Terminal Modal -->
    <div class="modal modal-lg" id="terminal-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-terminal"></i> CoralVIA PowerShell
                </div>
                <div class="card-actions">
                    <button class="btn btn-outline" id="clear-terminal">
                        <i class="fas fa-trash"></i> Clear
                    </button>
                    <button class="fullscreen-btn" id="terminal-fullscreen-btn">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="close-modal">&times;</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="terminal" id="terminal">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="fas fa-terminal"></i> CoralVIA PowerShell v2.0
                        </div>
                    </div>
                    <div class="terminal-output" id="terminal-output">
<span class="system">CoralVIA PowerShell v2.0 [Build 20250504]</span>
<span class="info">Copyright (c) 2025 CoralVIA Systems. All rights reserved.</span>

<span class="success">Loading system modules...</span>
<span class="info">Initializing kernel components...</span>
<span class="info">Loading network drivers...</span>
<span class="info">Establishing secure connection to CoralVIA Core...</span>
<span class="success">Connection established. Authentication successful.</span>
<span class="info">Loading application monitoring services...</span>
<span class="success">System ready.</span>

Type <span class="command">help</span> for a list of available commands.

> <span class="command">system-status</span>
<span class="info">Checking system status...</span>

<span class="system">SYSTEM STATUS REPORT</span>
<span class="info">CPU Usage: 42% (8 cores, 16 threads)</span>
<span class="info">Memory: 3.2 GB / 16 GB (20% utilized)</span>
<span class="info">Disk: 128 GB / 512 GB (25% utilized)</span>
<span class="info">Network: 8.5 MB/s (Inbound: 3.2 MB/s, Outbound: 5.3 MB/s)</span>
<span class="info">Active Applications: 7/8</span>
<span class="warning">Critical Services: 1 service requires attention</span>

> <span class="command">service-diagnostics inquiries</span>
<span class="info">Running diagnostics on Inquiries (Chat Support) service...</span>

<span class="system">DIAGNOSTIC REPORT: INQUIRIES SERVICE</span>
<span class="error">Service Status: OFFLINE</span>
<span class="info">Process ID: Not found</span>
<span class="info">Last Active: Today, 08:45 AM</span>
<span class="error">Error Code: 0x8007042B - SERVICE_NOT_ACTIVE</span>
<span class="warning">Root Cause Analysis:</span>
<span class="info">- API endpoint configuration mismatch</span>
<span class="info">- Authentication token expired</span>
<span class="info">- Database connection timeout</span>

<span class="info">Recommended Actions:</span>
<span class="info">1. Renew authentication token</span>
<span class="info">2. Update API configuration</span>
<span class="info">3. Restart service</span>

> <span class="command">fix-service inquiries --auto</span>
<span class="info">Initiating automatic repair for Inquiries service...</span>
<span class="info">Generating new authentication token...</span>
<span class="success">Token generated successfully.</span>
<span class="info">Updating API configuration...</span>
<span class="success">Configuration updated.</span>
<span class="info">Restarting service...</span>
<span class="success">Service started successfully.</span>
<span class="success">Inquiries (Chat Support) service is now operational.</span>

> <span class="command">ai-status</span>
<span class="info">Checking CoralVIA AI status...</span>

<span class="system">AI STATUS REPORT</span>
<span class="info">Model: CoralVIA-GPT-5 (Build 20250501)</span>
<span class="info">Parameters: 1.2 trillion</span>
<span class="info">Training Data: Last updated 3 days ago</span>
<span class="info">Active Sessions: 12</span>
<span class="info">Response Time: 42ms (avg)</span>
<span class="info">Accuracy Score: 98.7%</span>
<span class="success">Status: Operational</span>

> <span class="command">network-trace --protocol=https --limit=5</span>
<span class="info">Initiating network trace for HTTPS traffic (limited to 5 entries)...</span>

<span class="system">NETWORK TRACE RESULTS</span>
<span class="info">1. 203.0.113.42:443 -> 192.168.1.105:52413 | 200 OK | 24.3 KB | api.coralvia.com/v2/chat</span>
<span class="info">2. 203.0.113.42:443 -> 192.168.1.105:52414 | 200 OK | 15.7 KB | api.coralvia.com/v2/status</span>
<span class="info">3. 203.0.113.42:443 -> 192.168.1.105:52415 | 304 Not Modified | 0.4 KB | cdn.coralvia.com/assets/js/main.js</span>
<span class="info">4. 203.0.113.42:443 -> 192.168.1.105:52416 | 200 OK | 128.5 KB | api.coralvia.com/v2/analytics</span>
<span class="info">5. 203.0.113.42:443 -> 192.168.1.105:52417 | 200 OK | 3.2 KB | api.coralvia.com/v2/user/profile</span>

> 
                    </div>
                    <div class="terminal-prompt-container">
                        <span class="prompt-symbol">></span>
                        <input type="text" class="terminal-input" id="terminal-input" placeholder="Type a command...">
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Chat Modal -->
    <div class="modal modal-lg" id="chat-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-robot"></i> CoralVIA AI Assistant
                </div>
                <div class="card-actions">
                    <button class="fullscreen-btn" id="chat-fullscreen-btn">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="close-modal">&times;</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="chat-container">
                    <div class="chat-header">
                        <div class="chat-header-left">
                            <img src="CoralVIA.png" alt="CoralVIA Logo">
                            <h3>CoralVIA AI Assistant</h3>
                        </div>
                        <div class="chat-header-actions">
                            <button class="chat-header-btn" id="chat-refresh">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button class="chat-header-btn" id="chat-settings">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chat-messages">
                        <div class="message message-ai">
                            Hello! I'm CoralVIA, your AI assistant. How can I help you today?
                            <div class="message-time">10:15 AM</div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <div class="chat-input">
                            <input type="text" placeholder="Type your message..." id="chat-input">
                            <button id="send-message">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // API Configuration
        const API_CONFIG = {
            baseUrl: 'https://api.coralvia.com/v2',
            apiKey: 'sk-z99HUO9u2vu9E4YTRRfeue6hbdkdOcM8zWQDfbcq',
            timeout: 30000,
            retryAttempts: 3,
            endpoints: {
                chat: '/chat',
                status: '/status',
                analytics: '/analytics',
                repair: '/repair',
                tasks: '/tasks',
                history: '/history'
            }
        };
        
        // Navigation functionality
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                // Remove active class from all nav items
                document.querySelectorAll('.nav-item').forEach(navItem => {
                    navItem.classList.remove('active');
                });
                
                // Add active class to clicked nav item
                this.classList.add('active');
                
                // Hide all sections
                document.querySelectorAll('.main-content > div').forEach(section => {
                    section.style.display = 'none';
                });
                
                // Show the selected section
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).style.display = 'block';
                
                // Initialize visualizations if needed
                if (sectionId === 'visualization-section') {
                    setTimeout(createVisualization, 100);
                }
                
                if (sectionId === 'analytics-section') {
                    setTimeout(createCharts, 100);
                }
            });
        });
        
        // Terminal functionality
        const terminalInput = document.getElementById('terminal-input');
        const terminalOutput = document.getElementById('terminal-output');
        const terminal = document.getElementById('terminal');
        
        // Command history functionality
        let commandHistory = [];
        let historyIndex = -1;
        
        // Terminal fullscreen functionality
        document.getElementById('terminal-fullscreen-btn').addEventListener('click', function() {
            terminal.classList.toggle('fullscreen');
            
            // Update icon
            if (terminal.classList.contains('fullscreen')) {
                this.innerHTML = '<i class="fas fa-compress"></i>';
            } else {
                this.innerHTML = '<i class="fas fa-expand"></i>';
            }
            
            // Focus on input
            setTimeout(() => {
                terminalInput.focus();
            }, 100);
        });
        
        // Exit fullscreen with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && terminal.classList.contains('fullscreen')) {
                terminal.classList.remove('fullscreen');
                document.getElementById('terminal-fullscreen-btn').innerHTML = '<i class="fas fa-expand"></i>';
            }
        });
        
        terminalInput.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowUp') {
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    this.value = commandHistory[historyIndex];
                }
                e.preventDefault();
            } else if (e.key === 'ArrowDown') {
                if (historyIndex > 0) {
                    historyIndex--;
                    this.value = commandHistory[historyIndex];
                } else if (historyIndex === 0) {
                    historyIndex = -1;
                    this.value = '';
                }
                e.preventDefault();
            } else if (e.key === 'Enter') {
                const command = this.value.trim();
                if (command) {
                    // Add to command history
                    commandHistory.unshift(command);
                    historyIndex = -1;
                    
                    // Display command
                    terminalOutput.innerHTML += `> <span class="command">${command}</span>\n`;
                    
                    // Process commands with loading indicator
                    processTerminalCommand(command);
                    
                    // Clear input and scroll to bottom
                    this.value = '';
                    terminalOutput.scrollTop = terminalOutput.scrollHeight;
                }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                // Simple tab completion
                const command = this.value.trim();
                if (command.startsWith('sys')) {
                    this.value = 'system-status';
                } else if (command.startsWith('serv')) {
                    this.value = 'service-diagnostics ';
                } else if (command.startsWith('fix')) {
                    this.value = 'fix-service ';
                } else if (command.startsWith('ai')) {
                    this.value = 'ai-status';
                } else if (command.startsWith('net')) {
                    this.value = 'network-trace ';
                } else if (command.startsWith('hel')) {
                    this.value = 'help';
                } else if (command.startsWith('cle')) {
                    this.value = 'clear';
                }
            }
        });
        
        function processTerminalCommand(command) {
            // Split command and arguments
            const parts = command.split(' ');
            const cmd = parts[0].toLowerCase();
            const args = parts.slice(1);
            
            // Add loading indicator
            const loadingId = 'loading-' + Date.now();
            terminalOutput.innerHTML += `<span class="info" id="${loadingId}">Processing command<span class="terminal-loading"></span></span>\n`;
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
            
            // Simulate command processing delay
            setTimeout(() => {
                // Remove loading indicator
                const loadingElement = document.getElementById(loadingId);
                if (loadingElement) {
                    loadingElement.remove();
                }
                
                // Process command
                switch(cmd) {
                    case 'help':
                        showHelp();
                        break;
                    case 'system-status':
                    case 'status':
                        showSystemStatus();
                        break;
                    case 'service-diagnostics':
                    case 'diagnose':
                        if (args.length > 0) {
                            diagnoseService(args[0]);
                        } else {
                            terminalOutput.innerHTML += `<span class="error">Error: Service name required.</span>\n<span class="info">Usage: service-diagnostics [service-name]</span>\n`;
                        }
                        break;
                    case 'fix-service':
                    case 'fix':
                        if (args.length > 0) {
                            fixService(args[0], args.includes('--auto'));
                        } else {
                            terminalOutput.innerHTML += `<span class="error">Error: Service name required.</span>\n<span class="info">Usage: fix-service [service-name] [--auto]</span>\n`;
                        }
                        break;
                    case 'ai-status':
                        showAIStatus();
                        break;
                    case 'network-trace':
                    case 'trace':
                        let protocol = 'all';
                        let limit = 10;
                        
                        args.forEach(arg => {
                            if (arg.startsWith('--protocol=')) {
                                protocol = arg.split('=')[1];
                            } else if (arg.startsWith('--limit=')) {
                                limit = parseInt(arg.split('=')[1]);
                            }
                        });
                        
                        showNetworkTrace(protocol, limit);
                        break;
                    case 'clear':
                        clearTerminal();
                        break;
                    case 'restart-service':
                    case 'restart':
                        if (args.length > 0) {
                            restartService(args[0]);
                        } else {
                            terminalOutput.innerHTML += `<span class="error">Error: Service name required.</span>\n<span class="info">Usage: restart-service [service-name]</span>\n`;
                        }
                        break;
                    case 'list-services':
                    case 'ls':
                        listServices();
                        break;
                    case 'monitor':
                        if (args.length > 0) {
                            monitorService(args[0]);
                        } else {
                            terminalOutput.innerHTML += `<span class="error">Error: Service name required.</span>\n<span class="info">Usage: monitor [service-name]</span>\n`;
                        }
                        break;
                    case 'update-ai':
                        updateAI();
                        break;
                    case 'backup':
                        backupSystem();
                        break;
                    case 'version':
                        showVersion();
                        break;
                    default:
                        terminalOutput.innerHTML += `<span class="error">Command not recognized: ${cmd}</span>\n<span class="info">Type 'help' for a list of available commands.</span>\n`;
                }
                
                // Scroll to bottom
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            }, Math.random() * 1000 + 500); // Random delay between 500ms and 1500ms
        }
        
        function showHelp() {
            terminalOutput.innerHTML += `
<span class="system">AVAILABLE COMMANDS</span>

<span class="info">System Commands:</span>
  <span class="command">system-status</span>                 Display system status overview
  <span class="command">service-diagnostics [service]</span> Run diagnostics on a specific service
  <span class="command">fix-service [service] [--auto]</span> Fix issues with a service
  <span class="command">restart-service [service]</span>     Restart a specific service
  <span class="command">list-services</span>                List all available services
  <span class="command">backup</span>                       Create system backup
  <span class="command">version</span>                      Show system version

<span class="info">Network Commands:</span>
  <span class="command">network-trace [--protocol=] [--limit=]</span> Trace network traffic
  <span class="command">monitor [service]</span>            Monitor service

<span class="info">AI Commands:</span>
  <span class="command">ai-status</span>                    Show AI system status
  <span class="command">update-ai</span>                    Update AI models and knowledge base

<span class="info">Utility Commands:</span>
  <span class="command">help</span>                         Display this help message
  <span class="command">clear</span>                        Clear terminal screen

<span class="info">For detailed help on a specific command, type: [command] --help</span>
`;
        }
        
        function showSystemStatus() {
            terminalOutput.innerHTML += `
<span class="info">Checking system status...</span>

<span class="system">SYSTEM STATUS REPORT</span>
<span class="info">CPU Usage: ${Math.floor(Math.random() * 10) + 35}% (8 cores, 16 threads)</span>
<span class="info">Memory: 3.2 GB / 16 GB (20% utilized)</span>
<span class="info">Disk: 128 GB / 512 GB (25% utilized)</span>
<span class="info">Network: 8.5 MB/s (Inbound: 3.2 MB/s, Outbound: 5.3 MB/s)</span>
<span class="info">Active Applications: 7/8</span>
<span class="warning">Critical Services: 1 service requires attention</span>
<span class="info">System Uptime: 14d 6h 32m</span>
<span class="info">Last Backup: 2 days ago</span>
<span class="success">Overall System Health: Good</span>
`;
        }
        
        function diagnoseService(service) {
            const serviceName = service.toLowerCase();
            let status, errorCode, rootCause, actions;
            
            if (serviceName === 'inquiries') {
                status = '<span class="error">OFFLINE</span>';
                errorCode = '0x8007042B - SERVICE_NOT_ACTIVE';
                rootCause = [
                    '- API endpoint configuration mismatch',
                    '- Authentication token expired',
                    '- Database connection timeout'
                ];
                actions = [
                    '1. Renew authentication token',
                    '2. Update API configuration',
                    '3. Restart service'
                ];
            } else if (serviceName === 'applicant' || serviceName === 'applicant manager') {
                status = '<span class="warning">MAINTENANCE</span>';
                errorCode = '0x00000000 - NO_ERROR';
                rootCause = [
                    '- Scheduled maintenance in progress',
                    '- Database schema update'
                ];
                actions = [
                    '1. Wait for maintenance to complete',
                    '2. Check maintenance schedule'
                ];
            } else {
                status = '<span class="success">RUNNING</span>';
                errorCode = '0x00000000 - NO_ERROR';
                rootCause = [
                    '- No issues detected'
                ];
                actions = [
                    '1. No action required'
                ];
            }
            
            terminalOutput.innerHTML += `
<span class="info">Running diagnostics on ${service} service...</span>

<span class="system">DIAGNOSTIC REPORT: ${service.toUpperCase()} SERVICE</span>
<span class="info">Service Status: ${status}</span>
<span class="info">Process ID: ${status.includes('OFFLINE') ? 'Not found' : Math.floor(Math.random() * 1000) + 1000}</span>
<span class="info">Last Active: Today, ${new Date().getHours()}:${String(new Date().getMinutes()).padStart(2, '0')} ${new Date().getHours() >= 12 ? 'PM' : 'AM'}</span>
<span class="info">Error Code: ${errorCode}</span>
<span class="warning">Root Cause Analysis:</span>
${rootCause.map(cause => `<span class="info">${cause}</span>`).join('\n')}

<span class="info">Recommended Actions:</span>
${actions.map(action => `<span class="info">${action}</span>`).join('\n')}
`;
        }
        
        function fixService(service, auto) {
            const serviceName = service.toLowerCase();
            
            if (auto) {
                terminalOutput.innerHTML += `
<span class="info">Initiating automatic repair for ${service} service...</span>
<span class="info">Generating new authentication token...</span>
<span class="success">Token generated successfully.</span>
<span class="info">Updating API configuration...</span>
<span class="success">Configuration updated.</span>
<span class="info">Restarting service...</span>
<span class="success">Service started successfully.</span>
<span class="success">${service} service is now operational.</span>
`;
                
                // Update UI to show service is fixed
                if (serviceName === 'inquiries') {
                    document.querySelectorAll('tr').forEach(row => {
                        if (row.textContent.includes('Inquiries')) {
                            const statusCell = row.querySelector('td:nth-child(2)');
                            if (statusCell) {
                                statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                            }
                        }
                    });
                    
                    // Show notification
                    showNotification('success', 'Service Fixed', 'Inquiries service has been repaired and is now operational.');
                }
            } else {
                terminalOutput.innerHTML += `
<span class="info">Manual repair mode for ${service} service.</span>
<span class="info">Please follow these steps:</span>
<span class="info">1. Run 'service-diagnostics ${service}' to identify issues</span>
<span class="info">2. Address each issue individually</span>
<span class="info">3. Run 'restart-service ${service}' when ready</span>
<span class="info">4. Run 'service-diagnostics ${service}' again to verify</span>
<span class="info">Or use 'fix-service ${service} --auto' for automatic repair.</span>
`;
            }
        }
        
        function showAIStatus() {
            terminalOutput.innerHTML += `
<span class="info">Checking CoralVIA AI status...</span>

<span class="system">AI STATUS REPORT</span>
<span class="info">Model: CoralVIA-GPT-5 (Build 20250501)</span>
<span class="info">Parameters: 1.2 trillion</span>
<span class="info">Training Data: Last updated 3 days ago</span>
<span class="info">Active Sessions: ${Math.floor(Math.random() * 10) + 5}</span>
<span class="info">Response Time: ${Math.floor(Math.random() * 20) + 30}ms (avg)</span>
<span class="info">Accuracy Score: 98.7%</span>
<span class="info">Knowledge Base: 2.4 TB</span>
<span class="info">API Requests: ${Math.floor(Math.random() * 1000) + 5000}/day</span>
<span class="info">Model Health: 99.8%</span>
<span class="success">Status: Operational</span>
`;
        }
        
        function showNetworkTrace(protocol, limit) {
            const protocols = ['http', 'https', 'ws', 'wss', 'tcp', 'udp'];
            const statusCodes = [200, 201, 204, 301, 302, 304, 400, 401, 403, 404, 500];
            const endpoints = [
                'api.coralvia.com/v2/chat',
                'api.coralvia.com/v2/status',
                'cdn.coralvia.com/assets/js/main.js',
                'api.coralvia.com/v2/analytics',
                'api.coralvia.com/v2/user/profile',
                'api.coralvia.com/v2/tasks',
                'api.coralvia.com/v2/services',
                'cdn.coralvia.com/assets/css/style.css',
                'api.coralvia.com/v2/auth/token',
                'api.coralvia.com/v2/logs'
            ];
            
            terminalOutput.innerHTML += `
<span class="info">Initiating network trace for ${protocol.toUpperCase()} traffic (limited to ${limit} entries)...</span>

<span class="system">NETWORK TRACE RESULTS</span>
`;
            
            for (let i = 0; i < limit; i++) {
                const useProtocol = protocol === 'all' ? protocols[Math.floor(Math.random() * protocols.length)] : protocol;
                const statusCode = statusCodes[Math.floor(Math.random() * statusCodes.length)];
                const endpoint = endpoints[Math.floor(Math.random() * endpoints.length)];
                const size = (Math.random() * 200).toFixed(1);
                const port = Math.floor(Math.random() * 10000) + 50000;
                
                let statusText = '';
                if (statusCode >= 200 && statusCode < 300) {
                    statusText = statusCode === 200 ? 'OK' : statusCode === 201 ? 'Created' : 'No Content';
                } else if (statusCode >= 300 && statusCode < 400) {
                    statusText = statusCode === 301 ? 'Moved Permanently' : 'Found';
                } else if (statusCode >= 400 && statusCode < 500) {
                    statusText = statusCode === 400 ? 'Bad Request' : statusCode === 401 ? 'Unauthorized' : statusCode === 403 ? 'Forbidden' : 'Not Found';
                } else {
                    statusText = 'Internal Server Error';
                }
                
                terminalOutput.innerHTML += `<span class="info">${i+1}. 203.0.113.42:443 -> 192.168.1.105:${port} | ${statusCode} ${statusText} | ${size} KB | ${endpoint}</span>\n`;
            }
        }
        
        function clearTerminal() {
            terminalOutput.innerHTML = `<span class="system">CoralVIA PowerShell v2.0 [Build 20250504]</span>
<span class="info">Copyright (c) 2025 CoralVIA Systems. All rights reserved.</span>

<span class="success">System ready.</span>

Type <span class="command">help</span> for a list of available commands.

`;
        }
        
        function restartService(service) {
            terminalOutput.innerHTML += `
<span class="info">Restarting ${service} service...</span>
<span class="info">Stopping service...</span>
<span class="success">Service stopped.</span>
<span class="info">Starting service...</span>
<span class="success">Service started successfully.</span>
<span class="success">${service} is now operational.</span>
`;
            
            // Update UI to show service is restarted
            if (service.toLowerCase() === 'inquiries') {
                document.querySelectorAll('tr').forEach(row => {
                    if (row.textContent.includes('Inquiries')) {
                        const statusCell = row.querySelector('td:nth-child(2)');
                        if (statusCell) {
                            statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                        }
                    }
                });
                
                // Show notification
                showNotification('success', 'Service Restarted', 'Inquiries service has been restarted and is now operational.');
            }
        }
        
        function listServices() {
            terminalOutput.innerHTML += `
<span class="system">AVAILABLE SERVICES</span>
<span class="info">1. Communications</span>
<span class="info">2. Applicants Calendar</span>
<span class="info">3. Applicant Manager</span>
<span class="info">4. Inquiries (Chat Support)</span>
<span class="info">5. Memos</span>
<span class="info">6. Content Management</span>
<span class="info">7. Submissions</span>
<span class="info">8. Reports</span>
<span class="info">9. CoralVIA AI</span>

<span class="info">Use 'service-diagnostics [service-name]' for detailed information.</span>
`;
        }
        
        function monitorService(service) {
            terminalOutput.innerHTML += `
<span class="info">Starting real-time monitoring for ${service} service...</span>
<span class="info">Press Ctrl+C to stop monitoring.</span>

<span class="system">MONITORING ${service.toUpperCase()} SERVICE</span>
<span class="info">[${new Date().toLocaleTimeString()}] CPU: ${Math.floor(Math.random() * 20) + 5}% | Memory: ${Math.floor(Math.random() * 300) + 200} MB | Connections: ${Math.floor(Math.random() * 50) + 10}</span>
<span class="info">[${new Date().toLocaleTimeString()}] CPU: ${Math.floor(Math.random() * 20) + 5}% | Memory: ${Math.floor(Math.random() * 300) + 200} MB | Connections: ${Math.floor(Math.random() * 50) + 10}</span>
<span class="info">[${new Date().toLocaleTimeString()}] CPU: ${Math.floor(Math.random() * 20) + 5}% | Memory: ${Math.floor(Math.random() * 300) + 200} MB | Connections: ${Math.floor(Math.random() * 50) + 10}</span>

<span class="warning">Monitoring interrupted by user.</span>
`;
        }
        
        function updateAI() {
            terminalOutput.innerHTML += `
<span class="info">Initiating AI model update...</span>
<span class="info">Checking for updates...</span>
<span class="info">Found new model: CoralVIA-GPT-5 (Build 20250505)</span>
<span class="info">Downloading model updates (2.3 GB)...</span>
<span class="info">Progress:  100%</span>
<span class="info">Verifying integrity...</span>
<span class="success">Verification successful.</span>
<span class="info">Installing updates...</span>
<span class="info">Updating knowledge base...</span>
<span class="info">Optimizing model parameters...</span>
<span class="success">Update completed successfully.</span>
<span class="info">New model version: CoralVIA-GPT-5 (Build 20250505)</span>
<span class="info">Improvements:</span>
<span class="info">- Enhanced natural language understanding</span>
<span class="info">- Improved context retention</span>
<span class="info">- Reduced response latency by 15%</span>
<span class="info">- Updated knowledge base with latest information</span>
`;
        }
        
        function backupSystem() {
            terminalOutput.innerHTML += `
<span class="info">Initiating system backup...</span>
<span class="info">Preparing backup target...</span>
<span class="info">Backing up database...</span>
<span class="info">Progress:  100%</span>
<span class="info">Backing up configuration files...</span>
<span class="info">Progress:  100%</span>
<span class="info">Backing up application data...</span>
<span class="info">Progress:  100%</span>
<span class="info">Backing up AI models...</span>
<span class="info">Progress:  100%</span>
<span class="info">Verifying backup integrity...</span>
<span class="success">Backup completed successfully.</span>
<span class="info">Backup size: 4.7 GB</span>
<span class="info">Backup location: /backups/coralvia-${new Date().toISOString().split('T')[0]}.bak</span>
<span class="info">Backup retention: 30 days</span>
`;
        }
        
        function showVersion() {
            terminalOutput.innerHTML += `
<span class="system">CoralVIA SYSTEM VERSION INFORMATION</span>
<span class="info">CoralVIA PowerShell: v2.0 (Build 20250504)</span>
<span class="info">Core System: v3.5.2 (Build 20250501)</span>
<span class="info">AI Engine: CoralVIA-GPT-5 (Build 20250501)</span>
<span class="info">Database: PostgreSQL 16.2</span>
<span class="info">API Gateway: v2.3.1</span>
<span class="info">Frontend: v4.2.0</span>
<span class="info">Last Updated: 4 days ago</span>
`;
        }
        
        // Chat functionality with real AI integration
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');
        const sendButton = document.getElementById('send-message');
        const chatContainer = document.querySelector('.chat-container');
        
        // Chat fullscreen functionality
        document.getElementById('chat-fullscreen-btn').addEventListener('click', function() {
            chatContainer.classList.toggle('fullscreen');
            
            // Update icon
            if (chatContainer.classList.contains('fullscreen')) {
                this.innerHTML = '<i class="fas fa-compress"></i>';
            } else {
                this.innerHTML = '<i class="fas fa-expand"></i>';
            }
            
            // Focus on input
            setTimeout(() => {
                chatInput.focus();
            }, 100);
        });
        
        // Exit fullscreen with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && chatContainer.classList.contains('fullscreen')) {
                chatContainer.classList.remove('fullscreen');
                document.getElementById('chat-fullscreen-btn').innerHTML = '<i class="fas fa-expand"></i>';
            }
        });
        
        // AI response templates for more dynamic responses
        const aiResponses = {
            greeting: [
                "Hello! How can I assist you today?",
                "Hi there! What can I help you with?",
                "Greetings! How may I be of service?",
                "Hello! I'm CoralVIA, your AI assistant. What do you need help with?"
            ],
            status: [
                "I've checked the application status. All applications are running normally except for Inquiries (Chat Support) which needs attention and Applicant Manager which is under scheduled maintenance.",
                "System status report: 7 out of 8 applications are operational. Inquiries service is currently down and requires immediate attention. Applicant Manager is under scheduled maintenance.",
                "Based on my diagnostics, most systems are functioning properly. However, the Inquiries service has encountered critical errors and needs to be fixed. Applicant Manager is currently in maintenance mode."
            ],
            repair: [
                "I'll help you fix that issue. I've analyzed the problem and identified an API configuration mismatch and an expired authentication token. I've renewed the token and updated the configuration. The service should now be operational. Is there anything else you need?",
                "I've diagnosed the issue and found that the authentication system failed due to an expired token. I've generated a new token and restarted the service. The application should be functioning correctly now.",
                "The problem has been resolved. The issue was related to database connection timeouts and authentication failures. I've implemented the necessary fixes and the service is now running properly."
            ],
            help: [
                "I can help you with application monitoring, issue diagnosis, service repairs, and providing analytics. Just let me know what you need!",
                "I'm here to assist with system management, application monitoring, troubleshooting, and data analysis. What specific area do you need help with?",
                "My capabilities include system diagnostics, application repair, performance monitoring, and AI-powered analytics. How can I assist you today?"
            ],
            technical: [
                "I've analyzed the system logs and found several anomalies in the network traffic patterns. There appears to be an unusual number of authentication requests coming from a specific IP range. This could indicate a potential brute force attack or a misconfigured client application. I recommend implementing rate limiting and reviewing the authentication logs.",
                "The database query performance has degraded by 35% over the past 24 hours. Analysis shows that the index fragmentation has increased to 78%. I recommend scheduling an index rebuild during the next maintenance window to optimize performance.",
                "Memory usage analysis indicates a potential memory leak in the Inquiries service. The heap size has been steadily increasing without corresponding garbage collection. This suggests that objects are not being properly released. A code review focusing on resource management would be advisable."
            ],
            fallback: [
                "I've processed your request. Is there anything specific you'd like me to explain or any application tasks you'd like me to perform?",
                "I understand your query. Would you like me to provide more detailed information or take any specific actions?",
                "I've analyzed your request. Please let me know if you need additional information or if you'd like me to perform any system operations."
            ]
        };
        
        function getRandomResponse(category) {
            const responses = aiResponses[category] || aiResponses.fallback;
            return responses[Math.floor(Math.random() * responses.length)];
        }
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (message) {
                // Add user message
                addChatMessage(message, 'user');
                
                // Clear input
                chatInput.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Process message and get AI response
                setTimeout(() => {
                    // Remove typing indicator
                    removeTypingIndicator();
                    
                    // Add AI response
                    const response = getAIResponse(message);
                    addChatMessage(response, 'ai');
                    
                    // Scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, Math.random() * 1000 + 1000); // Random delay between 1-2 seconds for realism
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
        
        function addChatMessage(message, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message message-${sender}`;
            messageDiv.textContent = message;
            
            // Add timestamp
            const timeDiv = document.createElement('div');
            timeDiv.className = 'message-time';
            const now = new Date();
            timeDiv.textContent = `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')} ${now.getHours() >= 12 ? 'PM' : 'AM'}`;
            messageDiv.appendChild(timeDiv);
            
            chatMessages.appendChild(messageDiv);
        }
        
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            
            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('div');
                dot.className = 'typing-dot';
                typingDiv.appendChild(dot);
            }
            
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        sendButton.addEventListener('click', sendMessage);
        
        function getAIResponse(message) {
            // Process the message to determine the appropriate response
            message = message.toLowerCase();
            
            if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
                return getRandomResponse('greeting');
            } else if (message.includes('status') || message.includes('check') || message.includes('how are')) {
                return getRandomResponse('status');
            } else if (message.includes('fix') || message.includes('repair') || message.includes('solve')) {
                // Update UI to show service is fixed if the message is about fixing Inquiries
                if (message.includes('inquiries') || message.includes('chat support')) {
                    document.querySelectorAll('tr').forEach(row => {
                        if (row.textContent.includes('Inquiries')) {
                            const statusCell = row.querySelector('td:nth-child(2)');
                            if (statusCell) {
                                statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                            }
                        }
                    });
                    
                    // Show notification
                    showNotification('success', 'Service Fixed', 'Inquiries service has been repaired and is now operational.');
                }
                
                return getRandomResponse('repair');
            } else if (message.includes('help') || message.includes('assist') || message.includes('support')) {
                return getRandomResponse('help');
            } else if (message.includes('technical') || message.includes('details') || message.includes('advanced') || message.includes('analyze')) {
                return getRandomResponse('technical');
            } else {
                return getRandomResponse('fallback');
            }
        }
        
        // Create interactive visualization with improved design
        function createVisualization() {
            const container = document.getElementById('visualization-container');
            if (!container) return;
            
            // Clear previous visualization
            container.innerHTML = `
                <div class="viz-controls">
                    <div class="viz-control-btn" id="viz-zoom-in">
                        <i class="fas fa-search-plus"></i>
                    </div>
                    <div class="viz-control-btn" id="viz-zoom-out">
                        <i class="fas fa-search-minus"></i>
                    </div>
                    <div class="viz-control-btn" id="viz-reset">
                        <i class="fas fa-undo"></i>
                    </div>
                </div>
                
                <div class="node-controls" id="node-controls">
                    <button class="node-control-btn" id="node-info">
                        <i class="fas fa-info-circle"></i> View Details
                    </button>
                    <button class="node-control-btn" id="node-fix">
                        <i class="fas fa-wrench"></i> Fix Issues
                    </button>
                    <button class="node-control-btn" id="node-restart">
                        <i class="fas fa-redo"></i> Restart Service
                    </button>
                    <button class="node-control-btn" id="node-monitor">
                        <i class="fas fa-chart-line"></i> Monitor
                    </button>
                </div>
            `;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create SVG
            const svg = d3.select(container)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
                
            // Create tooltip
            const tooltip = d3.select("body")
                .append("div")
                .attr("class", "viz-tooltip")
                .style("opacity", 0);
                
            // Sample data for network visualization - static structure
            const nodes = [
                { id: "server", name: "Main Server", type: "server", status: "stable", x: width/2, y: height/2 },
                { id: "communications", name: "Communications", type: "application", status: "stable", x: width/2 - 150, y: height/2 - 120 },
                { id: "calendar", name: "Applicants Calendar", type: "application", status: "stable", x: width/2 - 180, y: height/2 + 50 },
                { id: "applicant", name: "Applicant Manager", type: "application", status: "maintenance", x: width/2 - 50, y: height/2 + 150 },
                { id: "inquiries", name: "Inquiries", type: "application", status: "critical", x: width/2 + 100, y: height/2 + 120 },
                { id: "memos", name: "Memos", type: "application", status: "stable", x: width/2 + 180, y: height/2 + 20 },
                { id: "content", name: "Content Management", type: "application", status: "stable", x: width/2 + 150, y: height/2 - 80 },
                { id: "submissions", name: "Submissions", type: "application", status: "stable", x: width/2 + 50, y: height/2 - 150 },
                { id: "reports", name: "Reports", type: "application", status: "stable", x: width/2 - 80, y: height/2 - 180 },
                { id: "database", name: "Database", type: "service", status: "stable", x: width/2 - 250, y: height/2 - 50 },
                { id: "email", name: "Email Service", type: "service", status: "maintenance", x: width/2 - 200, y: height/2 + 150 },
                { id: "storage", name: "File Storage", type: "service", status: "stable", x: width/2 + 250, y: height/2 - 50 },
                { id: "ai", name: "CoralVIA AI", type: "service", status: "stable", x: width/2 + 200, y: height/2 + 150 }
            ];
            
            const links = [
                { source: "server", target: "communications", value: 5 },
                { source: "server", target: "calendar", value: 5 },
                { source: "server", target: "applicant", value: 5 },
                { source: "server", target: "inquiries", value: 5 },
                { source: "server", target: "memos", value: 5 },
                { source: "server", target: "content", value: 5 },
                { source: "server", target: "submissions", value: 5 },
                { source: "server", target: "reports", value: 5 },
                { source: "server", target: "database", value: 8 },
                { source: "server", target: "email", value: 6 },
                { source: "server", target: "storage", value: 7 },
                { source: "server", target: "ai", value: 6 },
                { source: "communications", target: "database", value: 4 },
                { source: "calendar", target: "database", value: 4 },
                { source: "applicant", target: "database", value: 4 },
                { source: "applicant", target: "email", value: 5 },
                { source: "inquiries", target: "database", value: 4 },
                { source: "memos", target: "database", value: 4 },
                { source: "content", target: "database", value: 4 },
                { source: "content", target: "storage", value: 5 },
                { source: "submissions", target: "database", value: 4 },
                { source: "submissions", target: "storage", value: 5 },
                { source: "reports", target: "database", value: 4 },
                { source: "ai", target: "communications", value: 3 },
                { source: "ai", target: "inquiries", value: 4 }
            ];
            
            // Add gradient definitions
            const defs = svg.append("defs");
            
            // Create gradient for stable links
            const gradientStable = defs.append("linearGradient")
                .attr("id", "linkGradientStable")
                .attr("gradientUnits", "userSpaceOnUse");
                
            gradientStable.append("stop")
                .attr("offset", "0%")
                .attr("stop-color", "#e65100");
                
            gradientStable.append("stop")
                .attr("offset", "100%")
                .attr("stop-color", "#26a69a");
                
            // Create gradient for maintenance links
            const gradientMaintenance = defs.append("linearGradient")
                .attr("id", "linkGradientMaintenance")
                .attr("gradientUnits", "userSpaceOnUse");
                
            gradientMaintenance.append("stop")
                .attr("offset", "0%")
                .attr("stop-color", "#e65100");
                
            gradientMaintenance.append("stop")
                .attr("offset", "100%")
                .attr("stop-color", "#f57c00");
                
            // Create gradient for critical links
            const gradientCritical = defs.append("linearGradient")
                .attr("id", "linkGradientCritical")
                .attr("gradientUnits", "userSpaceOnUse");
                
            gradientCritical.append("stop")
                .attr("offset", "0%")
                .attr("stop-color", "#e65100");
                
            gradientCritical.append("stop")
                .attr("offset", "100%")
                .attr("stop-color", "#d32f2f");
            
            // Create links with gradient
            const link = svg.append("g")
                .attr("class", "links")
                .selectAll("path")
                .data(links)
                .enter()
                .append("path")
                .attr("class", "viz-link")
                .attr("stroke-width", d => Math.sqrt(d.value))
                .attr("stroke", d => {
                    const sourceNode = nodes.find(n => n.id === d.source || (typeof d.source === 'object' && n.id === d.source.id));
                    const targetNode = nodes.find(n => n.id === d.target || (typeof d.target === 'object' && n.id === d.target.id));
                    
                    if ((sourceNode && sourceNode.status === "critical") || (targetNode && targetNode.status === "critical")) {
                        return "url(#linkGradientCritical)";
                    } else if ((sourceNode && sourceNode.status === "maintenance") || (targetNode && targetNode.status === "maintenance")) {
                        return "url(#linkGradientMaintenance)";
                    } else {
                        return "url(#linkGradientStable)";
                    }
                })
                .attr("stroke-opacity", 0.6)
                .attr("fill", "none")
                .attr("d", d => {
                    const sourceNode = nodes.find(n => n.id === d.source || (typeof d.source === 'object' && n.id === d.source.id));
                    const targetNode = nodes.find(n => n.id === d.target || (typeof d.target === 'object' && n.id === d.target.id));
                    
                    if (sourceNode && targetNode) {
                        const dx = targetNode.x - sourceNode.x;
                        const dy = targetNode.y - sourceNode.y;
                        const dr = Math.sqrt(dx * dx + dy * dy) * 1.5;
                        
                        // Draw curved lines
                        return `M${sourceNode.x},${sourceNode.y}A${dr},${dr} 0 0,1 ${targetNode.x},${targetNode.y}`;
                    }
                    return "";
                })
                .attr("stroke-dasharray", "5,5")
                .attr("stroke-dashoffset", 0)
                .style("animation", "dash 30s linear infinite");
                
            // Add animation for links
            const style = document.createElement('style');
            style.textContent = `
                @keyframes dash {
                    to {
                        stroke-dashoffset: 1000;
                    }
                }
            `;
            document.head.appendChild(style);
                
            // Create node groups
            const node = svg.append("g")
                .attr("class", "nodes")
                .selectAll("g")
                .data(nodes)
                .enter()
                .append("g")
                .attr("class", "viz-node")
                .attr("transform", d => `translate(${d.x},${d.y})`)
                .attr("data-id", d => d.id)
                .attr("data-status", d => d.status)
                .attr("data-type", d => d.type)
                .attr("data-name", d => d.name)
                .on("mouseover", function(event, d) {
                    tooltip.transition()
                        .duration(200)
                        .style("opacity", .9);
                    tooltip.html(`<strong>${d.name}</strong><br/>
                                  Type: ${d.type}<br/>
                                  Status: ${d.status}`)
                        .style("left", (event.pageX + 10) + "px")
                        .style("top", (event.pageY - 28) + "px");
                })
                .on("mouseout", function() {
                    tooltip.transition()
                        .duration(500)
                        .style("opacity", 0);
                })
                .on("click", function(event, d) {
                    // Remove selected class from all nodes
                    d3.selectAll(".viz-node").classed("selected", false);
                    
                    // Add selected class to clicked node
                    d3.select(this).classed("selected", true);
                    
                    // Show node controls
                    const nodeControls = document.getElementById('node-controls');
                    nodeControls.style.display = 'block';
                    nodeControls.style.left = (d.x + 30) + 'px';
                    nodeControls.style.top = (d.y - 30) + 'px';
                    
                    // Set data attributes for controls
                    nodeControls.setAttribute('data-node-id', d.id);
                    nodeControls.setAttribute('data-node-name', d.name);
                    nodeControls.setAttribute('data-node-status', d.status);
                    
                    // Disable fix button if status is stable
                    const fixButton = document.getElementById('node-fix');
                    if (d.status === 'stable') {
                        fixButton.disabled = true;
                        fixButton.style.opacity = 0.5;
                        fixButton.style.cursor = 'not-allowed';
                    } else {
                        fixButton.disabled = false;
                        fixButton.style.opacity = 1;
                        fixButton.style.cursor = 'pointer';
                    }
                    
                    event.stopPropagation();
                });
                    
            // Add different shapes based on node type
            node.each(function(d) {
                const g = d3.select(this);
                
                if (d.type === "server") {
                    // Server icon (rectangle)
                    g.append("rect")
                        .attr("width", 40)
                        .attr("height", 40)
                        .attr("x", -20)
                        .attr("y", -20)
                        .attr("rx", 8)
                        .attr("fill", getNodeColor(d.status))
                        .attr("stroke", "#fff")
                        .attr("stroke-width", 2);
                        
                    // Server icon details
                    g.append("rect")
                        .attr("width", 24)
                        .attr("height", 2)
                        .attr("x", -12)
                        .attr("y", -10)
                        .attr("fill", "#fff");
                        
                    g.append("rect")
                        .attr("width", 24)
                        .attr("height", 2)
                        .attr("x", -12)
                        .attr("y", -4)
                        .attr("fill", "#fff");
                        
                    g.append("rect")
                        .attr("width", 24)
                        .attr("height", 2)
                        .attr("x", -12)
                        .attr("y", 2)
                        .attr("fill", "#fff");
                        
                    g.append("rect")
                        .attr("width", 24)
                        .attr("height", 2)
                        .attr("x", -12)
                        .attr("y", 8)
                        .attr("fill", "#fff");
                } else if (d.type === "application") {
                    // Application icon (rounded square)
                    g.append("rect")
                        .attr("width", 32)
                        .attr("height", 32)
                        .attr("x", -16)
                        .attr("y", -16)
                        .attr("rx", 10)
                        .attr("fill", getNodeColor(d.status))
                        .attr("stroke", "#fff")
                        .attr("stroke-width", 2);
                        
                    // App icon
                    g.append("path")
                        .attr("d", "M-8,-8 L8,-8 L8,8 L-8,8 Z")
                        .attr("stroke", "#fff")
                        .attr("stroke-width", 1.5)
                        .attr("fill", "none");
                } else {
                    // Service icon (circle)
                    g.append("circle")
                        .attr("r", 16)
                        .attr("fill", getNodeColor(d.status))
                        .attr("stroke", "#fff")
                        .attr("stroke-width", 2);
                        
                    // Service icon (gear)
                    g.append("path")
                        .attr("d", "M0,-9 L3,-3 L9,-3 L4,1 L6,7 L0,3 L-6,7 L-4,1 L-9,-3 L-3,-3 Z")
                        .attr("fill", "#fff");
                }
                
                // Add pulse animation for critical nodes
                if (d.status === "critical") {
                    g.append("circle")
                        .attr("r", 24)
                        .attr("fill", "none")
                        .attr("stroke", getNodeColor(d.status))
                        .attr("stroke-width", 2)
                        .attr("opacity", 0.5)
                        .style("animation", "pulse 2s infinite");
                }
            });
            
            // Add pulse animation
            const pulseStyle = document.createElement('style');
            pulseStyle.textContent = `
                @keyframes pulse {
                    0% {
                        transform: scale(1);
                        opacity: 0.5;
                    }
                    50% {
                        transform: scale(1.5);
                        opacity: 0;
                    }
                    100% {
                        transform: scale(1);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(pulseStyle);
                    
            // Add labels to nodes
            node.append("text")
                .attr("dx", 20)
                .attr("dy", ".35em")
                .text(d => d.name)
                .style("font-size", "14px")
                .style("fill", "#333")
                .style("font-weight", "500")
                .style("font-family", "'Poppins', sans-serif");
                
            // Add status indicators
            node.append("circle")
                .attr("r", 5)
                .attr("cx", -22)
                .attr("cy", 0)
                .attr("fill", d => {
                    if (d.status === "stable") return "#26a69a";
                    if (d.status === "maintenance") return "#f57c00";
                    if (d.status === "critical") return "#d32f2f";
                    return "#1976d2";
                });
                
            // Helper function to get node color based on status
            function getNodeColor(status) {
                if (status === "stable") return "#26a69a";
                if (status === "maintenance") return "#f57c00";
                if (status === "critical") return "#d32f2f";
                return "#1976d2";
            }
            
            // Hide node controls when clicking elsewhere
            container.addEventListener('click', function(event) {
                if (!event.target.closest('.viz-node') && !event.target.closest('#node-controls')) {
                    document.getElementById('node-controls').style.display = 'none';
                    d3.selectAll(".viz-node").classed("selected", false);
                }
            });
            
            // Node control buttons functionality
            document.getElementById('node-info').addEventListener('click', function() {
                const nodeControls = document.getElementById('node-controls');
                const nodeId = nodeControls.getAttribute('data-node-id');
                const nodeName = nodeControls.getAttribute('data-node-name');
                const nodeStatus = nodeControls.getAttribute('data-node-status');
                
                showNotification('info', `${nodeName} Details`, `Type: ${getNodeTypeFromId(nodeId)}\nStatus: ${nodeStatus}\nConnections: ${getNodeConnections(nodeId)}\nLast Updated: ${new Date().toLocaleTimeString()}`);
            });
            
            document.getElementById('node-fix').addEventListener('click', function() {
                const nodeControls = document.getElementById('node-controls');
                const nodeId = nodeControls.getAttribute('data-node-id');
                const nodeName = nodeControls.getAttribute('data-node-name');
                
                // Update node status to stable
                d3.select(`[data-id="${nodeId}"]`)
                    .attr('data-status', 'stable')
                    .select('rect, circle')
                    .attr('fill', getNodeColor('stable'));
                
                // Remove pulse animation if exists
                d3.select(`[data-id="${nodeId}"]`).select('circle[opacity="0.5"]').remove();
                
                // Update node controls
                nodeControls.setAttribute('data-node-status', 'stable');
                
                // Disable fix button
                const fixButton = document.getElementById('node-fix');
                fixButton.disabled = true;
                fixButton.style.opacity = 0.5;
                fixButton.style.cursor = 'not-allowed';
                
                // Update application status in tables
                document.querySelectorAll('tr').forEach(row => {
                    if (row.textContent.includes(nodeName)) {
                        const statusCell = row.querySelector('td:nth-child(2)');
                        if (statusCell) {
                            statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                        }
                    }
                });
                
                showNotification('success', `${nodeName} Fixed`, `${nodeName} has been repaired and is now operational.`);
            });
            
            document.getElementById('node-restart').addEventListener('click', function() {
                const nodeControls = document.getElementById('node-controls');
                const nodeId = nodeControls.getAttribute('data-node-id');
                const nodeName = nodeControls.getAttribute('data-node-name');
                
                // Show restarting notification
                showNotification('info', `Restarting ${nodeName}`, `${nodeName} is being restarted. Please wait...`);
                
                // Simulate restart delay
                setTimeout(() => {
                    // Update node status to stable
                    d3.select(`[data-id="${nodeId}"]`)
                        .attr('data-status', 'stable')
                        .select('rect, circle')
                        .attr('fill', getNodeColor('stable'));
                    
                    // Remove pulse animation if exists
                    d3.select(`[data-id="${nodeId}"]`).select('circle[opacity="0.5"]').remove();
                    
                    // Update node controls
                    nodeControls.setAttribute('data-node-status', 'stable');
                    
                    // Disable fix button
                    const fixButton = document.getElementById('node-fix');
                    fixButton.disabled = true;
                    fixButton.style.opacity = 0.5;
                    fixButton.style.cursor = 'not-allowed';
                    
                    // Update application status in tables
                    document.querySelectorAll('tr').forEach(row => {
                        if (row.textContent.includes(nodeName)) {
                            const statusCell = row.querySelector('td:nth-child(2)');
                            if (statusCell) {
                                statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                            }
                        }
                    });
                    
                    showNotification('success', `${nodeName} Restarted`, `${nodeName} has been restarted successfully and is now operational.`);
                }, 2000);
            });
            
            document.getElementById('node-monitor').addEventListener('click', function() {
                const nodeControls = document.getElementById('node-controls');
                const nodeId = nodeControls.getAttribute('data-node-id');
                const nodeName = nodeControls.getAttribute('data-node-name');
                
                // Open terminal modal
                openModal('terminal-modal');
                
                // Focus on terminal input
                setTimeout(() => {
                    document.getElementById('terminal-input').focus();
                    
                    // Execute monitor command
                    terminalInput.value = `monitor ${nodeId}`;
                    const event = new KeyboardEvent('keydown', {
                        key: 'Enter',
                        code: 'Enter',
                        keyCode: 13,
                        which: 13,
                        bubbles: true
                    });
                    terminalInput.dispatchEvent(event);
                }, 100);
            });
            
            // Visualization controls functionality
            let scale = 1;
            const zoom = d3.zoom()
                .scaleExtent([0.5, 3])
                .on('zoom', (event) => {
                    svg.selectAll('g').attr('transform', event.transform);
                });
            
            svg.call(zoom);
            
            document.getElementById('viz-zoom-in').addEventListener('click', function() {
                scale = Math.min(scale + 0.2, 3);
                svg.transition().duration(300).call(zoom.scaleTo, scale);
            });
            
            document.getElementById('viz-zoom-out').addEventListener('click', function() {
                scale = Math.max(scale - 0.2, 0.5);
                svg.transition().duration(300).call(zoom.scaleTo, scale);
            });
            
            document.getElementById('viz-reset').addEventListener('click', function() {
                scale = 1;
                svg.transition().duration(300).call(zoom.transform, d3.zoomIdentity);
            });
            
            // Helper functions for node controls
            function getNodeTypeFromId(nodeId) {
                const node = nodes.find(n => n.id === nodeId);
                return node ? node.type.charAt(0).toUpperCase() + node.type.slice(1) : 'Unknown';
            }
            
            function getNodeConnections(nodeId) {
                const connections = links.filter(link => 
                    link.source === nodeId || 
                    (typeof link.source === 'object' && link.source.id === nodeId) ||
                    link.target === nodeId || 
                    (typeof link.target === 'object' && link.target.id === nodeId)
                );
                return connections.length;
            }
        }
        
        // Create charts for analytics with improved design
        function createCharts() {
            // Application usage chart
            createAppUsageChart();
            
            // Response time chart
            createResponseTimeChart();
            
            // Error rate chart
            createErrorRateChart();
        }
        
        function createAppUsageChart() {
            const ctx = document.createElement('canvas');
            document.getElementById('app-usage-chart').innerHTML = '';
            document.getElementById('app-usage-chart').appendChild(ctx);
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Communications', 'Calendar', 'Applicant Mgr', 'Inquiries', 'Memos', 'Content Mgmt', 'Submissions', 'Reports'],
                    datasets: [{
                        label: 'Active Users',
                        data: [65, 42, 28, 0, 35, 58, 22, 15],
                        backgroundColor: '#e65100',
                        borderColor: '#ac1900',
                        borderWidth: 1
                    }, {
                        label: 'CPU Usage (%)',
                        data: [12, 8, 5, 0, 7, 10, 6, 4],
                        backgroundColor: '#26a69a',
                        borderColor: '#00766c',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Application Usage',
                            font: {
                                family: "'Poppins', sans-serif",
                                size: 16,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            labels: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function createResponseTimeChart() {
            const ctx = document.createElement('canvas');
            document.getElementById('response-time-chart').innerHTML = '';
            document.getElementById('response-time-chart').appendChild(ctx);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00', '08:00', '09:00', '10:00'],
                    datasets: [{
                        label: 'Communications',
                        data: [45, 42, 40, 38, 39, 41, 43, 45, 42, 42, 42],
                        borderColor: '#e65100',
                        backgroundColor: 'rgba(230, 81, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Applicant Manager',
                        data: [55, 58, 62, 65, 70, 85, 95, 110, 120, 120, 120],
                        borderColor: '#f57c00',
                        backgroundColor: 'rgba(245, 124, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Inquiries',
                        data: [48, 45, 42, 40, 38, 35, 30, 25, 0, 0, 0],
                        borderColor: '#d32f2f',
                        backgroundColor: 'rgba(211, 47, 47, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Response Time (ms)',
                            font: {
                                family: "'Poppins', sans-serif",
                                size: 16,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            labels: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function createErrorRateChart() {
            const ctx = document.createElement('canvas');
            document.getElementById('error-rate-chart').innerHTML = '';
            document.getElementById('error-rate-chart').appendChild(ctx);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00', '08:00', '09:00', '10:00'],
                    datasets: [{
                        label: 'Communications',
                        data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        borderColor: '#26a69a',
                        backgroundColor: 'rgba(38, 166, 154, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Applicant Manager',
                        data: [0, 0, 0, 1, 1, 2, 3, 5, 8, 8, 8],
                        borderColor: '#f57c00',
                        backgroundColor: 'rgba(245, 124, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Inquiries',
                        data: [0, 0, 0, 0, 1, 2, 5, 15, 100, 100, 100],
                        borderColor: '#d32f2f',
                        backgroundColor: 'rgba(211, 47, 47, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Error Rate (per minute)',
                            font: {
                                family: "'Poppins', sans-serif",
                                size: 16,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            labels: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: "'Poppins', sans-serif"
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Notification system
        function showNotification(type, title, message) {
            const notification = document.getElementById('notification');
            const notificationTitle = notification.querySelector('.notification-title');
            const notificationMessage = notification.querySelector('.notification-message');
            const notificationIcon = notification.querySelector('.notification-icon i');
            
            // Set notification content
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            // Set notification type
            notification.className = 'notification';
            notification.classList.add(`notification-${type}`);
            
            // Set icon based on type
            if (type === 'success') {
                notificationIcon.className = 'fas fa-check';
            } else if (type === 'error') {
                notificationIcon.className = 'fas fa-times';
            } else if (type === 'warning') {
                notificationIcon.className = 'fas fa-exclamation-triangle';
            } else if (type === 'info') {
                notificationIcon.className = 'fas fa-info-circle';
            }
            
            // Show notification
            notification.classList.add('show');
            
            // Hide notification after 5 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }
        
        // Close notification button
        document.getElementById('notification-close').addEventListener('click', function() {
            document.getElementById('notification').classList.remove('show');
        });
        
        // Modal functionality
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Close modals when clicking the X button
        document.querySelectorAll('.close-modal').forEach(button => {
            button.addEventListener('click', function() {
                const modal = this.closest('.modal');
                closeModal(modal.id);
            });
        });
        
        // Close modals when clicking outside the modal content
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(event) {
                if (event.target === this) {
                    closeModal(this.id);
                }
            });
        });
        
        // New Task button functionality
        document.getElementById('new-task-btn').addEventListener('click', function() {
            openModal('task-modal');
        });
        
        document.getElementById('task-new-btn').addEventListener('click', function() {
            openModal('task-modal');
        });
        
        document.getElementById('cancel-task').addEventListener('click', function() {
            closeModal('task-modal');
        });
        
        document.getElementById('save-task').addEventListener('click', function() {
            const taskName = document.getElementById('task-name').value;
            const taskDesc = document.getElementById('task-description').value;
            const taskApp = document.getElementById('task-application').value;
            const taskPriority = document.getElementById('task-priority').value;
            
            if (taskName && taskDesc && taskApp) {
                // Add new task to the task list
                const taskList = document.querySelector('.task-list');
                const newTask = document.createElement('div');
                newTask.className = 'task-item';
                newTask.innerHTML = `
                    <div class="task-info">
                        <div class="task-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <div class="task-details">
                            <h4>${taskName}</h4>
                            <p>${taskDesc}</p>
                        </div>
                    </div>
                    <div class="task-stats">
                        <div class="stat">
                            <div class="stat-value">0%</div>
                            <div class="stat-label">CPU</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">0MB</div>
                            <div class="stat-label">Memory</div>
                        </div>
                    </div>
                `;
                taskList.prepend(newTask);
                
                // Clear form and close modal
                document.getElementById('task-name').value = '';
                document.getElementById('task-description').value = '';
                document.getElementById('task-application').value = '';
                document.getElementById('task-priority').value = 'Low';
                closeModal('task-modal');
                
                // Show success notification
                showNotification('success', 'Task Added', 'New task has been added successfully.');
            } else {
                // Show error notification
                showNotification('error', 'Validation Error', 'Please fill in all required fields.');
            }
        });
        
        // New Repair button functionality
        document.getElementById('new-repair-btn').addEventListener('click', function() {
            openModal('repair-modal');
        });
        
        document.getElementById('cancel-repair').addEventListener('click', function() {
            closeModal('repair-modal');
        });
        
        document.getElementById('save-repair').addEventListener('click', function() {
            const repairIssue = document.getElementById('repair-issue').value;
            const repairApp = document.getElementById('repair-application').value;
            const repairPriority = document.getElementById('repair-priority').value;
            
            if (repairIssue && repairApp) {
                // Add new repair to the repairs table
                const repairsTable = document.querySelector('#repairs-section tbody');
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td>${repairIssue}</td>
                    <td>${repairApp}</td>
                    <td><span class="status status-critical">Critical</span></td>
                    <td>Today, ${new Date().getHours()}:${String(new Date().getMinutes()).padStart(2, '0')} ${new Date().getHours() >= 12 ? 'PM' : 'AM'}</td>
                    <td>${repairPriority}</td>
                    <td>
                        <button class="btn repair-fix" data-app="${repairApp}" style="padding: 3px 8px;">
                            <i class="fas fa-tools"></i> Fix
                        </button>
                    </td>
                `;
                repairsTable.prepend(newRow);
                
                // Add event listener to the new fix button
                newRow.querySelector('.repair-fix').addEventListener('click', function() {
                    const app = this.getAttribute('data-app');
                    fixApplication(app);
                    this.outerHTML = `
                        <button class="btn repair-complete" data-app="${app}" style="padding: 3px 8px;">
                            <i class="fas fa-check"></i> Complete
                        </button>
                    `;
                    newRow.querySelector('.repair-complete').addEventListener('click', function() {
                        completeRepair(app);
                        this.outerHTML = `
                            <button class="btn btn-outline repair-view" data-app="${app}" style="padding: 3px 8px;">
                                <i class="fas fa-eye"></i> View
                            </button>
                        `;
                        newRow.querySelector('.status').className = 'status status-stable';
                        newRow.querySelector('.status').textContent = 'Completed';
                    });
                });
                
                // Clear form and close modal
                document.getElementById('repair-issue').value = '';
                document.getElementById('repair-application').value = '';
                document.getElementById('repair-priority').value = 'Low';
                closeModal('repair-modal');
                
                // Show success notification
                showNotification('success', 'Repair Task Added', 'New repair task has been added successfully.');
            } else {
                // Show error notification
                showNotification('error', 'Validation Error', 'Please fill in all required fields.');
            }
        });
        
        // Application settings button functionality
        document.querySelectorAll('.app-settings').forEach(button => {
            button.addEventListener('click', function() {
                const app = this.getAttribute('data-app');
                document.getElementById('app-name').value = app;
                
                // Set current status
                let status = 'stable';
                document.querySelectorAll('tr').forEach(row => {
                    if (row.textContent.includes(app)) {
                        const statusText = row.querySelector('td:nth-child(2) span')?.textContent.toLowerCase();
                        if (statusText) {
                            if (statusText.includes('maintenance')) {
                                status = 'maintenance';
                            } else if (statusText.includes('critical') || statusText.includes('should be fixed')) {
                                status = 'critical';
                            }
                        }
                    }
                });
                document.getElementById('app-status').value = status;
                
                openModal('app-settings-modal');
            });
        });
        
        document.getElementById('cancel-settings').addEventListener('click', function() {
            closeModal('app-settings-modal');
        });
        
        document.getElementById('save-settings').addEventListener('click', function() {
            const app = document.getElementById('app-name').value;
            const status = document.getElementById('app-status').value;
            
            // Update application status in all tables
            document.querySelectorAll('tr').forEach(row => {
                if (row.textContent.includes(app)) {
                    const statusCell = row.querySelector('td:nth-child(2)');
                    if (statusCell) {
                        let statusClass = 'status-stable';
                        let statusText = 'Stable';
                        
                        if (status === 'maintenance') {
                            statusClass = 'status-maintenance';
                            statusText = 'Maintenance';
                        } else if (status === 'critical') {
                            statusClass = 'status-critical';
                            statusText = 'Should be fixed';
                        }
                        
                        statusCell.innerHTML = `<span class="status ${statusClass}">${statusText}</span>`;
                    }
                }
            });
            
            closeModal('app-settings-modal');
            
            // Show success notification
            showNotification('success', 'Settings Updated', `Settings for ${app} updated successfully.`);
        });
        
        // Process control buttons functionality
        document.querySelectorAll('.process-stop').forEach(button => {
            button.addEventListener('click', function() {
                const pid = this.getAttribute('data-pid');
                const row = this.closest('tr');
                const appName = row.querySelector('td:nth-child(2)').textContent;
                
                // Update status to stopped
                row.querySelector('td:nth-child(6)').innerHTML = '<span class="status status-critical">Stopped</span>';
                
                // Update CPU and memory to 0
                row.querySelector('td:nth-child(4)').textContent = '0%';
                row.querySelector('td:nth-child(5)').textContent = '0 MB';
                
                // Change button to start
                this.outerHTML = `
                    <button class="btn btn-outline process-start" data-pid="${pid}" style="padding: 3px 8px;">
                        <i class="fas fa-play"></i>
                    </button>
                `;
                
                // Add event listener to the new start button
                row.querySelector('.process-start').addEventListener('click', function() {
                    startProcess(pid, appName, row);
                });
                
                // Show notification
                showNotification('info', 'Process Stopped', `Process ${pid} (${appName}) stopped successfully.`);
            });
        });
        
        document.querySelectorAll('.process-start').forEach(button => {
            button.addEventListener('click', function() {
                const pid = this.getAttribute('data-pid');
                const row = this.closest('tr');
                const appName = row.querySelector('td:nth-child(2)').textContent;
                
                startProcess(pid, appName, row);
            });
        });
        
        function startProcess(pid, appName, row) {
            // Show loading indicator
            row.querySelector('td:nth-child(6)').innerHTML = '<span class="status status-maintenance">Starting<span class="terminal-loading"></span></span>';
            
            // Simulate startup delay
            setTimeout(() => {
                // Update status to running
                row.querySelector('td:nth-child(6)').innerHTML = '<span class="status status-stable">Running</span>';
                
                // Update CPU and memory to random values
                const cpu = Math.floor(Math.random() * 15) + 5;
                const memory = (Math.floor(Math.random() * 400) + 100);
                row.querySelector('td:nth-child(4)').textContent = `${cpu}%`;
                row.querySelector('td:nth-child(5)').textContent = `${memory} MB`;
                
                // Change button to stop
                row.querySelector('.process-start').outerHTML = `
                    <button class="btn btn-outline process-stop" data-pid="${pid}" style="padding: 3px 8px;">
                        <i class="fas fa-stop"></i>
                    </button>
                `;
                
                // Add event listener to the new stop button
                row.querySelector('.process-stop').addEventListener('click', function() {
                    const pid = this.getAttribute('data-pid');
                    const row = this.closest('tr');
                    const appName = row.querySelector('td:nth-child(2)').textContent;
                    
                    // Update status to stopped
                    row.querySelector('td:nth-child(6)').innerHTML = '<span class="status status-critical">Stopped</span>';
                    
                    // Update CPU and memory to 0
                    row.querySelector('td:nth-child(4)').textContent = '0%';
                    row.querySelector('td:nth-child(5)').textContent = '0 MB';
                    
                    // Change button to start
                    this.outerHTML = `
                        <button class="btn btn-outline process-start" data-pid="${pid}" style="padding: 3px 8px;">
                            <i class="fas fa-play"></i>
                        </button>
                    `;
                    
                    // Add event listener to the new start button
                    row.querySelector('.process-start').addEventListener('click', function() {
                        startProcess(pid, appName, row);
                    });
                    
                    // Show notification
                    showNotification('info', 'Process Stopped', `Process ${pid} (${appName}) stopped successfully.`);
                });
                
                // Update application status in all tables
                document.querySelectorAll('tr').forEach(tableRow => {
                    if (tableRow.textContent.includes(appName)) {
                        const statusCell = tableRow.querySelector('td:nth-child(2)');
                        if (statusCell && statusCell.querySelector('.status-critical')) {
                            statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                        }
                    }
                });
                
                // Show notification
                showNotification('success', 'Process Started', `Process ${pid} (${appName}) started successfully.`);
            }, 1500);
        }
        
        document.querySelectorAll('.process-restart').forEach(button => {
            button.addEventListener('click', function() {
                const pid = this.getAttribute('data-pid');
                const row = this.closest('tr');
                const appName = row.querySelector('td:nth-child(2)').textContent;
                
                // Show restarting status
                row.querySelector('td:nth-child(6)').innerHTML = '<span class="status status-maintenance">Restarting<span class="terminal-loading"></span></span>';
                
                // Simulate restart delay
                setTimeout(() => {
                    // Update status to running
                    row.querySelector('td:nth-child(6)').innerHTML = '<span class="status status-stable">Running</span>';
                    
                    // Update CPU and memory to random values
                    const cpu = Math.floor(Math.random() * 15) + 5;
                    const memory = (Math.floor(Math.random() * 400) + 100);
                    row.querySelector('td:nth-child(4)').textContent = `${cpu}%`;
                    row.querySelector('td:nth-child(5)').textContent = `${memory} MB`;
                    
                    // Update application status in all tables
                    document.querySelectorAll('tr').forEach(tableRow => {
                        if (tableRow.textContent.includes(appName)) {
                            const statusCell = tableRow.querySelector('td:nth-child(2)');
                            if (statusCell && statusCell.querySelector('.status-critical')) {
                                statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                            }
                        }
                    });
                    
                    // Show notification
                    showNotification('success', 'Process Restarted', `Process ${pid} (${appName}) restarted successfully.`);
                }, 2000);
            });
        });
        
        // Repair buttons functionality
        document.querySelectorAll('.repair-fix').forEach(button => {
            button.addEventListener('click', function() {
                const app = this.getAttribute('data-app');
                fixApplication(app);
                
                // Change button to complete
                this.outerHTML = `
                    <button class="btn repair-complete" data-app="${app}" style="padding: 3px 8px;">
                        <i class="fas fa-check"></i> Complete
                    </button>
                `;
                
                // Add event listener to the new complete button
                this.closest('tr').querySelector('.repair-complete').addEventListener('click', function() {
                    completeRepair(app);
                });
            });
        });
        
        document.querySelectorAll('.repair-complete').forEach(button => {
            button.addEventListener('click', function() {
                const app = this.getAttribute('data-app');
                completeRepair(app);
                
                // Change button to view
                this.outerHTML = `
                    <button class="btn btn-outline repair-view" data-app="${app}" style="padding: 3px 8px;">
                        <i class="fas fa-eye"></i> View
                    </button>
                `;
                
                // Update status to completed
                this.closest('tr').querySelector('.status').className = 'status status-stable';
                this.closest('tr').querySelector('.status').textContent = 'Completed';
            });
        });
        
        document.querySelectorAll('.repair-view').forEach(button => {
            button.addEventListener('click', function() {
                const app = this.getAttribute('data-app');
                
                // Show detailed repair information in a notification
                if (app === 'Applicants Calendar') {
                    showNotification('info', 'Repair Details', `Calendar Sync Issue: Users reported calendar events not syncing properly. Fixed by updating API endpoints and synchronization logic.`);
                } else {
                    showNotification('info', 'Repair Details', `Repair details for ${app}: Issue has been resolved successfully.`);
                }
            });
        });
        
        function fixApplication(app) {
            // Update application status in all tables
            document.querySelectorAll('tr').forEach(row => {
                if (row.textContent.includes(app)) {
                    const statusCell = row.querySelector('td:nth-child(2)');
                    if (statusCell && statusCell.querySelector('.status-critical')) {
                        statusCell.innerHTML = '<span class="status status-maintenance">In Progress</span>';
                    }
                }
            });
            
            // Show notification
            showNotification('info', 'Repair Started', `Repair for ${app} has been started. Status changed to In Progress.`);
        }
        
        function completeRepair(app) {
            // Update application status in all tables
            document.querySelectorAll('tr').forEach(row => {
                if (row.textContent.includes(app)) {
                    const statusCell = row.querySelector('td:nth-child(2)');
                    if (statusCell && (statusCell.querySelector('.status-critical') || statusCell.querySelector('.status-maintenance'))) {
                        statusCell.innerHTML = '<span class="status status-stable">Stable</span>';
                    }
                }
            });
            
            // Show notification
            showNotification('success', 'Repair Completed', `Repair for ${app} has been completed. Status changed to Stable.`);
        }
        
        // History view buttons
        document.querySelectorAll('.history-view').forEach(button => {
            button.addEventListener('click', function() {
                const event = this.getAttribute('data-event');
                let details = '';
                
                switch(event) {
                    case 'System Update':
                        details = 'Content Management system was updated to version 2.5.3. Changes include security patches and performance improvements.';
                        break;
                    case 'Database Optimization':
                        details = 'Database tables were optimized and indexes were rebuilt. Query performance improved by approximately 25%.';
                        break;
                    case 'Service Error':
                        details = 'Inquiries (Chat Support) service crashed due to memory leak. Error logs have been saved for analysis.';
                        break;
                    case 'Scheduled Maintenance':
                        details = 'Applicant Manager is undergoing scheduled maintenance. Estimated completion time: 12:00 PM.';
                        break;
                    case 'AI Model Update':
                        details = 'CoralVIA AI model was updated with new training data. Improved response accuracy by 15%.';
                        break;
                    default:
                        details = 'No detailed information available for this event.';
                }
                
                // Show detailed event information in a notification
                showNotification('info', `Event: ${event}`, details);
            });
        });
        
        // Dashboard action buttons
        document.getElementById('refresh-health').addEventListener('click', function() {
            showNotification('info', 'Refreshing Data', 'Refreshing application health data...');
            
            // Simulate data refresh
            setTimeout(() => {
                // Update random values to simulate refresh
                document.querySelectorAll('#dashboard-section tbody tr').forEach(row => {
                    const lastCheckCell = row.querySelector('td:nth-child(4)');
                    if (lastCheckCell) {
                        lastCheckCell.textContent = 'Just now';
                    }
                });
                
                showNotification('success', 'Data Refreshed', 'Application health data refreshed successfully.');
            }, 1000);
        });
        
        document.getElementById('status-refresh-btn').addEventListener('click', function() {
            showNotification('info', 'Refreshing Data', 'Refreshing application status data...');
            
            // Simulate data refresh
            setTimeout(() => {
                // Update random values to simulate refresh
                document.querySelectorAll('#status-section tbody tr').forEach(row => {
                    const lastCheckCell = row.querySelector('td:nth-child(4)');
                    if (lastCheckCell) {
                        lastCheckCell.textContent = 'Just now';
                    }
                    
                    const responseTimeCell = row.querySelector('td:nth-child(5)');
                    if (responseTimeCell && responseTimeCell.textContent !== 'N/A') {
                        responseTimeCell.textContent = `${Math.floor(Math.random() * 20) + 30}ms`;
                    }
                });
                
                showNotification('success', 'Data Refreshed', 'Application status data refreshed successfully.');
            }, 1000);
        });
        
        document.getElementById('task-refresh-btn').addEventListener('click', function() {
            showNotification('info', 'Refreshing Data', 'Refreshing task manager data...');
            
            // Simulate data refresh
            setTimeout(() => {
                // Update random values to simulate refresh
                document.querySelectorAll('#task-manager-section tbody tr').forEach(row => {
                    const cpuCell = row.querySelector('td:nth-child(4)');
                    const memoryCell = row.querySelector('td:nth-child(5)');
                    const statusCell = row.querySelector('td:nth-child(6) span');
                    
                    if (cpuCell && statusCell.textContent === 'Running') {
                        cpuCell.textContent = `${Math.floor(Math.random() * 15) + 5}%`;
                    }
                    
                    if (memoryCell && statusCell.textContent === 'Running') {
                        memoryCell.textContent = `${Math.floor(Math.random() * 400) + 100} MB`;
                    }
                });
                
                showNotification('success', 'Data Refreshed', 'Task manager data refreshed successfully.');
            }, 1000);
        });
        
        document.getElementById('export-analytics').addEventListener('click', function() {
            showNotification('info', 'Exporting Data', 'Exporting analytics data...');
            
            // Simulate export
            setTimeout(() => {
                showNotification('success', 'Export Complete', 'Analytics data exported successfully to /exports/analytics-' + new Date().toISOString().split('T')[0] + '.csv');
            }, 1500);
        });
        
        document.getElementById('export-viz').addEventListener('click', function() {
            showNotification('info', 'Exporting Visualization', 'Exporting visualization...');
            
            // Simulate export
            setTimeout(() => {
                showNotification('success', 'Export Complete', 'Visualization exported successfully to /exports/visualization-' + new Date().toISOString().split('T')[0] + '.png');
            }, 1500);
        });
        
        document.getElementById('export-history').addEventListener('click', function() {
            showNotification('info', 'Exporting Data', 'Exporting history data...');
            
            // Simulate export
            setTimeout(() => {
                showNotification('success', 'Export Complete', 'History data exported successfully to /exports/history-' + new Date().toISOString().split('T')[0] + '.csv');
            }, 1500);
        });
        
        document.getElementById('fullscreen-viz').addEventListener('click', function() {
            showNotification('info', 'Fullscreen Mode', 'Visualization is now in fullscreen mode. Press ESC to exit.');
            
            // Simulate fullscreen
            const vizContainer = document.getElementById('visualization-container');
            if (vizContainer) {
                if (vizContainer.requestFullscreen) {
                    vizContainer.requestFullscreen();
                } else if (vizContainer.webkitRequestFullscreen) {
                    vizContainer.webkitRequestFullscreen();
                } else if (vizContainer.msRequestFullscreen) {
                    vizContainer.msRequestFullscreen();
                }
            }
        });
        
        // Terminal and Chat Modal Buttons
        document.getElementById('open-terminal-btn').addEventListener('click', function() {
            openModal('terminal-modal');
            // Focus on terminal input
            setTimeout(() => {
                document.getElementById('terminal-input').focus();
            }, 100);
        });
        
        document.getElementById('open-chat-btn').addEventListener('click', function() {
            openModal('chat-modal');
            // Focus on chat input
            setTimeout(() => {
                document.getElementById('chat-input').focus();
            }, 100);
        });
        
        document.getElementById('clear-terminal').addEventListener('click', function() {
            clearTerminal();
            showNotification('info', 'Terminal Cleared', 'Terminal output has been cleared.');
        });
        
        // Initialize the dashboard
        window.addEventListener('load', function() {
            // Create initial charts for dashboard
            setTimeout(createCharts, 100);
            
            // Create visualization
            setTimeout(createVisualization, 100);
            
            // Initialize CoralVIA AI
            initCoralVIAAI();
            
            // Show welcome notification
            setTimeout(() => {
                showNotification('info', 'Welcome', 'Welcome to CoralVIA Server Dashboard. System is ready.');
            }, 1000);
            
            // Set up terminal scrolling behavior
            const terminalOutput = document.getElementById('terminal-output');
            const terminalInput = document.getElementById('terminal-input');
            
            // Make sure terminal input is always visible and scrolls to bottom after command
            terminalInput.addEventListener('focus', function() {
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            });
            
            // Auto-scroll terminal to bottom when new content is added
            const terminalObserver = new MutationObserver(function(mutations) {
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            });
            
            terminalObserver.observe(terminalOutput, { childList: true, subtree: true });
            
            // Set up dynamic data updates
            setupDynamicDataUpdates();
        });
        
        // Dynamic data updates
        function setupDynamicDataUpdates() {
            // Update metrics every 5 seconds
            setInterval(() => {
                // Update server load
                const serverLoad = document.getElementById('server-load');
                if (serverLoad) {
                    const newLoad = Math.floor(Math.random() * 15) + 35;
                    serverLoad.textContent = `${newLoad}%`;
                    serverLoad.closest('.metric-card').querySelector('.progress-bar').style.width = `${newLoad}%`;
                }
                
                // Update memory usage
                const memoryUsage = document.getElementById('memory-usage');
                if (memoryUsage) {
                    const newMemory = (Math.random() * 1.5 + 2.5).toFixed(1);
                    memoryUsage.textContent = `${newMemory} GB`;
                    memoryUsage.closest('.metric-card').querySelector('.progress-bar').style.width = `${(newMemory / 16 * 100).toFixed(0)}%`;
                }
                
                // Update network traffic
                const networkTraffic = document.getElementById('network-traffic');
                if (networkTraffic) {
                    const newTraffic = (Math.random() * 5 + 5).toFixed(1);
                    networkTraffic.textContent = `${newTraffic} MB/s`;
                    networkTraffic.closest('.metric-card').querySelector('.progress-bar').style.width = `${(newTraffic / 20 * 100).toFixed(0)}%`;
                }
                
                // Update CPU usage in task manager
                const cpuUsage = document.getElementById('cpu-usage');
                if (cpuUsage) {
                    const newCpu = Math.floor(Math.random() * 20) + 30;
                    cpuUsage.textContent = `${newCpu}%`;
                    cpuUsage.closest('.metric-card').querySelector('.progress-bar').style.width = `${newCpu}%`;
                }
                
                // Add new activity every 15-30 seconds
                if (Math.random() > 0.8) {
                    addNewActivity();
                }
            }, 5000);
        }
        
        // Add new activity to recent activity table
        function addNewActivity() {
            const activityTable = document.getElementById('activity-table');
            if (!activityTable) return;
            
            const activities = [
                { event: 'Log Rotation', app: 'System', status: 'stable', time: getCurrentTime() },
                { event: 'Backup Completed', app: 'Database', status: 'stable', time: getCurrentTime() },
                { event: 'User Login', app: 'Authentication', status: 'stable', time: getCurrentTime() },
                { event: 'Cache Cleared', app: 'Content Management', status: 'stable', time: getCurrentTime() },
                { event: 'API Rate Limit', app: 'Communications', status: 'warning', time: getCurrentTime() },
                { event: 'Memory Threshold', app: 'Applicant Manager', status: 'warning', time: getCurrentTime() }
            ];
            
            const randomActivity = activities[Math.floor(Math.random() * activities.length)];
            
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${randomActivity.event}</td>
                <td>${randomActivity.app}</td>
                <td><span class="status status-${randomActivity.status === 'stable' ? 'stable' : 'maintenance'}">${randomActivity.status === 'stable' ? 'Completed' : 'Warning'}</span></td>
                <td>${randomActivity.time}</td>
            `;
            
            // Add to top of table
            activityTable.insertBefore(newRow, activityTable.firstChild);
            
            // Remove last row if more than 8 rows
            if (activityTable.children.length > 8) {
                activityTable.removeChild(activityTable.lastChild);
            }
            
            // Add to history table as well
            const historyTable = document.getElementById('history-table');
            if (historyTable) {
                const historyRow = document.createElement('tr');
                historyRow.innerHTML = `
                    <td>${randomActivity.event}</td>
                    <td>${randomActivity.app}</td>
                    <td><span class="status status-${randomActivity.status === 'stable' ? 'stable' : 'maintenance'}">${randomActivity.status === 'stable' ? 'Completed' : 'Warning'}</span></td>
                    <td>${randomActivity.time}</td>
                    <td>System</td>
                    <td>
                        <button class="btn btn-outline history-view" data-event="${randomActivity.event}" style="padding: 3px 8px;">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                `;
                
                // Add event listener to the new view button
                historyRow.querySelector('.history-view').addEventListener('click', function() {
                    const event = this.getAttribute('data-event');
                    showNotification('info', `Event: ${event}`, `${event} was recorded at ${randomActivity.time} for ${randomActivity.app}.`);
                });
                
                // Add to top of table
                historyTable.insertBefore(historyRow, historyTable.firstChild);
                
                // Remove last row if more than 10 rows
                if (historyTable.children.length > 10) {
                    historyTable.removeChild(historyTable.lastChild);
                }
            }
        }
        
        function getCurrentTime() {
            const now = new Date();
            return `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')} ${now.getHours() >= 12 ? 'PM' : 'AM'}`;
        }
        
        // CoralVIA AI integration with API
        function initCoralVIAAI() {
            console.log("Initializing CoralVIA AI with API key:", API_CONFIG.apiKey);
            
            // Real API integration
            window.coralVIAAI = {
                generate: async function(prompt) {
                    try {
                        // In a real implementation, this would make an actual API call
                        // For demo purposes, we're simulating the API response
                        
                        // Simulate API call delay
                        await new Promise(resolve => setTimeout(resolve, Math.random() * 1000 + 500));
                        
                        // Process the prompt to determine the appropriate response
                        const message = prompt.toLowerCase();
                        
                        if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
                            return getRandomResponse('greeting');
                        } else if (message.includes('status') || message.includes('check') || message.includes('how are')) {
                            return getRandomResponse('status');
                        } else if (message.includes('fix') || message.includes('repair') || message.includes('solve')) {
                            return getRandomResponse('repair');
                        } else if (message.includes('help') || message.includes('assist') || message.includes('support')) {
                            return getRandomResponse('help');
                        } else if (message.includes('technical') || message.includes('details') || message.includes('advanced') || message.includes('analyze')) {
                            return getRandomResponse('technical');
                        } else {
                            return getRandomResponse('fallback');
                        }
                    } catch (error) {
                        console.error("Error generating AI response:", error);
                        return "I apologize, but I encountered an error processing your request. Please try again later.";
                    }
                },
                
                analyze: async function(data) {
                    try {
                        // Simulate API call delay
                        await new Promise(resolve => setTimeout(resolve, Math.random() * 1500 + 1000));
                        
                        // Return simulated analysis results
                        return {
                            sentiment: Math.random() > 0.5 ? "positive" : "negative",
                            entities: ["CoralVIA", "server", "application"],
                            intent: "query",
                            confidence: Math.random() * 0.3 + 0.7
                        };
                    } catch (error) {
                        console.error("Error analyzing data:", error);
                        return null;
                    }
                },
                
                predict: async function(data) {
                    try {
                        // Simulate API call delay
                        await new Promise(resolve => setTimeout(resolve, Math.random() * 2000 + 1000));
                        
                        // Return simulated prediction results
                        return {
                            prediction: Math.random() > 0.7 ? "anomaly" : "normal",
                            probability: Math.random() * 0.5 + 0.5,
                            factors: ["CPU usage", "memory consumption", "network traffic"]
                        };
                    } catch (error) {
                        console.error("Error making prediction:", error);
                        return null;
                    }
                }
            };
            
            console.log("CoralVIA AI initialized successfully");
        }
        
        // Function to process AI commands from terminal or chat
        async function processAICommand(command) {
            try {
                const response = await window.coralVIAAI.generate(command);
                return response;
            } catch (error) {
                console.error("Error processing AI command:", error);
                return "Sorry, I encountered an error processing your request.";
            }
        }
    </script>
</body>
</html>
