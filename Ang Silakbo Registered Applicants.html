<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANG SILAKBO - Registered Applicants</title>
    <link rel="icon" href="SILAKBO.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&family=Merriweather:wght@300;400;700&family=Source+Sans+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Color System */
            --background: 0, 0%, 100%;
            --foreground: 224, 71.4%, 4.1%;
            
            --card: 0, 0%, 100%;
            --card-foreground: 224, 71.4%, 4.1%;
            
            --popover: 0, 0%, 100%;
            --popover-foreground: 224, 71.4%, 4.1%;
            
            --primary: 21, 100%, 45%; /* #e65100 orange */
            --primary-foreground: 0, 0%, 100%;
            
            --secondary: 220, 14.3%, 95.9%;
            --secondary-foreground: 220.9, 39.3%, 11%;
            
            --muted: 220, 14.3%, 95.9%;
            --muted-foreground: 220, 8.9%, 46.1%;
            
            --accent: 21, 100%, 45%; /* #e65100 orange */
            --accent-foreground: 0, 0%, 100%;
            
            --destructive: 0, 84.2%, 60.2%;
            --destructive-foreground: 210, 20%, 98%;
            
            --success: 142, 76.2%, 36.3%;
            --success-foreground: 355, 100%, 97.3%;
            
            --warning: 38, 92%, 50%;
            --warning-foreground: 48, 96%, 89%;
            
            --border: 220, 13%, 91%;
            --input: 220, 13%, 91%;
            --ring: 21, 100%, 45%; /* #e65100 orange */
            
            --radius: 1.5rem; /* Increased for circular edges */
            
            /* Dimensions */
            --header-height: 64px;
            --filter-panel-width: 320px;

            /* Fonts */
            --font-title: 'Poppins', sans-serif;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Source Sans Pro', sans-serif;
            --font-accent: 'Merriweather', serif;
        }

        .dark {
            --background: 224, 71.4%, 4.1%;
            --foreground: 210, 20%, 98%;
            
            --card: 224, 71.4%, 4.1%;
            --card-foreground: 210, 20%, 98%;
            
            --popover: 224, 71.4%, 4.1%;
            --popover-foreground: 210, 20%, 98%;
            
            --primary: 21, 100%, 45%; /* #e65100 orange */
            --primary-foreground: 210, 20%, 98%;
            
            --secondary: 215, 27.9%, 16.9%;
            --secondary-foreground: 210, 20%, 98%;
            
            --muted: 215, 27.9%, 16.9%;
            --muted-foreground: 217.9, 10.6%, 64.9%;
            
            --accent: 21, 100%, 45%; /* #e65100 orange */
            --accent-foreground: 210, 20%, 98%;
            
            --destructive: 0, 62.8%, 30.6%;
            --destructive-foreground: 210, 20%, 98%;
            
            --success: 142, 70.6%, 45.3%;
            --success-foreground: 144, 80.4%, 10%;
            
            --warning: 48, 96%, 89%;
            --warning-foreground: 38, 92%, 50%;
            
            --border: 215, 27.9%, 16.9%;
            --input: 215, 27.9%, 16.9%;
            --ring: 21, 100%, 45%; /* #e65100 orange */
        }

        /* Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            border-color: hsl(var(--border));
        }

        html, body {
            height: 100%;
            font-family: var(--font-body);
            font-size: 16px;
            line-height: 1.5;
            color: hsl(var(--foreground));
            background-color: hsl(var(--background));
        }

        h1, h2, h3 {
            font-family: var(--font-heading);
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: hsl(var(--muted-foreground) / 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: hsl(var(--muted-foreground) / 0.5);
        }

        /* Layout */
        .app-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            height: var(--header-height);
            padding: 0 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 90;
            background-color: hsla(var(--background), 0.7); /* Glass effect */
            border-bottom: 1px solid hsla(var(--border), 0.3);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo {
            height: 32px;
            width: auto;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 700;
            color: #e65100;
            font-family: var(--font-title); /* Poppins for title */
            background: #e65100;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-left: 2rem;
            font-family: var(--font-body);
        }

        .nav-link {
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--muted-foreground));
            text-decoration: none;
            transition: color 0.15s ease;
            position: relative;
        }

        .nav-link:hover {
            color: hsl(var(--foreground));
        }

        .nav-link.active {
            color: hsl(var(--primary));
            font-weight: 600;
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: hsl(var(--primary));
            border-radius: 2px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            position: relative;
        }

        /* Filter Panel */
        .filter-panel {
            width: var(--filter-panel-width);
            height: calc(100vh - var(--header-height));
            position: sticky;
            top: var(--header-height);
            padding: 1.5rem;
            border-right: 1px solid hsla(var(--border), 0.3);
            background-color: hsla(var(--background), 0.7); /* Glass effect */
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 80;
        }

        .filter-panel.collapsed {
            transform: translateX(calc(var(--filter-panel-width) * -1));
        }

        .filter-toggle {
            position: absolute;
            top: 1rem;
            right: -40px;
            width: 40px;
            height: 40px;
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            border: none;
            border-radius: 50%; /* Circular */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px hsl(var(--primary) / 0.2);
            z-index: 81;
        }

        .filter-section {
            margin-bottom: 1.5rem;
        }

        .filter-section-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: hsl(var(--foreground));
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-accent);
        }

        .filter-section-title i {
            color: hsl(var(--primary));
        }

        /* Content Area */
        .content-area {
            flex: 1;
            padding: 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            padding: 1.5rem;
            border-radius: var(--radius);
            background-color: hsla(var(--card), 0.5); /* Glass effect */
            border: 1px solid hsla(var(--border), 0.3);
            box-shadow: 0 4px 12px hsl(var(--foreground) / 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px hsl(var(--foreground) / 0.08);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .stat-title {
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--muted-foreground));
            font-family: var(--font-accent);
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%; /* Circular */
            background-color: hsl(var(--primary) / 0.1);
            color: hsl(var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: hsl(var(--card-foreground));
            margin-bottom: 0.25rem;
            font-family: var(--font-heading);
        }

        .stat-description {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-family: var(--font-body);
        }

        .stat-description i.fa-arrow-up {
            color: hsl(var(--success));
        }

        .stat-description i.fa-arrow-down {
            color: hsl(var(--destructive));
        }

        /* Search & Filters */
        .search-container {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: hsl(var(--muted-foreground));
            font-size: 0.875rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border-radius: var(--radius);
            border: 1px solid hsla(var(--input), 0.3);
            background-color: hsla(var(--background), 0.5); /* Glass effect */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            font-family: var(--font-body);
            font-size: 0.875rem;
            color: hsl(var(--foreground));
            transition: border-color 0.15s ease, box-shadow 0.15s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: hsl(var(--primary));
            box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
        }

        .filter-select {
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: var(--radius);
            border: 1px solid hsla(var(--input), 0.3);
            background-color: hsla(var(--background), 0.5); /* Glass effect */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            font-family: var(--font-body);
            font-size: 0.875rem;
            color: hsl(var(--foreground));
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748B' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 16px;
            cursor: pointer;
            transition: border-color 0.15s ease, box-shadow 0.15s ease;
            margin-bottom: 1rem;
        }

        .filter-select:focus {
            outline: none;
            border-color: hsl(var(--primary));
            box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
        }

        /* Applicant Cards */
        .applicant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .applicant-card {
            border-radius: var(--radius);
            background-color: hsla(var(--card), 0.5); /* Glass effect */
            border: 5px solid hsla(var(--border), 1);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .applicant-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px hsl(var(--foreground) / 0.08);
        }

        .applicant-header {
            padding: 1.5rem;
            border-bottom: 1px solid hsla(var(--border), 0.3);
            position: relative;
        }

        .applicant-name {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: hsl(var(--card-foreground));
            font-family: var(--font-heading);
        }

        .applicant-position {
            font-size: 0.875rem;
            color: hsl(var(--primary));
            font-weight: 500;
            margin-bottom: 0.75rem;
            font-family: var(--font-accent);
        }

        .applicant-contact {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            font-family: var(--font-body);
        }

        .applicant-contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .applicant-contact-item i {
            color: hsl(var(--primary));
            width: 16px;
        }

        .applicant-body {
            padding: 1.5rem;
        }

        .applicant-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .applicant-info-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .applicant-info-label {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            font-family: var(--font-accent);
        }

        .applicant-info-value {
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--card-foreground));
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-body);
        }

        .applicant-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid hsla(var(--border), 0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: hsla(var(--secondary) / 0.3);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .applicant-date {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-body);
        }

        .applicant-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.625rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            line-height: 1;
            white-space: nowrap;
            font-family: var(--font-body);
        }

        .badge-default {
            background-color: hsla(var(--secondary), 0.7);
            color: hsl(var(--secondary-foreground));
        }

        .badge-primary {
            background-color: hsla(var(--primary) / 0.1, 0.7);
            color: hsl(var(--primary));
        }

        .badge-success {
            background-color: hsla(var(--success) / 0.1, 0.7);
            color: hsl(var(--success));
        }

        .badge-warning {
            background-color: hsla(var(--warning) / 0.1, 0.7);
            color: hsl(var(--warning));
        }

        .badge-destructive {
            background-color: hsla(var(--destructive) / 0.1, 0.7);
            color: hsl(var(--destructive));
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.625rem 1.25rem;
            border-radius: var(--radius);
            font-family: var(--font-body);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            border: 1px solid transparent;
        }

        .btn-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.75rem;
        }

        .btn-icon {
            padding: 0.5rem;
            width: 36px;
            height: 36px;
            border-radius: 50%; /* Circular */
        }

        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .btn-primary:hover {
            background-color: hsl(var(--primary) / 0.9);
        }

        .btn-secondary {
            background-color: hsla(var(--secondary), 0.7);
            color: hsl(var(--secondary-foreground));
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .btn-secondary:hover {
            background-color: hsla(var(--secondary) / 0.8, 0.7);
        }

        .btn-outline {
            background-color: transparent;
            border-color: hsla(var(--border), 0.3);
            color: hsl(var(--foreground));
        }

        .btn-outline:hover {
            background-color: hsla(var(--muted) / 0.3, 0.3);
        }

        .btn-ghost {
            background-color: transparent;
            color: hsl(var(--foreground));
        }

        .btn-ghost:hover {
            background-color: hsla(var(--secondary), 0.3);
        }

        .btn-destructive {
            background-color: hsl(var(--destructive));
            color: hsl(var(--destructive-foreground));
        }

        .btn-destructive:hover {
            background-color: hsl(var(--destructive) / 0.9);
        }

        .btn-link {
            background-color: transparent;
            color: hsl(var(--primary));
            padding: 0;
            text-decoration: underline;
        }

        .btn-link:hover {
            text-decoration: none;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            border-radius: 50%; /* Circular */
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            box-shadow: 0 4px 12px hsl(var(--primary) / 0.4);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            z-index: 100;
            border: none;
        }

        .fab:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px hsl(var(--primary) / 0.6);
        }

        /* Pagination */
        .pagination {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .pagination-info {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-right: 1rem;
            font-family: var(--font-body);
        }

        /* Modals */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: hsla(var(--foreground) / 0.5, 0.5);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            z-index: 1000;
            display: none;
            animation: fadeIn 0.2s ease;
        }

        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            background-color: hsla(var(--background), 0.9); /* Glass effect */
            border-radius: var(--radius);
            z-index: 1001;
            display: none;
            animation: slideIn 0.2s ease;
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid hsla(var(--border), 0.3);
        }

        .modal-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid hsla(var(--border), 0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: hsl(var(--foreground));
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-heading);
        }

        .modal-close {
            background: transparent;
            border: none;
            color: hsl(var(--muted-foreground));
            font-size: 1.25rem;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%; /* Circular */
            transition: all 0.15s ease;
        }

        .modal-close:hover {
            background-color: hsla(var(--secondary), 0.7);
            color: hsl(var(--secondary-foreground));
        }

        .modal-body {
            padding: 1.5rem;
            max-height: calc(90vh - 130px);
            overflow-y: auto;
        }

        .modal-footer {
            padding: 1.25rem 1.5rem;
            border-top: 1px solid hsla(var(--border), 0.3);
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .tabs-list {
            display: flex;
            border-bottom: 1px solid hsla(var(--border), 0.3);
            margin-bottom: 1.5rem;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .tabs-list::-webkit-scrollbar {
            display: none;
        }

        .tab-trigger {
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--muted-foreground));
            background-color: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.15s ease;
            white-space: nowrap;
            font-family: var(--font-body);
        }

        .tab-trigger:hover {
            color: hsl(var(--foreground));
        }

        .tab-trigger.active {
            color: hsl(var(--primary));
            border-bottom-color: hsl(var(--primary));
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-width: 420px;
            width: 100%;
        }

        .toast {
            padding: 1rem;
            border-radius: var(--radius);
            background-color: hsla(var(--background), 0.8); /* Glass effect */
            border: 1px solid hsla(var(--border), 0.3);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            animation: slideInRight 0.3s ease, fadeOut 0.3s ease 4.7s;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .toast::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            width: 100%;
            background-color: hsl(var(--primary));
            animation: shrink 5s linear forwards;
        }

        .toast-icon {
            font-size: 1.25rem;
            color: hsl(var(--primary));
        }

        .toast-content {
            flex: 1;
            font-family: var(--font-body);
        }

        .toast-title {
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
            font-family: var(--font-accent);
        }

        .toast-description {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
        }

        .toast-close {
            background: transparent;
            border: none;
            color: hsl(var(--muted-foreground));
            cursor: pointer;
            font-size: 1rem;
            padding: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%; /* Circular */
            transition: all 0.15s ease;
        }

        .toast-close:hover {
            background-color: hsla(var(--secondary), 0.7);
            color: hsl(var(--secondary-foreground));
        }

        .toast.success .toast-icon {
            color: hsl(var(--success));
        }

        .toast.success::after {
            background-color: hsl(var(--success));
        }

        .toast.error .toast-icon {
            color: hsl(var(--destructive));
        }

        .toast.error::after {
            background-color: hsl(var(--destructive));
        }

        .toast.warning .toast-icon {
            color: hsl(var(--warning));
        }

        .toast.warning::after {
            background-color: hsl(var(--warning));
        }

        /* Loading States */
        .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid hsla(var(--muted), 0.3);
            border-radius: 50%; /* Circular */
            border-top-color: hsl(var(--primary));
            animation: spin 1s linear infinite;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem 1.5rem;
            text-align: center;
        }

        .empty-state-icon {
            font-size: 3rem;
            color: hsl(var(--muted-foreground) / 0.3);
            margin-bottom: 1.5rem;
        }

        .empty-state-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-family: var(--font-heading);
        }

        .empty-state-description {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            max-width: 350px;
            margin-bottom: 1.5rem;
            font-family: var(--font-body);
        }

        /* Applicant Details */
        .detail-section {
            margin-bottom: 1.5rem;
        }

        .detail-section-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: hsl(var(--muted-foreground));
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-family: var(--font-accent);
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .detail-item {
            margin-bottom: 1rem;
        }

        .detail-label {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 0.25rem;
            font-family: var(--font-accent);
        }

        .detail-value {
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-body);
        }

        .detail-icon {
            color: hsl(var(--primary));
            font-size: 1rem;
        }

        /* Experience Card */
        .experience-card {
            padding: 1.25rem;
            border-radius: var(--radius);
            border: 1px solid hsla(var(--border), 0.3);
            margin-bottom: 1rem;
            transition: all 0.15s ease;
            background-color: hsla(var(--card), 0.5); /* Glass effect */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .experience-card:hover {
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border-color: hsla(var(--primary) / 0.3, 0.3);
        }

        .experience-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.25rem;
            font-family: var(--font-heading);
        }

        .experience-company {
            font-size: 0.875rem;
            color: hsl(var(--primary));
            margin-bottom: 0.75rem;
            font-family: var(--font-accent);
        }

        .experience-description {
            font-size: 0.875rem;
            line-height: 1.5;
            font-family: var(--font-body);
        }

        /* Tags */
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        @keyframes slideIn {
            from { transform: translate(-50%, -60%); opacity: 0; }
            to { transform: translate(-50%, -50%); opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes shrink {
            from { width: 100%; }
            to { width: 0%; }
        }

        /* Theme Toggle */
        .theme-toggle {
            background: transparent;
            border: none;
            color: hsl(var(--muted-foreground));
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%; /* Circular */
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s ease;
        }

        .theme-toggle:hover {
            background-color: hsla(var(--secondary), 0.7);
            color: hsl(var(--secondary-foreground));
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
            
            .applicant-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .filter-panel {
                position: fixed;
                left: 0;
                top: var(--header-height);
                z-index: 100;
                box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            }
            
            .nav-links {
                display: none;
            }
            
            .applicant-grid {
                grid-template-columns: 1fr;
            }
            
            .detail-grid {
                grid-template-columns: 1fr;
            }
            
            .modal {
                width: 95%;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-1 {
            gap: 0.25rem;
        }

        .gap-2 {
            gap: 0.5rem;
        }

        .gap-4 {
            gap: 1rem;
        }

        .mb-1 {
            margin-bottom: 0.25rem;
        }

        .mb-2 {
            margin-bottom: 0.5rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mb-6 {
            margin-bottom: 1.5rem;
        }

        .mt-1 {
            margin-top: 0.25rem;
        }

        .mt-2 {
            margin-top: 0.5rem;
        }

        .mt-4 {
            margin-top: 1rem;
        }

        .p-2 {
            padding: 0.5rem;
        }

        .p-4 {
            padding: 1rem;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-xs {
            font-size: 0.75rem;
        }

        .font-medium {
            font-weight: 500;
        }

        .font-semibold {
            font-weight: 600;
        }

        .text-primary {
            color: hsl(var(--primary));
        }

        .text-destructive {
            color: hsl(var(--destructive));
        }

        .text-muted {
            color: hsl(var(--muted-foreground));
        }

        .bg-destructive-light {
            background-color: hsla(var(--destructive) / 0.1, 0.7);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .rounded {
            border-radius: var(--radius);
        }

        .border {
            border: 1px solid hsla(var(--border), 0.3);
        }

        .w-full {
            width: 100%;
        }

        .h-full {
            height: 100%;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="flex items-center">
                <div class="logo-container">
                    <img src="SILAKBO.png" alt="Silakbo Logo" class="logo">
                    <span class="logo-text">ANG SILAKBO</span>
                </div>
                <nav class="nav-links">
                    <a href="Ang Silakbo Admin Panel.html" class="nav-link">Back to Dashboard</a>
                    <a href="#" class="nav-link active">Applicants</a>
                    <a href="Application Manager.html" class="nav-link">Send Confirmation Emails</a>
                </nav>
            </div>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-sun"></i>
                </button>
                <button class="btn btn-outline btn-icon">
                    <i class="fas fa-bell"></i>
                </button>
                <div class="user-avatar" style="width: 36px; height: 36px; border-radius: 50%; background: hsl(var(--primary)); display: flex; align-items: center; justify-content: center; color: hsl(var(--primary-foreground)); font-weight: 600; font-size: 0.875rem;">
                    AU
                </div>
                <button class="btn btn-primary" id="exportBtn">
                    <i class="fas fa-download"></i>
                    <span>Export CSV</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Filter Panel -->
            <aside class="filter-panel" id="filterPanel">
                <button class="filter-toggle" id="filterToggle">
                    <i class="fas fa-filter"></i>
                </button>
                <div class="filter-section">
                    <h3 class="filter-section-title">
                        <i class="fas fa-search"></i> Search
                    </h3>
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="searchInput" class="search-input" placeholder="Search by name, email or position...">
                    </div>
                </div>
                <div class="filter-section">
                    <h3 class="filter-section-title">
                        <i class="fas fa-filter"></i> Filters
                    </h3>
                    <select id="positionFilter" class="filter-select">
                        <option value="">All Positions</option>
                    </select>
                    <select id="experienceFilter" class="filter-select">
                        <option value="">All Experience</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                        <option value="expert">Expert</option>
                    </select>
                    <select id="availabilityFilter" class="filter-select">
                        <option value="">All Availability</option>
                        <option value="available">Available</option>
                        <option value="partial">Partially Available</option>
                        <option value="unavailable">Unavailable</option>
                    </select>
                    <button class="btn btn-outline w-full" id="resetFiltersBtn">
                        <i class="fas fa-sync-alt"></i> Reset Filters
                    </button>
                </div>
            </aside>

            <!-- Content Area -->
            <div class="content-area">
                <h1 class="text-2xl font-bold mb-6">Applicant Management</h1>
                
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-title">Total Applicants</div>
                            <div class="stat-icon"><i class="fas fa-users"></i></div>
                        </div>
                        <div class="stat-value" id="totalApplicants">0</div>
                        <div class="stat-description">
                            <i class="fas fa-arrow-up"></i> 12% from last month
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-title">Unique Positions</div>
                            <div class="stat-icon"><i class="fas fa-briefcase"></i></div>
                        </div>
                        <div class="stat-value" id="uniquePositions">0</div>
                        <div class="stat-description">
                            <i class="fas fa-arrow-up"></i> 5% from last month
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-title">Application Rate</div>
                            <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                        </div>
                        <div class="stat-value" id="applicationRate">0/day</div>
                        <div class="stat-description">
                            <i class="fas fa-arrow-up"></i> 8% from last month
                        </div>
                    </div>
                </div>

                <!-- Applicant Cards -->
                <div id="applicantContainer">
                    <!-- Applicant cards will be inserted here -->
                    <div class="loading-container">
                        <div class="loading-spinner"></div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="pagination">
                    <div class="pagination-info" id="paginationInfo">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <button class="btn btn-outline btn-sm" id="prevPageBtn" disabled>
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <button class="btn btn-outline btn-sm" id="nextPageBtn" disabled>
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Floating Action Button -->
        <button class="fab" id="scrollTopBtn">
            <i class="fas fa-arrow-up"></i>
        </button>
    </div>

    <!-- Applicant Details Modal -->
    <div class="modal-backdrop" id="detailsModalBackdrop"></div>
    <div class="modal" id="detailsModal">
        <div class="modal-header">
            <h2 class="modal-title">
                <i class="fas fa-user"></i>
                Applicant Details
            </h2>
            <button class="modal-close" id="detailsModalClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="tabs" id="detailsTabs">
                <div class="tabs-list">
                    <button class="tab-trigger active" data-tab="personal">Personal Info</button>
                    <button class="tab-trigger" data-tab="professional">Professional Info</button>
                    <button class="tab-trigger" data-tab="additional">Additional Info</button>
                </div>
                <div class="tab-content active" data-tab="personal">
                    <div class="detail-grid" id="personalDetails">
                        <!-- Personal details will be inserted here -->
                    </div>
                </div>
                <div class="tab-content" data-tab="professional">
                    <div id="professionalDetails">
                        <!-- Professional details will be inserted here -->
                    </div>
                </div>
                <div class="tab-content" data-tab="additional">
                    <div id="additionalDetails">
                        <!-- Additional details will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="closeDetailsBtn">Close</button>
            <button class="btn btn-primary" id="downloadResumeBtn">
                <i class="fas fa-download"></i>
                Download Resume
            </button>
        </div>
    </div>

    <!-- Experience Modal -->
    <div class="modal-backdrop" id="experienceModalBackdrop"></div>
    <div class="modal" id="experienceModal">
        <div class="modal-header">
            <h2 class="modal-title">
                <i class="fas fa-briefcase"></i>
                <span id="experienceModalTitle">Applicant's Experience</span>
            </h2>
            <button class="modal-close" id="experienceModalClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div id="experienceList">
                <!-- Experience details will be inserted here -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="closeExperienceBtn">Close</button>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-backdrop" id="deleteModalBackdrop"></div>
    <div class="modal" id="deleteModal">
        <div class="modal-header">
            <h2 class="modal-title text-destructive">
                <i class="fas fa-trash-alt"></i>
                Confirm Deletion
            </h2>
            <button class="modal-close" id="deleteModalClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <p class="mb-4">Are you sure you want to delete this application? This action cannot be undone.</p>
            <div class="p-4 bg-destructive-light text-destructive rounded mb-4 flex gap-2">
                <i class="fas fa-exclamation-circle"></i>
                <p>All data associated with this application will be permanently removed from the system.</p>
            </div>
            <div class="card" id="deleteApplicantInfo">
                <!-- Applicant info will be inserted here -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="cancelDeleteBtn">Cancel</button>
            <button class="btn btn-destructive" id="confirmDeleteBtn">
                <i class="fas fa-trash-alt"></i>
                Delete Application
            </button>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer">
        <!-- Toasts will be inserted here -->
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getDatabase, ref, onValue, remove } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDSe2c9-8xqShoHEW-D7BXXAyD5N9uXWEs",
            authDomain: "ang-silakbo.firebaseapp.com",
            databaseURL: "https://ang-silakbo-default-rtdb.firebaseio.com",
            projectId: "ang-silakbo",
            storageBucket: "ang-silakbo.appspot.com",
            messagingSenderId: "1006400633782",
            appId: "1:1006400633782:web:ef4a93c1d445cb825b9f17",
            measurementId: "G-TSDTG2YJ94"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth(app);

        // DOM Elements
        const filterPanel = document.getElementById('filterPanel');
        const filterToggle = document.getElementById('filterToggle');
        const applicantContainer = document.getElementById('applicantContainer');
        const searchInput = document.getElementById('searchInput');
        const positionFilter = document.getElementById('positionFilter');
        const experienceFilter = document.getElementById('experienceFilter');
        const availabilityFilter = document.getElementById('availabilityFilter');
        const resetFiltersBtn = document.getElementById('resetFiltersBtn');
        const exportBtn = document.getElementById('exportBtn');
        const totalApplicantsElement = document.getElementById('totalApplicants');
        const uniquePositionsElement = document.getElementById('uniquePositions');
        const applicationRateElement = document.getElementById('applicationRate');
        const themeToggle = document.getElementById('themeToggle');
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        const prevPageBtn = document.getElementById('prevPageBtn');
        const nextPageBtn = document.getElementById('nextPageBtn');
        const paginationInfo = document.getElementById('paginationInfo');
        
        // Modal Elements
        const detailsModalBackdrop = document.getElementById('detailsModalBackdrop');
        const detailsModal = document.getElementById('detailsModal');
        const detailsModalClose = document.getElementById('detailsModalClose');
        const closeDetailsBtn = document.getElementById('closeDetailsBtn');
        const downloadResumeBtn = document.getElementById('downloadResumeBtn');
        const personalDetails = document.getElementById('personalDetails');
        const professionalDetails = document.getElementById('professionalDetails');
        const additionalDetails = document.getElementById('additionalDetails');
        
        const experienceModalBackdrop = document.getElementById('experienceModalBackdrop');
        const experienceModal = document.getElementById('experienceModal');
        const experienceModalClose = document.getElementById('experienceModalClose');
        const closeExperienceBtn = document.getElementById('closeExperienceBtn');
        const experienceModalTitle = document.getElementById('experienceModalTitle');
        const experienceList = document.getElementById('experienceList');
        
        const deleteModalBackdrop = document.getElementById('deleteModalBackdrop');
        const deleteModal = document.getElementById('deleteModal');
        const deleteModalClose = document.getElementById('deleteModalClose');
        const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
        const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
        const deleteApplicantInfo = document.getElementById('deleteApplicantInfo');
        
        const toastContainer = document.getElementById('toastContainer');
        const tabTriggers = document.querySelectorAll('.tab-trigger');
        const tabContents = document.querySelectorAll('.tab-content');

        // State
        let allApplicants = [];
        let filteredApplicants = [];
        let currentPage = 1;
        const itemsPerPage = 9;
        let isDarkMode = localStorage.getItem('darkMode') === 'true';
        let selectedApplicant = null;
        let applicantToDelete = null;
        let isFilterPanelOpen = true;

        // Initialize Theme
        if (isDarkMode) {
            document.documentElement.classList.add('dark');
            themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        }

        // Theme Toggle
        themeToggle.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            document.documentElement.classList.toggle('dark', isDarkMode);
            localStorage.setItem('darkMode', isDarkMode);
            
            themeToggle.innerHTML = isDarkMode 
                ? '<i class="fas fa-moon"></i>' 
                : '<i class="fas fa-sun"></i>';
        });

        // Filter Panel Toggle
        filterToggle.addEventListener('click', () => {
            isFilterPanelOpen = !isFilterPanelOpen;
            filterPanel.classList.toggle('collapsed', !isFilterPanelOpen);
            
            const icon = filterToggle.querySelector('i');
            if (!isFilterPanelOpen) {
                icon.classList.remove('fa-filter');
                icon.classList.add('fa-chevron-right');
            } else {
                icon.classList.remove('fa-chevron-right');
                icon.classList.add('fa-filter');
            }
        });

        // Scroll to Top
        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Tab Functionality
        tabTriggers.forEach(trigger => {
            trigger.addEventListener('click', () => {
                const tabName = trigger.getAttribute('data-tab');
                
                // Update active tab trigger
                tabTriggers.forEach(t => t.classList.remove('active'));
                trigger.classList.add('active');
                
                // Update active tab content
                tabContents.forEach(content => {
                    if (content.getAttribute('data-tab') === tabName) {
                        content.classList.add('active');
                    } else {
                        content.classList.remove('active');
                    }
                });
            });
        });

        // Show Toast
        function showToast(title, message, type = 'default') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
                </div>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-description">${message}</div>
                </div>
                <button class="toast-close">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.remove();
            }, 5000);
            
            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.remove();
            });
        }

        // Auth State Change
        onAuthStateChanged(auth, (user) => {
            if (user) {
                console.log("User is signed in");
                fetchApplicantData();
            } else {
                console.log("No user is signed in");
                showEmptyState("Please sign in to view this data.");
                showToast("Authentication Error", "Please sign in to view this data.", "error");
            }
        });

        // Fetch Applicant Data
        function fetchApplicantData() {
            showLoading();
            const applicationsRef = ref(database, 'applications');

            onValue(applicationsRef, (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    allApplicants = Object.entries(data).map(([key, value]) => ({
                        id: key,
                        ...value
                    })).sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
                    
                    filteredApplicants = [...allApplicants];
                    updateApplicantCards();
                    updateStats();
                    populateFilters();
                    showToast("Data Loaded", `${allApplicants.length} applicants found.`, "success");
                } else {
                    allApplicants = [];
                    filteredApplicants = [];
                    showEmptyState("No applicant data available in the database");
                    showToast("No Data", "No applicant data available.", "warning");
                }
            }, (error) => {
                console.error("Error fetching data:", error);
                showEmptyState("Error fetching data. Please try again.");
                showToast("Error", `Error fetching data: ${error.message}`, "error");
            });
        }

        // Show Loading
        function showLoading() {
            applicantContainer.innerHTML = `
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                </div>
            `;
        }

        // Show Empty State
        function showEmptyState(message = 'No applicants found') {
            applicantContainer.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3 class="empty-state-title">No Results Found</h3>
                    <p class="empty-state-description">${message}</p>
                    <button class="btn btn-outline" id="emptyStateResetBtn">
                        <i class="fas fa-sync-alt"></i> Reset Filters
                    </button>
                </div>
            `;
            
            document.getElementById('emptyStateResetBtn').addEventListener('click', () => {
                resetFilters();
            });
        }

        // Reset Filters
        function resetFilters() {
            searchInput.value = '';
            positionFilter.value = '';
            experienceFilter.value = '';
            availabilityFilter.value = '';
            filterApplicants();
        }

        // Update Applicant Cards
        function updateApplicantCards() {
            if (filteredApplicants.length === 0) {
                showEmptyState('Try adjusting your search or filter criteria');
                paginationInfo.textContent = 'Showing 0 to 0 of 0 entries';
                prevPageBtn.disabled = true;
                nextPageBtn.disabled = true;
                return;
            }
            
            const totalPages = Math.ceil(filteredApplicants.length / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, filteredApplicants.length);
            const currentApplicants = filteredApplicants.slice(startIndex, endIndex);
            
            let cardsHTML = `<div class="applicant-grid">`;
            
            currentApplicants.forEach(applicant => {
                const availabilityStatus = getAvailabilityStatus(applicant.availability);
                
                cardsHTML += `
                    <div class="applicant-card">
                        <div class="applicant-header">
                            <h3 class="applicant-name">${applicant.name || 'N/A'}</h3>
                            <p class="applicant-position">${applicant.position || 'N/A'}</p>
                            <div class="applicant-contact">
                                <div class="applicant-contact-item">
                                    <i class="fas fa-envelope"></i>
                                    <span>${applicant.email || 'N/A'}</span>
                                </div>
                                <div class="applicant-contact-item">
                                    <i class="fas fa-phone"></i>
                                    <span>${applicant.phone || 'N/A'}</span>
                                </div>
                            </div>
                        </div>
                        <div class="applicant-body">
                            <div class="applicant-info-grid">
                                <div class="applicant-info-item">
                                    <div class="applicant-info-label">Availability</div>
                                    <div class="applicant-info-value">
                                        <span class="badge badge-${availabilityStatus.variant}">
                                            <i class="fas ${availabilityStatus.icon}"></i>
                                            ${availabilityStatus.text}
                                        </span>
                                    </div>
                                </div>
                                <div class="applicant-info-item">
                                    <div class="applicant-info-label">Experience</div>
                                    <div class="applicant-info-value">
                                        <button class="btn btn-outline btn-sm view-experience-btn" data-id="${applicant.id}">
                                            <i class="fas fa-eye"></i> View
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="applicant-info-item">
                                <div class="applicant-info-label">Portfolio</div>
                                <div class="applicant-info-value">
                                    ${applicant.portfolio ? 
                                        `<a href="${applicant.portfolio}" target="_blank" class="text-primary">
                                            <i class="fas fa-external-link-alt"></i> View Portfolio
                                        </a>` : 
                                        '<span class="text-muted">Not provided</span>'}
                                </div>
                            </div>
                        </div>
                        <div class="applicant-footer">
                            <div class="applicant-date">
                                <i class="fas fa-calendar"></i>
                                <span>${applicant.timestamp ? new Date(applicant.timestamp).toLocaleDateString() : 'N/A'}</span>
                            </div>
                            <div class="applicant-actions">
                                <button class="btn btn-ghost btn-icon view-details-btn" data-id="${applicant.id}" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-ghost btn-icon contact-btn" data-email="${applicant.email || ''}" title="Contact">
                                    <i class="fas fa-envelope"></i>
                                </button>
                                <button class="btn btn-ghost btn-icon delete-btn" data-id="${applicant.id}" title="Delete">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            cardsHTML += `</div>`;
            
            applicantContainer.innerHTML = cardsHTML;
            
            // Update pagination info
            paginationInfo.textContent = `Showing ${startIndex + 1} to ${endIndex} of ${filteredApplicants.length} entries`;
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages;
            
            // Add event listeners to buttons
            document.querySelectorAll('.view-details-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const id = btn.getAttribute('data-id');
                    selectedApplicant = allApplicants.find(a => a.id === id);
                    showApplicantDetails();
                });
            });
            
            document.querySelectorAll('.view-experience-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const id = btn.getAttribute('data-id');
                    selectedApplicant = allApplicants.find(a => a.id === id);
                    showExperienceDetails();
                });
            });
            
            document.querySelectorAll('.contact-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const email = btn.getAttribute('data-email');
                    if (email) {
                        window.location.href = `mailto:${email}?subject=Regarding your application to Silakbo`;
                    } else {
                        showToast("No Email", "No email address available for this applicant.", "warning");
                    }
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const id = btn.getAttribute('data-id');
                    applicantToDelete = allApplicants.find(a => a.id === id);
                    showDeleteConfirmation();
                });
            });
        }

        // Filter Applicants
        function filterApplicants() {
            const searchTerm = searchInput.value.toLowerCase();
            const positionValue = positionFilter.value;
            const experienceValue = experienceFilter.value;
            const availabilityValue = availabilityFilter.value;
            
            filteredApplicants = allApplicants.filter(applicant => {
                // Search term filter
                const matchesSearch = !searchTerm || 
                    (applicant.name && applicant.name.toLowerCase().includes(searchTerm)) ||
                    (applicant.email && applicant.email.toLowerCase().includes(searchTerm)) ||
                    (applicant.position && applicant.position.toLowerCase().includes(searchTerm));
                
                // Position filter
                const matchesPosition = !positionValue || 
                    (applicant.position === positionValue);
                
                // Experience filter
                const matchesExperience = !experienceValue || 
                    filterExperience(applicant.experience, experienceValue);
                
                // Availability filter
                const matchesAvailability = !availabilityValue || 
                    filterAvailability(applicant.availability, availabilityValue);
                
                return matchesSearch && matchesPosition && matchesExperience && matchesAvailability;
            });
            
            currentPage = 1;
            updateApplicantCards();
        }

        // Get Availability Status
        function getAvailabilityStatus(availability) {
            if (!availability) {
                return { text: 'Unknown', variant: 'default', icon: 'fa-question-circle' };
            }
            
            const availabilityLower = availability.toLowerCase();
            
            if (availabilityLower.includes('immediate') || 
                availabilityLower.includes('now') || 
                availabilityLower.includes('full time') ||
                availabilityLower.includes('available')) {
                return { text: 'Available', variant: 'success', icon: 'fa-check-circle' };
            } else if (availabilityLower.includes('part time') || 
                       availabilityLower.includes('partial') || 
                       availabilityLower.includes('limited') ||
                       availabilityLower.includes('week') ||
                       availabilityLower.includes('month')) {
                return { text: 'Partially Available', variant: 'warning', icon: 'fa-clock' };
            } else if (availabilityLower.includes('not available') || 
                       availabilityLower.includes('unavailable') || 
                       availabilityLower.includes('busy')) {
                return { text: 'Unavailable', variant: 'destructive', icon: 'fa-times-circle' };
            }
            
            return { text: 'Available', variant: 'success', icon: 'fa-check-circle' };
        }

        // Filter Availability
        function filterAvailability(availability, filter) {
            if (!availability) return false;
            
            const availabilityLower = availability.toLowerCase();
            
            switch(filter) {
                case 'available':
                    return availabilityLower.includes('immediate') || 
                           availabilityLower.includes('now') || 
                           availabilityLower.includes('full time') ||
                           availabilityLower.includes('available');
                case 'partial':
                    return availabilityLower.includes('part time') || 
                           availabilityLower.includes('partial') || 
                           availabilityLower.includes('limited') ||
                           availabilityLower.includes('week') ||
                           availabilityLower.includes('month');
                case 'unavailable':
                    return availabilityLower.includes('not available') || 
                           availabilityLower.includes('unavailable') || 
                           availabilityLower.includes('busy');
                default:
                    return true;
            }
        }

        // Filter Experience
        function filterExperience(experience, filter) {
            if (!experience) return false;
            
            const expLower = experience.toLowerCase();
            
            switch(filter) {
                case 'beginner':
                    return expLower.includes('beginner') || 
                           expLower.includes('entry') || 
                           expLower.includes('junior') ||
                           expLower.includes('0-1') ||
                           expLower.includes('less than 1');
                case 'intermediate':
                    return expLower.includes('intermediate') || 
                           expLower.includes('mid') || 
                           expLower.includes('1-3') ||
                           expLower.includes('2-3');
                case 'advanced':
                    return expLower.includes('advanced') || 
                           expLower.includes('senior') || 
                           expLower.includes('3-5') ||
                           expLower.includes('4-5');
                case 'expert':
                    return expLower.includes('expert') || 
                           expLower.includes('lead') || 
                           expLower.includes('principal') ||
                           expLower.includes('5+') ||
                           expLower.includes('more than 5');
                default:
                    return true;
            }
        }

        // Parse Experience
        function parseExperience(experienceText) {
            if (!experienceText) return [];
            
            // Split by common delimiters
            const items = experienceText.split(/[,;\n]/).filter(item => item.trim().length > 0);
            
            return items.map(item => {
                const trimmed = item.trim();
                // Try to extract company and position if possible
                const parts = trimmed.split(' at ');
                if (parts.length > 1) {
                    return {
                        title: parts[0].trim(),
                        company: parts[1].trim(),
                        description: trimmed
                    };
                }
                
                // Try another common format
                const positionMatch = trimmed.match(/^(.*?)\s*-\s*(.*?)$/);
                if (positionMatch) {
                    return {
                        title: positionMatch[1].trim(),
                        company: positionMatch[2].trim(),
                        description: trimmed
                    };
                }
                
                // Default case
                return {
                    description: trimmed
                };
            });
        }

        // Extract Skills
        function extractSkills(experience) {
            if (!experience) return [];
            
            const skillKeywords = [
                'JavaScript', 'HTML', 'CSS', 'React', 'Angular', 'Vue', 'Node.js', 
                'Python', 'Java', 'PHP', 'Ruby', 'C#', '.NET', 'SQL', 'NoSQL',
                'MongoDB', 'Firebase', 'AWS', 'Azure', 'GCP', 'Docker', 'Kubernetes',
                'Git', 'Agile', 'Scrum', 'UI/UX', 'Design', 'Photoshop', 'Illustrator',
                'Marketing', 'SEO', 'Content', 'Writing', 'Editing', 'Management',
                'Leadership', 'Communication', 'Teamwork', 'Problem-solving'
            ];
            
            const skills = new Set();
            skillKeywords.forEach(skill => {
                if (experience.toLowerCase().includes(skill.toLowerCase())) {
                    skills.add(skill);
                }
            });
            
            return Array.from(skills);
        }

        // Show Applicant Details
        function showApplicantDetails() {
            if (!selectedApplicant) return;
            
            const availabilityStatus = getAvailabilityStatus(selectedApplicant.availability);
            
            // Personal Info Tab
            personalDetails.innerHTML = `
                <div class="detail-item">
                    <div class="detail-label">Name</div>
                    <div class="detail-value">
                        <i class="fas fa-user detail-icon"></i>
                        ${selectedApplicant.name || 'N/A'}
                    </div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Email</div>
                    <div class="detail-value">
                        <i class="fas fa-envelope detail-icon"></i>
                        ${selectedApplicant.email || 'N/A'}
                    </div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Phone</div>
                    <div class="detail-value">
                        <i class="fas fa-phone detail-icon"></i>
                        ${selectedApplicant.phone || 'N/A'}
                    </div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Application Date</div>
                    <div class="detail-value">
                        <i class="fas fa-calendar detail-icon"></i>
                        ${selectedApplicant.timestamp ? new Date(selectedApplicant.timestamp).toLocaleString() : 'N/A'}
                    </div>
                </div>
            `;
            
            // Professional Info Tab
            const skills = extractSkills(selectedApplicant.experience);
            
            professionalDetails.innerHTML = `
                <div class="detail-grid">
                    <div class="detail-item">
                        <div class="detail-label">Position</div>
                        <div class="detail-value">
                            <i class="fas fa-briefcase detail-icon"></i>
                            ${selectedApplicant.position || 'N/A'}
                        </div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Portfolio</div>
                        <div class="detail-value">
                            <i class="fas fa-globe detail-icon"></i>
                            ${selectedApplicant.portfolio ? 
                                `<a href="${selectedApplicant.portfolio}" target="_blank" class="text-primary">
                                    ${selectedApplicant.portfolio}
                                    <i class="fas fa-external-link-alt"></i>
                                </a>` : 
                                'Not provided'}
                        </div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Availability</div>
                        <div class="detail-value">
                            <i class="fas ${availabilityStatus.icon} detail-icon"></i>
                            <div>
                                <span class="badge badge-${availabilityStatus.variant} mb-1">
                                    ${availabilityStatus.text}
                                </span>
                                <div class="text-sm">${selectedApplicant.availability || 'Not specified'}</div>
                            </div>
                        </div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Experience</div>
                        <div class="detail-value">
                            <button class="btn btn-outline btn-sm" id="viewExperienceFromDetails">
                                <i class="fas fa-eye"></i> View Experience
                            </button>
                        </div>
                    </div>
                </div>
                
                ${skills.length > 0 ? `
                    <div class="detail-section">
                        <div class="detail-section-title">Skills</div>
                        <div class="tags-container">
                            ${skills.map(skill => `
                                <span class="badge badge-primary">${skill}</span>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
            `;
            
            // Additional Info Tab
            additionalDetails.innerHTML = `
                <div class="detail-section">
                    <div class="detail-section-title">Additional Information</div>
                    <div class="p-4 rounded border">
                        <p>${selectedApplicant.additionalInfo || 'No additional information provided.'}</p>
                    </div>
                </div>
            `;
            
            // Show modal
            detailsModalBackdrop.style.display = 'block';
            detailsModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Add event listener to view experience button
            document.getElementById('viewExperienceFromDetails')?.addEventListener('click', () => {
                closeDetailsModal();
                showExperienceDetails();
            });
        }

        // Show Experience Details
        function showExperienceDetails() {
            if (!selectedApplicant) return;
            
            experienceModalTitle.textContent = `${selectedApplicant.name}'s Experience`;
            
            if (!selectedApplicant.experience || selectedApplicant.experience.trim() === '') {
                experienceList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-info-circle empty-state-icon"></i>
                        <p>No experience information provided.</p>
                    </div>
                `;
            } else {
                const experienceItems = parseExperience(selectedApplicant.experience);
                
                if (experienceItems.length > 0) {
                    experienceList.innerHTML = experienceItems.map(exp => `
                        <div class="experience-card">
                            ${exp.title ? `<div class="experience-title">${exp.title}</div>` : ''}
                            ${exp.company ? `<div class="experience-company">${exp.company}</div>` : ''}
                            <div class="experience-description">${exp.description}</div>
                        </div>
                    `).join('');
                } else {
                    experienceList.innerHTML = `
                        <div class="experience-card">
                            <div class="experience-description">${selectedApplicant.experience}</div>
                        </div>
                    `;
                }
            }
            
            // Show modal
            experienceModalBackdrop.style.display = 'block';
            experienceModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Show Delete Confirmation
        function showDeleteConfirmation() {
            if (!applicantToDelete) return;
            
            deleteApplicantInfo.innerHTML = `
                <div class="card-content">
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Name</div>
                            <div class="font-medium">${applicantToDelete.name || 'N/A'}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Email</div>
                            <div class="font-medium">${applicantToDelete.email || 'N/A'}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Position</div>
                            <div class="font-medium">${applicantToDelete.position || 'N/A'}</div>
                        </div>
                    </div>
                </div>
            `;
            
            // Show modal
            deleteModalBackdrop.style.display = 'block';
            deleteModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Delete Application
        async function deleteApplication() {
            if (!applicantToDelete) return;
            
            try {
                const applicationRef = ref(database, `applications/${applicantToDelete.id}`);
                await remove(applicationRef);
                
                showToast("Success", `Application for ${applicantToDelete.name} has been deleted successfully.`, "success");
                
                // Remove from local array
                allApplicants = allApplicants.filter(app => app.id !== applicantToDelete.id);
                filterApplicants();
                updateStats();
                
                closeDeleteModal();
            } catch (error) {
                console.error("Error deleting application:", error);
                showToast("Error", `Error deleting application: ${error.message}`, "error");
            }
        }

        // Update Stats
        function updateStats() {
            if (totalApplicantsElement) {
                totalApplicantsElement.textContent = allApplicants.length;
            }
            
            const uniquePositions = new Set(allApplicants.map(a => a.position).filter(Boolean)).size;
            if (uniquePositionsElement) {
                uniquePositionsElement.textContent = uniquePositions;
            }
            
            if (allApplicants.length > 1) {
                const timestamps = allApplicants.map(a => a.timestamp).filter(Boolean);
                if (timestamps.length > 1) {
                    const oldestTimestamp = Math.min(...timestamps);
                    const newestTimestamp = Math.max(...timestamps);
                    const daysDifference = Math.max(1, (newestTimestamp - oldestTimestamp) / (1000 * 60 * 60 * 24));
                    const rate = (allApplicants.length / daysDifference).toFixed(2);
                    
                    if (applicationRateElement) {
                        applicationRateElement.textContent = `${rate}/day`;
                    }
                } else {
                    if (applicationRateElement) {
                        applicationRateElement.textContent = 'N/A';
                    }
                }
            } else {
                if (applicationRateElement) {
                    applicationRateElement.textContent = 'N/A';
                }
            }
        }

        // Populate Filters
        function populateFilters() {
            const positions = [...new Set(allApplicants.map(a => a.position).filter(Boolean))];
            positionFilter.innerHTML = '<option value="">All Positions</option>' + 
                positions.map(p => `<option value="${p}">${p}</option>`).join('');
        }

        // Export to CSV
        function exportToCSV() {
            const headers = ['Name', 'Email', 'Phone', 'Position', 'Portfolio', 'Availability', 'Experience', 'Application Date'];
            const csvContent = [
                headers.join(','),
                ...allApplicants.map(applicant => [
                    applicant.name || '',
                    applicant.email || '',
                    applicant.phone || '',
                    applicant.position || '',
                    applicant.portfolio || '',
                    applicant.availability || '',
                    applicant.experience || '',
                    applicant.timestamp ? new Date(applicant.timestamp).toLocaleString() : ''
                ].map(cell => `"${String(cell).replace(/"/g, '""')}"`).join(','))
            ].join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            if (link.download !== undefined) {
                const url = URL.createObjectURL(blob);
                link.setAttribute("href", url);
                link.setAttribute("download", `silakbo_applicants_${new Date().toISOString().slice(0,10)}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showToast("Export Successful", "CSV file exported successfully!", "success");
            }
        }

        // Close Details Modal
        function closeDetailsModal() {
            detailsModalBackdrop.style.display = 'none';
            detailsModal.style.display = 'none';
            document.body.style.overflow = '';
        }

        // Close Experience Modal
        function closeExperienceModal() {
            experienceModalBackdrop.style.display = 'none';
            experienceModal.style.display = 'none';
            document.body.style.overflow = '';
        }

        // Close Delete Modal
        function closeDeleteModal() {
            deleteModalBackdrop.style.display = 'none';
            deleteModal.style.display = 'none';
            document.body.style.overflow = '';
            applicantToDelete = null;
        }

        // Event Listeners
        searchInput.addEventListener('input', () => {
            filterApplicants();
        });

        positionFilter.addEventListener('change', filterApplicants);
        experienceFilter.addEventListener('change', filterApplicants);
        availabilityFilter.addEventListener('change', filterApplicants);
        resetFiltersBtn.addEventListener('click', resetFilters);
        
        exportBtn.addEventListener('click', exportToCSV);
        
        detailsModalClose.addEventListener('click', closeDetailsModal);
        closeDetailsBtn.addEventListener('click', closeDetailsModal);
        detailsModalBackdrop.addEventListener('click', closeDetailsModal);
        
        experienceModalClose.addEventListener('click', closeExperienceModal);
        closeExperienceBtn.addEventListener('click', closeExperienceModal);
        experienceModalBackdrop.addEventListener('click', closeExperienceModal);
        
        deleteModalClose.addEventListener('click', closeDeleteModal);
        cancelDeleteBtn.addEventListener('click', closeDeleteModal);
        deleteModalBackdrop.addEventListener('click', closeDeleteModal);
        confirmDeleteBtn.addEventListener('click', deleteApplication);
        
        downloadResumeBtn.addEventListener('click', () => {
            showToast("Not Implemented", "Resume download functionality not implemented yet.", "warning");
        });

        prevPageBtn.addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                updateApplicantCards();
                window.scrollTo(0, 0);
            }
        });
        
        nextPageBtn.addEventListener('click', () => {
            const totalPages = Math.ceil(filteredApplicants.length / itemsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                updateApplicantCards();
                window.scrollTo(0, 0);
            }
        });

        // Show/hide scroll to top button based on scroll position
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                scrollTopBtn.style.display = 'flex';
            } else {
                scrollTopBtn.style.display = 'none';
            }
        });

        // Initialize scroll button visibility
        scrollTopBtn.style.display = 'none';

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth < 768) {
                filterPanel.classList.add('collapsed');
                isFilterPanelOpen = false;
                const icon = filterToggle.querySelector('i');
                icon.classList.remove('fa-filter');
                icon.classList.add('fa-chevron-right');
            }
        });

        // Initialize filter panel state on mobile
        if (window.innerWidth < 768) {
            filterPanel.classList.add('collapsed');
            isFilterPanelOpen = false;
            const icon = filterToggle.querySelector('i');
            icon.classList.remove('fa-filter');
            icon.classList.add('fa-chevron-right');
        }
    </script>
</body>
</html>
